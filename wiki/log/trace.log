2025-08-25 01:00:33.385 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.2.Final
2025-08-25 01:00:33.424 INFO  com.matt.wiki.WikiApplication                     :53   [32m                  [0;39m Starting WikiApplication using Java 20.0.1 with PID 76163 (/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 01:00:33.425 INFO  com.matt.wiki.WikiApplication                     :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 01:00:33.451 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :252  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-25 01:00:33.451 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :252  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-25 01:00:33.868 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 01:00:33.870 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 01:00:33.886 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-08-25 01:00:34.253 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :111  [32m                  [0;39m Tomcat initialized with port 8080 (http)
2025-08-25 01:00:34.259 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2025-08-25 01:00:34.260 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Starting service [Tomcat]
2025-08-25 01:00:34.260 INFO  org.apache.catalina.core.StandardEngine           :168  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-25 01:00:34.274 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :168  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-08-25 01:00:34.274 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :301  [32m                  [0;39m Root WebApplicationContext: initialization completed in 822 ms
2025-08-25 01:00:34.964 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2025-08-25 01:00:34.978 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2025-08-25 01:00:34.983 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :243  [32m                  [0;39m Tomcat started on port 8080 (http) with context path '/'
2025-08-25 01:00:34.991 INFO  com.matt.wiki.WikiApplication                     :59   [32m                  [0;39m Started WikiApplication in 1.895 seconds (process running for 2.326)
2025-08-25 01:00:34.992 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m Start Successful
2025-08-25 01:00:34.992 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m 地址:	http://127.0.0.1:8080
2025-08-25 01:01:00.008 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614836564165529600[0;39m 生成今日电子书快照开始
2025-08-25 01:01:00.026 INFO  com.zaxxer.hikari.HikariDataSource                :109  [32m614836564165529600[0;39m HikariPool-1 - Starting...
2025-08-25 01:01:03.536 INFO  com.zaxxer.hikari.pool.HikariPool                 :575  [32m614836564165529600[0;39m HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@105c647b
2025-08-25 01:01:03.537 INFO  com.zaxxer.hikari.HikariDataSource                :122  [32m614836564165529600[0;39m HikariPool-1 - Start completed.
2025-08-25 01:01:03.541 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614836564165529600[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:01:03.553 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614836564165529600[0;39m ==> Parameters: 
2025-08-25 01:01:03.735 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :168  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-25 01:01:03.736 INFO  org.springframework.web.servlet.DispatcherServlet :532  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2025-08-25 01:01:03.736 INFO  org.springframework.web.servlet.DispatcherServlet :554  [32m                  [0;39m Completed initialization in 0 ms
2025-08-25 01:01:03.754 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m                  [0;39m 有新连接：token：jf6MartypJ，session id：0，当前连接数：1
2025-08-25 01:01:03.791 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836580028387330[0;39m ------------- 开始 -------------
2025-08-25 01:01:03.791 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836580028387329[0;39m ------------- 开始 -------------
2025-08-25 01:01:03.791 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836580028387328[0;39m ------------- 开始 -------------
2025-08-25 01:01:03.791 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836580028387328[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 01:01:03.791 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836580028387330[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 01:01:03.791 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836580028387328[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 01:01:03.791 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836580028387329[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 01:01:03.792 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836580028387330[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 01:01:03.792 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836580028387329[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 01:01:03.792 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836580028387330[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:01:03.792 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836580028387328[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:01:03.792 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836580028387329[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:01:03.818 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836580028387328[0;39m 请求参数: []
2025-08-25 01:01:03.818 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836580028387330[0;39m 请求参数: []
2025-08-25 01:01:03.818 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836580028387329[0;39m 请求参数: []
2025-08-25 01:01:04.160 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614836564165529600[0;39m <==    Updates: 0
2025-08-25 01:01:04.162 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614836564165529600[0;39m 生成今日电子书快照结束，耗时：4153毫秒
2025-08-25 01:01:04.162 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614836580028387328[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:01:04.163 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614836580028387328[0;39m ==> Parameters: 
2025-08-25 01:01:04.163 INFO  com.matt.wiki.job.DocJob                          :30   [32m614836581592862720[0;39m 更新电子书下的文档数据开始
2025-08-25 01:01:04.446 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614836580028387328[0;39m <==      Total: 0
2025-08-25 01:01:04.448 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614836580028387330[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:01:04.448 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614836580028387330[0;39m ==> Parameters: 
2025-08-25 01:01:04.462 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614836580028387328[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 01:01:04.462 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614836580028387328[0;39m ------------- 结束 耗时：672 ms -------------
2025-08-25 01:01:04.714 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614836580028387330[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 01:01:04.715 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614836580028387330[0;39m <==        Row: 2025-08-25, 31, 14, 31, 14
2025-08-25 01:01:04.719 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614836580028387330[0;39m <==      Total: 1
2025-08-25 01:01:04.720 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614836580028387329[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 01:01:04.720 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614836580028387329[0;39m ==> Parameters: 
2025-08-25 01:01:04.724 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614836580028387330[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":31,"viewIncrease":31,"voteCount":14,"voteIncrease":14}],"success":true}
2025-08-25 01:01:04.724 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614836580028387330[0;39m ------------- 结束 耗时：934 ms -------------
2025-08-25 01:01:04.997 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==    Columns: id, parent, name, sort
2025-08-25 01:01:04.997 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 01:01:04.998 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 01:01:04.998 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 01:01:04.998 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 01:01:04.998 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 01:01:04.999 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 01:01:04.999 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 01:01:04.999 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 01:01:04.999 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 01:01:04.999 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 01:01:04.999 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 01:01:04.999 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 01:01:04.999 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 01:01:05.000 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 01:01:05.000 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 01:01:05.000 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836580028387329[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 01:01:05.000 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614836580028387329[0;39m <==      Total: 16
2025-08-25 01:01:05.000 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614836581592862720[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:01:05.000 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614836581592862720[0;39m ==> Parameters: 
2025-08-25 01:01:05.003 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614836580028387329[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 01:01:05.004 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614836580028387329[0;39m ------------- 结束 耗时：1214 ms -------------
2025-08-25 01:01:05.532 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614836581592862720[0;39m <==    Updates: 1
2025-08-25 01:01:05.533 INFO  com.matt.wiki.job.DocJob                          :33   [32m614836581592862720[0;39m 更新电子书下的文档数据结束，耗时：1370毫秒
2025-08-25 01:01:06.730 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836592359641088[0;39m ------------- 开始 -------------
2025-08-25 01:01:06.731 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836592359641088[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 01:01:06.731 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836592359641088[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 01:01:06.731 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836592359641088[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:01:06.732 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836592359641088[0;39m 请求参数: [{"category2Id":101,"page":1,"size":1000}]
2025-08-25 01:01:07.020 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614836592359641088[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-08-25 01:01:07.023 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614836592359641088[0;39m ==> Parameters: 101(Long)
2025-08-25 01:01:07.274 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614836592359641088[0;39m <==    Columns: count(0)
2025-08-25 01:01:07.274 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614836592359641088[0;39m <==        Row: 0
2025-08-25 01:01:07.275 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614836592359641088[0;39m <==      Total: 1
2025-08-25 01:01:07.277 INFO  com.matt.wiki.service.EbookService                :49   [32m614836592359641088[0;39m 总行数: 0
2025-08-25 01:01:07.277 INFO  com.matt.wiki.service.EbookService                :50   [32m614836592359641088[0;39m 总页数:0
2025-08-25 01:01:07.280 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614836592359641088[0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2025-08-25 01:01:07.280 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614836592359641088[0;39m ------------- 结束 耗时：550 ms -------------
2025-08-25 01:01:08.330 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836599070527488[0;39m ------------- 开始 -------------
2025-08-25 01:01:08.330 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836599070527488[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 01:01:08.330 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836599070527488[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 01:01:08.330 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836599070527488[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:01:08.331 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836599070527488[0;39m 请求参数: [{"category2Id":102,"page":1,"size":1000}]
2025-08-25 01:01:08.587 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614836599070527488[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-08-25 01:01:08.587 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614836599070527488[0;39m ==> Parameters: 102(Long)
2025-08-25 01:01:08.842 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614836599070527488[0;39m <==    Columns: count(0)
2025-08-25 01:01:08.842 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614836599070527488[0;39m <==        Row: 0
2025-08-25 01:01:08.842 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614836599070527488[0;39m <==      Total: 1
2025-08-25 01:01:08.843 INFO  com.matt.wiki.service.EbookService                :49   [32m614836599070527488[0;39m 总行数: 0
2025-08-25 01:01:08.843 INFO  com.matt.wiki.service.EbookService                :50   [32m614836599070527488[0;39m 总页数:0
2025-08-25 01:01:08.843 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614836599070527488[0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2025-08-25 01:01:08.843 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614836599070527488[0;39m ------------- 结束 耗时：513 ms -------------
2025-08-25 01:01:11.937 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836614199382016[0;39m ------------- 开始 -------------
2025-08-25 01:01:11.937 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836614199382016[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 01:01:11.937 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836614199382016[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 01:01:11.937 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836614199382016[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:01:11.938 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836614199382016[0;39m 请求参数: [{"loginName":"test"}]
2025-08-25 01:01:12.191 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614836614199382016[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 01:01:12.193 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614836614199382016[0;39m ==> Parameters: test(String)
2025-08-25 01:01:12.506 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614836614199382016[0;39m <==      Total: 0
2025-08-25 01:01:12.507 WARN  com.matt.wiki.service.UserService                 :129  [32m614836614199382016[0;39m User not found for login name: test
2025-08-25 01:01:12.512 WARN  c.matt.wiki.controller.ControllerExceptionHandler :44   [32m614836614199382016[0;39m 业务异常：用户名不存在或密码错误
2025-08-25 01:01:12.514 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :254  [32m614836614199382016[0;39m Resolved [com.matt.wiki.exception.BusinessException: 用户名不存在或密码错误]
2025-08-25 01:01:16.858 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836634839552000[0;39m ------------- 开始 -------------
2025-08-25 01:01:16.858 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836634839552000[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 01:01:16.859 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836634843746304[0;39m ------------- 开始 -------------
2025-08-25 01:01:16.858 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836634839552001[0;39m ------------- 开始 -------------
2025-08-25 01:01:16.859 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836634843746304[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 01:01:16.859 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836634839552001[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 01:01:16.859 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836634843746304[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 01:01:16.859 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836634839552001[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 01:01:16.859 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836634843746304[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:01:16.859 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836634839552001[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:01:16.859 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836634843746304[0;39m 请求参数: []
2025-08-25 01:01:16.859 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836634839552000[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 01:01:16.859 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836634839552000[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:01:16.860 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836634839552000[0;39m 请求参数: []
2025-08-25 01:01:16.859 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836634839552001[0;39m 请求参数: []
2025-08-25 01:01:17.100 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614836634839552001[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:01:17.101 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614836634839552001[0;39m ==> Parameters: 
2025-08-25 01:01:17.111 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614836634839552000[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 01:01:17.111 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614836634839552000[0;39m ==> Parameters: 
2025-08-25 01:01:17.112 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614836634843746304[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:01:17.113 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614836634843746304[0;39m ==> Parameters: 
2025-08-25 01:01:17.340 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614836634839552001[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 01:01:17.341 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614836634839552001[0;39m <==        Row: 2025-08-25, 31, 14, 31, 14
2025-08-25 01:01:17.341 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614836634839552001[0;39m <==      Total: 1
2025-08-25 01:01:17.342 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614836634839552001[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":31,"viewIncrease":31,"voteCount":14,"voteIncrease":14}],"success":true}
2025-08-25 01:01:17.342 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614836634839552001[0;39m ------------- 结束 耗时：484 ms -------------
2025-08-25 01:01:17.360 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==    Columns: id, parent, name, sort
2025-08-25 01:01:17.360 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 01:01:17.361 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 01:01:17.361 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 01:01:17.361 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 01:01:17.361 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 01:01:17.361 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 01:01:17.362 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 01:01:17.362 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 01:01:17.362 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 01:01:17.362 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 01:01:17.362 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 01:01:17.363 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 01:01:17.363 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 01:01:17.363 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 01:01:17.363 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 01:01:17.363 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836634839552000[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 01:01:17.363 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614836634839552000[0;39m <==      Total: 16
2025-08-25 01:01:17.364 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614836634839552000[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 01:01:17.364 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614836634843746304[0;39m <==      Total: 0
2025-08-25 01:01:17.364 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614836634839552000[0;39m ------------- 结束 耗时：506 ms -------------
2025-08-25 01:01:17.365 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614836634843746304[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 01:01:17.365 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614836634843746304[0;39m ------------- 结束 耗时：507 ms -------------
2025-08-25 01:01:22.737 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836659497865217[0;39m ------------- 开始 -------------
2025-08-25 01:01:22.737 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836659497865216[0;39m ------------- 开始 -------------
2025-08-25 01:01:22.737 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836659497865218[0;39m ------------- 开始 -------------
2025-08-25 01:01:22.737 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836659497865217[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 01:01:22.737 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836659497865217[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 01:01:22.737 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836659497865218[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 01:01:22.738 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836659497865217[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:01:22.738 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836659497865218[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 01:01:22.737 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836659497865216[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 01:01:22.738 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836659497865217[0;39m 请求参数: []
2025-08-25 01:01:22.738 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836659497865216[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 01:01:22.738 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836659497865218[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:01:22.738 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836659497865216[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:01:22.738 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836659497865218[0;39m 请求参数: []
2025-08-25 01:01:22.738 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836659497865216[0;39m 请求参数: []
2025-08-25 01:01:23.055 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614836659497865217[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 01:01:23.055 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614836659497865216[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:01:23.055 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614836659497865218[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:01:23.056 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614836659497865217[0;39m ==> Parameters: 
2025-08-25 01:01:23.056 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614836659497865216[0;39m ==> Parameters: 
2025-08-25 01:01:23.056 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614836659497865218[0;39m ==> Parameters: 
2025-08-25 01:01:23.361 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614836659497865218[0;39m <==      Total: 0
2025-08-25 01:01:23.361 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==    Columns: id, parent, name, sort
2025-08-25 01:01:23.361 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614836659497865216[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 01:01:23.362 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 01:01:23.362 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614836659497865216[0;39m <==        Row: 2025-08-25, 31, 14, 31, 14
2025-08-25 01:01:23.362 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614836659497865218[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 01:01:23.362 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614836659497865218[0;39m ------------- 结束 耗时：625 ms -------------
2025-08-25 01:01:23.362 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 01:01:23.363 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614836659497865216[0;39m <==      Total: 1
2025-08-25 01:01:23.363 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 01:01:23.363 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614836659497865216[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":31,"viewIncrease":31,"voteCount":14,"voteIncrease":14}],"success":true}
2025-08-25 01:01:23.363 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614836659497865216[0;39m ------------- 结束 耗时：626 ms -------------
2025-08-25 01:01:23.363 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 01:01:23.363 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 01:01:23.364 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 01:01:23.364 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 01:01:23.364 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 01:01:23.364 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 01:01:23.364 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 01:01:23.364 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 01:01:23.364 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 01:01:23.365 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 01:01:23.365 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 01:01:23.365 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 01:01:23.365 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836659497865217[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 01:01:23.365 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614836659497865217[0;39m <==      Total: 16
2025-08-25 01:01:23.366 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614836659497865217[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 01:01:23.366 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614836659497865217[0;39m ------------- 结束 耗时：629 ms -------------
2025-08-25 01:01:30.076 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836690279862272[0;39m ------------- 开始 -------------
2025-08-25 01:01:30.077 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836690279862272[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 01:01:30.077 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836690279862272[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 01:01:30.077 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836690279862272[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:01:30.078 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836690279862272[0;39m 请求参数: [{"loginName":"admin"}]
2025-08-25 01:01:30.407 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614836690279862272[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 01:01:30.407 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614836690279862272[0;39m ==> Parameters: admin(String)
2025-08-25 01:01:30.660 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614836690279862272[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:01:30.662 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614836690279862272[0;39m <==        Row: 1, admin, 测试, 123456
2025-08-25 01:01:30.663 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614836690279862272[0;39m <==      Total: 1
2025-08-25 01:01:30.664 WARN  com.matt.wiki.service.UserService                 :138  [32m614836690279862272[0;39m 密码不对，输入密码：fb09b64e309e1c33e7cf8cfe99b07bd5, 数据库密码：123456
2025-08-25 01:01:30.666 WARN  c.matt.wiki.controller.ControllerExceptionHandler :44   [32m614836690279862272[0;39m 业务异常：用户名不存在或密码错误
2025-08-25 01:01:30.668 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :254  [32m614836690279862272[0;39m Resolved [com.matt.wiki.exception.BusinessException: 用户名不存在或密码错误]
2025-08-25 01:02:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614836815811186688[0;39m 生成今日电子书快照开始
2025-08-25 01:02:00.256 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614836815811186688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:02:00.257 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614836815811186688[0;39m ==> Parameters: 
2025-08-25 01:02:00.823 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614836815811186688[0;39m <==    Updates: 0
2025-08-25 01:02:00.824 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614836815811186688[0;39m 生成今日电子书快照结束，耗时：818毫秒
2025-08-25 01:02:00.824 INFO  com.matt.wiki.job.DocJob                          :30   [32m614836819246321664[0;39m 更新电子书下的文档数据开始
2025-08-25 01:02:00.825 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614836819246321664[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:02:00.825 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614836819246321664[0;39m ==> Parameters: 
2025-08-25 01:02:01.534 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614836819246321664[0;39m <==    Updates: 1
2025-08-25 01:02:01.535 INFO  com.matt.wiki.job.DocJob                          :33   [32m614836819246321664[0;39m 更新电子书下的文档数据结束，耗时：711毫秒
2025-08-25 01:02:03.907 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836832177360896[0;39m ------------- 开始 -------------
2025-08-25 01:02:03.908 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836832177360896[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 01:02:03.908 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836832177360896[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 01:02:03.908 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836832177360896[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:02:03.908 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836832177360896[0;39m 请求参数: [{"loginName":"admin"}]
2025-08-25 01:02:04.223 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614836832177360896[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 01:02:04.224 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614836832177360896[0;39m ==> Parameters: admin(String)
2025-08-25 01:02:04.606 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614836832177360896[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:02:04.611 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614836832177360896[0;39m <==        Row: 1, admin, 测试, 123456
2025-08-25 01:02:04.612 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614836832177360896[0;39m <==      Total: 1
2025-08-25 01:02:04.613 WARN  com.matt.wiki.service.UserService                 :138  [32m614836832177360896[0;39m 密码不对，输入密码：fb09b64e309e1c33e7cf8cfe99b07bd5, 数据库密码：123456
2025-08-25 01:02:04.614 WARN  c.matt.wiki.controller.ControllerExceptionHandler :44   [32m614836832177360896[0;39m 业务异常：用户名不存在或密码错误
2025-08-25 01:02:04.615 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :254  [32m614836832177360896[0;39m Resolved [com.matt.wiki.exception.BusinessException: 用户名不存在或密码错误]
2025-08-25 01:02:06.649 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m                  [0;39m 连接关闭，token：jf6MartypJ，session id：0！当前连接数：0
2025-08-25 01:02:06.961 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614836614199382016[0;39m 有新连接：token：1z9VCAg0z1，session id：1，当前连接数：1
2025-08-25 01:02:06.991 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836845112594434[0;39m ------------- 开始 -------------
2025-08-25 01:02:06.991 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836845112594433[0;39m ------------- 开始 -------------
2025-08-25 01:02:06.991 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614836845112594432[0;39m ------------- 开始 -------------
2025-08-25 01:02:06.992 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836845112594432[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 01:02:06.992 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836845112594433[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 01:02:06.992 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614836845112594434[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 01:02:06.992 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836845112594432[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 01:02:06.992 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836845112594433[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 01:02:06.992 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614836845112594434[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 01:02:06.992 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836845112594432[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:02:06.992 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836845112594434[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:02:06.992 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614836845112594433[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:02:06.992 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836845112594432[0;39m 请求参数: []
2025-08-25 01:02:06.992 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836845112594434[0;39m 请求参数: []
2025-08-25 01:02:06.992 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614836845112594433[0;39m 请求参数: []
2025-08-25 01:02:07.233 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614836845112594432[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:02:07.234 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614836845112594432[0;39m ==> Parameters: 
2025-08-25 01:02:07.244 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614836845112594433[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 01:02:07.244 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614836845112594433[0;39m ==> Parameters: 
2025-08-25 01:02:07.246 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614836845112594434[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:02:07.246 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614836845112594434[0;39m ==> Parameters: 
2025-08-25 01:02:07.472 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614836845112594432[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 01:02:07.473 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614836845112594432[0;39m <==        Row: 2025-08-25, 31, 14, 31, 14
2025-08-25 01:02:07.473 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614836845112594432[0;39m <==      Total: 1
2025-08-25 01:02:07.474 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614836845112594432[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":31,"viewIncrease":31,"voteCount":14,"voteIncrease":14}],"success":true}
2025-08-25 01:02:07.474 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614836845112594432[0;39m ------------- 结束 耗时：483 ms -------------
2025-08-25 01:02:07.494 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==    Columns: id, parent, name, sort
2025-08-25 01:02:07.495 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 01:02:07.495 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 01:02:07.495 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 01:02:07.495 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 01:02:07.495 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 01:02:07.495 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 01:02:07.495 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 01:02:07.496 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 01:02:07.496 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 01:02:07.496 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 01:02:07.496 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 01:02:07.496 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 01:02:07.498 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 01:02:07.498 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614836845112594434[0;39m <==      Total: 0
2025-08-25 01:02:07.498 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 01:02:07.498 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614836845112594434[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 01:02:07.498 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614836845112594434[0;39m ------------- 结束 耗时：507 ms -------------
2025-08-25 01:02:07.498 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 01:02:07.499 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614836845112594433[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 01:02:07.499 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614836845112594433[0;39m <==      Total: 16
2025-08-25 01:02:07.500 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614836845112594433[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 01:02:07.500 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614836845112594433[0;39m ------------- 结束 耗时：509 ms -------------
2025-08-25 01:03:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614837067448455168[0;39m 生成今日电子书快照开始
2025-08-25 01:03:00.252 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614837067448455168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:03:00.253 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614837067448455168[0;39m ==> Parameters: 
2025-08-25 01:03:00.788 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614837067448455168[0;39m <==    Updates: 0
2025-08-25 01:03:00.789 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614837067448455168[0;39m 生成今日电子书快照结束，耗时：787毫秒
2025-08-25 01:03:00.789 INFO  com.matt.wiki.job.DocJob                          :30   [32m614837070757761024[0;39m 更新电子书下的文档数据开始
2025-08-25 01:03:00.790 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614837070757761024[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:03:00.790 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614837070757761024[0;39m ==> Parameters: 
2025-08-25 01:03:01.460 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614837070757761024[0;39m <==    Updates: 1
2025-08-25 01:03:01.460 INFO  com.matt.wiki.job.DocJob                          :33   [32m614837070757761024[0;39m 更新电子书下的文档数据结束，耗时：671毫秒
2025-08-25 01:04:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614837319127666688[0;39m 更新电子书下的文档数据开始
2025-08-25 01:04:00.258 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614837319127666688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:04:00.258 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614837319127666688[0;39m ==> Parameters: 
2025-08-25 01:04:00.804 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614837319127666688[0;39m <==    Updates: 1
2025-08-25 01:04:00.804 INFO  com.matt.wiki.job.DocJob                          :33   [32m614837319127666688[0;39m 更新电子书下的文档数据结束，耗时：798毫秒
2025-08-25 01:04:00.805 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614837322483109888[0;39m 生成今日电子书快照开始
2025-08-25 01:04:00.805 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614837322483109888[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:04:00.806 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614837322483109888[0;39m ==> Parameters: 
2025-08-25 01:04:01.570 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614837322483109888[0;39m <==    Updates: 0
2025-08-25 01:04:01.571 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614837322483109888[0;39m 生成今日电子书快照结束，耗时：766毫秒
2025-08-25 01:04:03.679 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614836690279862272[0;39m 连接关闭，token：1z9VCAg0z1，session id：1！当前连接数：0
2025-08-25 01:04:04.716 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614836832177360896[0;39m 有新连接：token：tcZse0EwNA，session id：2，当前连接数：1
2025-08-25 01:04:04.758 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614837339063193601[0;39m ------------- 开始 -------------
2025-08-25 01:04:04.758 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614837339063193600[0;39m ------------- 开始 -------------
2025-08-25 01:04:04.758 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614837339063193601[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 01:04:04.758 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614837339063193600[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 01:04:04.758 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614837339063193601[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 01:04:04.759 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614837339063193601[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:04:04.759 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614837339063193601[0;39m 请求参数: []
2025-08-25 01:04:04.760 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614837339071582208[0;39m ------------- 开始 -------------
2025-08-25 01:04:04.760 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614837339071582208[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 01:04:04.760 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614837339071582208[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 01:04:04.759 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614837339063193600[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 01:04:04.760 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614837339071582208[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:04:04.760 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614837339063193600[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:04:04.760 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614837339071582208[0;39m 请求参数: []
2025-08-25 01:04:04.760 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614837339063193600[0;39m 请求参数: []
2025-08-25 01:04:05.052 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614837339063193600[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 01:04:05.052 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614837339071582208[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:04:05.052 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614837339063193601[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:04:05.052 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614837339063193600[0;39m ==> Parameters: 
2025-08-25 01:04:05.052 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614837339071582208[0;39m ==> Parameters: 
2025-08-25 01:04:05.052 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614837339063193601[0;39m ==> Parameters: 
2025-08-25 01:04:05.358 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==    Columns: id, parent, name, sort
2025-08-25 01:04:05.358 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614837339063193601[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 01:04:05.358 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614837339071582208[0;39m <==      Total: 0
2025-08-25 01:04:05.359 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 01:04:05.359 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614837339063193601[0;39m <==        Row: 2025-08-25, 31, 14, 31, 14
2025-08-25 01:04:05.359 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614837339071582208[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 01:04:05.359 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 01:04:05.359 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614837339071582208[0;39m ------------- 结束 耗时：599 ms -------------
2025-08-25 01:04:05.359 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614837339063193601[0;39m <==      Total: 1
2025-08-25 01:04:05.359 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 01:04:05.360 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 01:04:05.360 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614837339063193601[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":31,"viewIncrease":31,"voteCount":14,"voteIncrease":14}],"success":true}
2025-08-25 01:04:05.360 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614837339063193601[0;39m ------------- 结束 耗时：602 ms -------------
2025-08-25 01:04:05.360 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 01:04:05.360 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 01:04:05.360 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 01:04:05.360 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 01:04:05.360 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 01:04:05.361 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 01:04:05.361 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 01:04:05.361 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 01:04:05.362 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 01:04:05.362 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 01:04:05.362 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 01:04:05.362 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614837339063193600[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 01:04:05.362 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614837339063193600[0;39m <==      Total: 16
2025-08-25 01:04:05.363 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614837339063193600[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 01:04:05.363 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614837339063193600[0;39m ------------- 结束 耗时：605 ms -------------
2025-08-25 01:04:10.947 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614837365021741056[0;39m ------------- 开始 -------------
2025-08-25 01:04:10.949 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614837365021741056[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 01:04:10.949 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614837365021741056[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 01:04:10.950 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614837365021741056[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:04:10.950 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614837365021741056[0;39m 请求参数: [{"category2Id":101,"page":1,"size":1000}]
2025-08-25 01:04:11.297 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614837365021741056[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-08-25 01:04:11.298 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614837365021741056[0;39m ==> Parameters: 101(Long)
2025-08-25 01:04:11.549 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614837365021741056[0;39m <==    Columns: count(0)
2025-08-25 01:04:11.549 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614837365021741056[0;39m <==        Row: 0
2025-08-25 01:04:11.549 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614837365021741056[0;39m <==      Total: 1
2025-08-25 01:04:11.550 INFO  com.matt.wiki.service.EbookService                :49   [32m614837365021741056[0;39m 总行数: 0
2025-08-25 01:04:11.550 INFO  com.matt.wiki.service.EbookService                :50   [32m614837365021741056[0;39m 总页数:0
2025-08-25 01:04:11.550 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614837365021741056[0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2025-08-25 01:04:11.550 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614837365021741056[0;39m ------------- 结束 耗时：603 ms -------------
2025-08-25 01:04:14.728 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614837380880404480[0;39m ------------- 开始 -------------
2025-08-25 01:04:14.729 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614837380880404480[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 01:04:14.729 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614837380880404480[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 01:04:14.729 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614837380880404480[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:04:14.729 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614837380880404480[0;39m 请求参数: [{"category2Id":102,"page":1,"size":1000}]
2025-08-25 01:04:15.013 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614837380880404480[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-08-25 01:04:15.014 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614837380880404480[0;39m ==> Parameters: 102(Long)
2025-08-25 01:04:15.291 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614837380880404480[0;39m <==    Columns: count(0)
2025-08-25 01:04:15.291 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614837380880404480[0;39m <==        Row: 0
2025-08-25 01:04:15.291 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614837380880404480[0;39m <==      Total: 1
2025-08-25 01:04:15.292 INFO  com.matt.wiki.service.EbookService                :49   [32m614837380880404480[0;39m 总行数: 0
2025-08-25 01:04:15.292 INFO  com.matt.wiki.service.EbookService                :50   [32m614837380880404480[0;39m 总页数:0
2025-08-25 01:04:15.292 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614837380880404480[0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2025-08-25 01:04:15.292 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614837380880404480[0;39m ------------- 结束 耗时：564 ms -------------
2025-08-25 01:04:19.015 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614837398861385728[0;39m ------------- 开始 -------------
2025-08-25 01:04:19.015 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614837398861385728[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 01:04:19.015 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614837398861385728[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 01:04:19.015 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614837398861385728[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:04:19.015 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614837398861385728[0;39m 请求参数: [{"loginName":"test"}]
2025-08-25 01:04:19.285 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837398861385728[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 01:04:19.286 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837398861385728[0;39m ==> Parameters: test(String)
2025-08-25 01:04:19.592 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614837398861385728[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:04:19.593 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614837398861385728[0;39m <==        Row: 2, test, test, test
2025-08-25 01:04:19.593 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837398861385728[0;39m <==      Total: 1
2025-08-25 01:04:19.593 WARN  com.matt.wiki.service.UserService                 :138  [32m614837398861385728[0;39m 密码不对，输入密码：e70e2222a9d67c4f2eae107533359aa4, 数据库密码：test
2025-08-25 01:04:19.594 WARN  c.matt.wiki.controller.ControllerExceptionHandler :44   [32m614837398861385728[0;39m 业务异常：用户名不存在或密码错误
2025-08-25 01:04:19.594 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :254  [32m614837398861385728[0;39m Resolved [com.matt.wiki.exception.BusinessException: 用户名不存在或密码错误]
2025-08-25 01:04:21.013 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614837407241605120[0;39m ------------- 开始 -------------
2025-08-25 01:04:21.013 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614837407241605120[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 01:04:21.014 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614837407241605120[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 01:04:21.014 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614837407241605120[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:04:21.014 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614837407241605120[0;39m 请求参数: [{"loginName":"test"}]
2025-08-25 01:04:21.332 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837407241605120[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 01:04:21.333 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837407241605120[0;39m ==> Parameters: test(String)
2025-08-25 01:04:21.641 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614837407241605120[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:04:21.641 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614837407241605120[0;39m <==        Row: 2, test, test, test
2025-08-25 01:04:21.641 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837407241605120[0;39m <==      Total: 1
2025-08-25 01:04:21.641 WARN  com.matt.wiki.service.UserService                 :138  [32m614837407241605120[0;39m 密码不对，输入密码：51d6a530fa191428c43cd9e916854783, 数据库密码：test
2025-08-25 01:04:21.642 WARN  c.matt.wiki.controller.ControllerExceptionHandler :44   [32m614837407241605120[0;39m 业务异常：用户名不存在或密码错误
2025-08-25 01:04:21.643 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :254  [32m614837407241605120[0;39m Resolved [com.matt.wiki.exception.BusinessException: 用户名不存在或密码错误]
2025-08-25 01:05:00.004 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614837570781712384[0;39m 生成今日电子书快照开始
2025-08-25 01:05:00.256 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614837570781712384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:05:00.257 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614837570781712384[0;39m ==> Parameters: 
2025-08-25 01:05:00.775 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614837570781712384[0;39m <==    Updates: 0
2025-08-25 01:05:00.775 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614837570781712384[0;39m 生成今日电子书快照结束，耗时：770毫秒
2025-08-25 01:05:00.776 INFO  com.matt.wiki.job.DocJob                          :30   [32m614837574019715072[0;39m 更新电子书下的文档数据开始
2025-08-25 01:05:00.776 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614837574019715072[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:05:00.777 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614837574019715072[0;39m ==> Parameters: 
2025-08-25 01:05:01.355 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614837574019715072[0;39m <==    Updates: 1
2025-08-25 01:05:01.356 INFO  com.matt.wiki.job.DocJob                          :33   [32m614837574019715072[0;39m 更新电子书下的文档数据结束，耗时：580毫秒
2025-08-25 01:05:25.109 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614837676079714304[0;39m ------------- 开始 -------------
2025-08-25 01:05:25.110 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614837676079714304[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 01:05:25.110 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614837676079714304[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 01:05:25.110 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614837676079714304[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:05:25.110 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614837676079714304[0;39m 请求参数: [{"loginName":"test"}]
2025-08-25 01:05:25.349 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837676079714304[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 01:05:25.350 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837676079714304[0;39m ==> Parameters: test(String)
2025-08-25 01:05:25.588 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614837676079714304[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:05:25.588 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614837676079714304[0;39m <==        Row: 2, test, test, test
2025-08-25 01:05:25.588 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837676079714304[0;39m <==      Total: 1
2025-08-25 01:05:25.589 WARN  com.matt.wiki.service.UserService                 :138  [32m614837676079714304[0;39m 密码不对，输入密码：e70e2222a9d67c4f2eae107533359aa4, 数据库密码：test
2025-08-25 01:05:25.589 WARN  c.matt.wiki.controller.ControllerExceptionHandler :44   [32m614837676079714304[0;39m 业务异常：用户名不存在或密码错误
2025-08-25 01:05:25.590 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :254  [32m614837676079714304[0;39m Resolved [com.matt.wiki.exception.BusinessException: 用户名不存在或密码错误]
2025-08-25 01:05:29.209 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614837693276360704[0;39m ------------- 开始 -------------
2025-08-25 01:05:29.210 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614837693276360704[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 01:05:29.210 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614837693276360704[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 01:05:29.210 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614837693276360704[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:05:29.211 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614837693276360704[0;39m 请求参数: [{"loginName":"test"}]
2025-08-25 01:05:29.462 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837693276360704[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 01:05:29.462 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837693276360704[0;39m ==> Parameters: test(String)
2025-08-25 01:05:29.713 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614837693276360704[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:05:29.713 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614837693276360704[0;39m <==        Row: 2, test, test, test
2025-08-25 01:05:29.714 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837693276360704[0;39m <==      Total: 1
2025-08-25 01:05:29.714 WARN  com.matt.wiki.service.UserService                 :138  [32m614837693276360704[0;39m 密码不对，输入密码：51d6a530fa191428c43cd9e916854783, 数据库密码：test
2025-08-25 01:05:29.714 WARN  c.matt.wiki.controller.ControllerExceptionHandler :44   [32m614837693276360704[0;39m 业务异常：用户名不存在或密码错误
2025-08-25 01:05:29.715 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :254  [32m614837693276360704[0;39m Resolved [com.matt.wiki.exception.BusinessException: 用户名不存在或密码错误]
2025-08-25 01:05:55.498 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614837803540418560[0;39m ------------- 开始 -------------
2025-08-25 01:05:55.499 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614837803540418560[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 01:05:55.499 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614837803540418560[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 01:05:55.499 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614837803540418560[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:05:55.500 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614837803540418560[0;39m 请求参数: [{"loginName":"test"}]
2025-08-25 01:05:55.749 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837803540418560[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 01:05:55.750 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837803540418560[0;39m ==> Parameters: test(String)
2025-08-25 01:05:56.053 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614837803540418560[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:05:56.053 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614837803540418560[0;39m <==        Row: 2, test, test, test
2025-08-25 01:05:56.054 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837803540418560[0;39m <==      Total: 1
2025-08-25 01:05:56.054 WARN  com.matt.wiki.service.UserService                 :138  [32m614837803540418560[0;39m 密码不对，输入密码：16b7547ffac96fa9af660d3e13a1069f, 数据库密码：test
2025-08-25 01:05:56.054 WARN  c.matt.wiki.controller.ControllerExceptionHandler :44   [32m614837803540418560[0;39m 业务异常：用户名不存在或密码错误
2025-08-25 01:05:56.055 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :254  [32m614837803540418560[0;39m Resolved [com.matt.wiki.exception.BusinessException: 用户名不存在或密码错误]
2025-08-25 01:06:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614837822427369472[0;39m 更新电子书下的文档数据开始
2025-08-25 01:06:00.252 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614837822427369472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:06:00.253 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614837822427369472[0;39m ==> Parameters: 
2025-08-25 01:06:00.775 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614837822427369472[0;39m <==    Updates: 1
2025-08-25 01:06:00.776 INFO  com.matt.wiki.job.DocJob                          :33   [32m614837822427369472[0;39m 更新电子书下的文档数据结束，耗时：775毫秒
2025-08-25 01:06:00.776 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614837825677955072[0;39m 生成今日电子书快照开始
2025-08-25 01:06:00.776 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614837825677955072[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:06:00.777 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614837825677955072[0;39m ==> Parameters: 
2025-08-25 01:06:01.379 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614837825677955072[0;39m <==    Updates: 0
2025-08-25 01:06:01.380 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614837825677955072[0;39m 生成今日电子书快照结束，耗时：604毫秒
2025-08-25 01:06:21.674 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614837913330520064[0;39m ------------- 开始 -------------
2025-08-25 01:06:21.675 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614837913330520064[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 01:06:21.675 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614837913330520064[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 01:06:21.675 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614837913330520064[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:06:21.676 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614837913330520064[0;39m 请求参数: [{"loginName":"test"}]
2025-08-25 01:06:21.930 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837913330520064[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 01:06:21.931 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837913330520064[0;39m ==> Parameters: test(String)
2025-08-25 01:06:22.183 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614837913330520064[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:06:22.183 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614837913330520064[0;39m <==        Row: 2, test, test, test
2025-08-25 01:06:22.183 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614837913330520064[0;39m <==      Total: 1
2025-08-25 01:06:22.183 WARN  com.matt.wiki.service.UserService                 :138  [32m614837913330520064[0;39m 密码不对，输入密码：e70e2222a9d67c4f2eae107533359aa4, 数据库密码：test
2025-08-25 01:06:22.184 WARN  c.matt.wiki.controller.ControllerExceptionHandler :44   [32m614837913330520064[0;39m 业务异常：用户名不存在或密码错误
2025-08-25 01:06:22.184 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :254  [32m614837913330520064[0;39m Resolved [com.matt.wiki.exception.BusinessException: 用户名不存在或密码错误]
2025-08-25 01:07:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614838074102386688[0;39m 更新电子书下的文档数据开始
2025-08-25 01:07:00.258 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614838074102386688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:07:00.259 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614838074102386688[0;39m ==> Parameters: 
2025-08-25 01:07:00.806 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614838074102386688[0;39m <==    Updates: 1
2025-08-25 01:07:00.807 INFO  com.matt.wiki.job.DocJob                          :33   [32m614838074102386688[0;39m 更新电子书下的文档数据结束，耗时：801毫秒
2025-08-25 01:07:00.807 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614838077466218496[0;39m 生成今日电子书快照开始
2025-08-25 01:07:00.807 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614838077466218496[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:07:00.808 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614838077466218496[0;39m ==> Parameters: 
2025-08-25 01:07:01.502 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614838077466218496[0;39m <==    Updates: 0
2025-08-25 01:07:01.503 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614838077466218496[0;39m 生成今日电子书快照结束，耗时：696毫秒
2025-08-25 01:07:28.091 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614838191903608832[0;39m ------------- 开始 -------------
2025-08-25 01:07:28.091 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614838191903608832[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 01:07:28.091 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614838191903608832[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 01:07:28.092 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614838191903608832[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:07:28.092 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614838191903608832[0;39m 请求参数: [{"loginName":"test"}]
2025-08-25 01:07:28.418 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614838191903608832[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 01:07:28.419 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614838191903608832[0;39m ==> Parameters: test(String)
2025-08-25 01:07:28.703 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614838191903608832[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:07:28.703 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614838191903608832[0;39m <==        Row: 2, test, test, test
2025-08-25 01:07:28.703 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614838191903608832[0;39m <==      Total: 1
2025-08-25 01:07:28.703 WARN  com.matt.wiki.service.UserService                 :138  [32m614838191903608832[0;39m 密码不对，输入密码：e70e2222a9d67c4f2eae107533359aa4, 数据库密码：test
2025-08-25 01:07:28.704 WARN  c.matt.wiki.controller.ControllerExceptionHandler :44   [32m614838191903608832[0;39m 业务异常：用户名不存在或密码错误
2025-08-25 01:07:28.704 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :254  [32m614838191903608832[0;39m Resolved [com.matt.wiki.exception.BusinessException: 用户名不存在或密码错误]
2025-08-25 01:08:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614838325760626688[0;39m 更新电子书下的文档数据开始
2025-08-25 01:08:00.265 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614838325760626688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:08:00.265 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614838325760626688[0;39m ==> Parameters: 
2025-08-25 01:08:00.834 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614838325760626688[0;39m <==    Updates: 1
2025-08-25 01:08:00.834 INFO  com.matt.wiki.job.DocJob                          :33   [32m614838325760626688[0;39m 更新电子书下的文档数据结束，耗时：829毫秒
2025-08-25 01:08:00.835 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614838329241899008[0;39m 生成今日电子书快照开始
2025-08-25 01:08:00.835 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614838329241899008[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:08:00.835 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614838329241899008[0;39m ==> Parameters: 
2025-08-25 01:08:01.597 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614838329241899008[0;39m <==    Updates: 0
2025-08-25 01:08:01.598 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614838329241899008[0;39m 生成今日电子书快照结束，耗时：763毫秒
2025-08-25 01:09:00.006 INFO  com.matt.wiki.job.DocJob                          :30   [32m614838577423060992[0;39m 更新电子书下的文档数据开始
2025-08-25 01:09:00.260 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614838577423060992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:09:00.261 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614838577423060992[0;39m ==> Parameters: 
2025-08-25 01:09:00.791 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614838577423060992[0;39m <==    Updates: 1
2025-08-25 01:09:00.792 INFO  com.matt.wiki.job.DocJob                          :33   [32m614838577423060992[0;39m 更新电子书下的文档数据结束，耗时：786毫秒
2025-08-25 01:09:00.792 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614838580719783936[0;39m 生成今日电子书快照开始
2025-08-25 01:09:00.792 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614838580719783936[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:09:00.792 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614838580719783936[0;39m ==> Parameters: 
2025-08-25 01:09:01.387 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614838580719783936[0;39m <==    Updates: 0
2025-08-25 01:09:01.388 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614838580719783936[0;39m 生成今日电子书快照结束，耗时：596毫秒
2025-08-25 01:10:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614838829060329472[0;39m 更新电子书下的文档数据开始
2025-08-25 01:10:00.279 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614838829060329472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:10:00.280 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614838829060329472[0;39m ==> Parameters: 
2025-08-25 01:10:00.815 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614838829060329472[0;39m <==    Updates: 1
2025-08-25 01:10:00.816 INFO  com.matt.wiki.job.DocJob                          :33   [32m614838829060329472[0;39m 更新电子书下的文档数据结束，耗时：815毫秒
2025-08-25 01:10:00.816 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614838832478687232[0;39m 生成今日电子书快照开始
2025-08-25 01:10:00.816 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614838832478687232[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:10:00.817 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614838832478687232[0;39m ==> Parameters: 
2025-08-25 01:10:01.393 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614838832478687232[0;39m <==    Updates: 0
2025-08-25 01:10:01.394 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614838832478687232[0;39m 生成今日电子书快照结束，耗时：578毫秒
2025-08-25 01:11:00.002 INFO  com.matt.wiki.job.DocJob                          :30   [32m614839080722763776[0;39m 更新电子书下的文档数据开始
2025-08-25 01:11:00.285 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614839080722763776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:11:00.287 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614839080722763776[0;39m ==> Parameters: 
2025-08-25 01:11:00.817 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614839080722763776[0;39m <==    Updates: 1
2025-08-25 01:11:00.818 INFO  com.matt.wiki.job.DocJob                          :33   [32m614839080722763776[0;39m 更新电子书下的文档数据结束，耗时：816毫秒
2025-08-25 01:11:00.818 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614839084145315840[0;39m 生成今日电子书快照开始
2025-08-25 01:11:00.818 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614839084145315840[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:11:00.819 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614839084145315840[0;39m ==> Parameters: 
2025-08-25 01:11:01.462 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614839084145315840[0;39m <==    Updates: 0
2025-08-25 01:11:01.463 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614839084145315840[0;39m 生成今日电子书快照结束，耗时：645毫秒
2025-08-25 01:12:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614839332389392384[0;39m 更新电子书下的文档数据开始
2025-08-25 01:12:00.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614839332389392384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:12:00.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614839332389392384[0;39m ==> Parameters: 
2025-08-25 01:12:00.803 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614839332389392384[0;39m <==    Updates: 1
2025-08-25 01:12:00.804 INFO  com.matt.wiki.job.DocJob                          :33   [32m614839332389392384[0;39m 更新电子书下的文档数据结束，耗时：799毫秒
2025-08-25 01:12:00.804 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614839335744835584[0;39m 生成今日电子书快照开始
2025-08-25 01:12:00.804 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614839335744835584[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:12:00.805 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614839335744835584[0;39m ==> Parameters: 
2025-08-25 01:12:01.483 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614839335744835584[0;39m <==    Updates: 0
2025-08-25 01:12:01.484 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614839335744835584[0;39m 生成今日电子书快照结束，耗时：680毫秒
2025-08-25 01:12:51.192 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614839547087425536[0;39m ------------- 开始 -------------
2025-08-25 01:12:51.193 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614839547087425536[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 01:12:51.193 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614839547087425536[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 01:12:51.194 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614839547087425536[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:12:51.194 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614839547087425536[0;39m 请求参数: [{"loginName":"test"}]
2025-08-25 01:12:51.493 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614839547087425536[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 01:12:51.494 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614839547087425536[0;39m ==> Parameters: test(String)
2025-08-25 01:12:51.780 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614839547087425536[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:12:51.781 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614839547087425536[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 01:12:51.781 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614839547087425536[0;39m <==      Total: 1
2025-08-25 01:12:51.781 WARN  com.matt.wiki.service.UserService                 :138  [32m614839547087425536[0;39m 密码不对，输入密码：51d6a530fa191428c43cd9e916854783, 数据库密码：e70e2222a9d67c4f2eae107533359aa4
2025-08-25 01:12:51.782 WARN  c.matt.wiki.controller.ControllerExceptionHandler :44   [32m614839547087425536[0;39m 业务异常：用户名不存在或密码错误
2025-08-25 01:12:51.782 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :254  [32m614839547087425536[0;39m Resolved [com.matt.wiki.exception.BusinessException: 用户名不存在或密码错误]
2025-08-25 01:12:54.188 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614836659497865217[0;39m 连接关闭，token：tcZse0EwNA，session id：2！当前连接数：0
2025-08-25 01:12:55.210 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614836832177360896[0;39m 有新连接：token：yxyz5fYpwf，session id：3，当前连接数：1
2025-08-25 01:12:55.256 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614839564133076992[0;39m ------------- 开始 -------------
2025-08-25 01:12:55.256 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614839564133076993[0;39m ------------- 开始 -------------
2025-08-25 01:12:55.257 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614839564137271296[0;39m ------------- 开始 -------------
2025-08-25 01:12:55.257 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614839564133076992[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 01:12:55.257 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614839564137271296[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 01:12:55.257 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614839564133076992[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 01:12:55.257 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614839564133076993[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 01:12:55.257 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614839564137271296[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 01:12:55.257 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614839564133076992[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:12:55.257 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614839564133076993[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 01:12:55.258 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614839564133076992[0;39m 请求参数: []
2025-08-25 01:12:55.258 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614839564133076993[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:12:55.257 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614839564137271296[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:12:55.258 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614839564137271296[0;39m 请求参数: []
2025-08-25 01:12:55.258 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614839564133076993[0;39m 请求参数: []
2025-08-25 01:12:55.589 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614839564133076993[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 01:12:55.589 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614839564133076992[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:12:55.589 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614839564137271296[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:12:55.590 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614839564133076993[0;39m ==> Parameters: 
2025-08-25 01:12:55.590 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614839564133076992[0;39m ==> Parameters: 
2025-08-25 01:12:55.590 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614839564137271296[0;39m ==> Parameters: 
2025-08-25 01:12:55.896 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614839564137271296[0;39m <==      Total: 0
2025-08-25 01:12:55.896 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614839564133076992[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 01:12:55.896 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==    Columns: id, parent, name, sort
2025-08-25 01:12:55.896 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614839564133076992[0;39m <==        Row: 2025-08-25, 31, 14, 31, 14
2025-08-25 01:12:55.896 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 01:12:55.896 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614839564137271296[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 01:12:55.896 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614839564137271296[0;39m ------------- 结束 耗时：639 ms -------------
2025-08-25 01:12:55.897 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 01:12:55.897 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614839564133076992[0;39m <==      Total: 1
2025-08-25 01:12:55.897 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 01:12:55.897 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 01:12:55.897 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 01:12:55.897 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614839564133076992[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":31,"viewIncrease":31,"voteCount":14,"voteIncrease":14}],"success":true}
2025-08-25 01:12:55.897 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 01:12:55.897 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614839564133076992[0;39m ------------- 结束 耗时：641 ms -------------
2025-08-25 01:12:55.897 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 01:12:55.897 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 01:12:55.898 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 01:12:55.898 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 01:12:55.898 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 01:12:55.898 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 01:12:55.899 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 01:12:55.899 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 01:12:55.899 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 01:12:55.899 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614839564133076993[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 01:12:55.900 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614839564133076993[0;39m <==      Total: 16
2025-08-25 01:12:55.902 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614839564133076993[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 01:12:55.902 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614839564133076993[0;39m ------------- 结束 耗时：646 ms -------------
2025-08-25 01:12:59.182 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614839580599914496[0;39m ------------- 开始 -------------
2025-08-25 01:12:59.182 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614839580599914496[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 01:12:59.183 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614839580599914496[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 01:12:59.183 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614839580599914496[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:12:59.183 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614839580599914496[0;39m 请求参数: [{"loginName":"test"}]
2025-08-25 01:12:59.437 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614839580599914496[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 01:12:59.437 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614839580599914496[0;39m ==> Parameters: test(String)
2025-08-25 01:12:59.689 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614839580599914496[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:12:59.690 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614839580599914496[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 01:12:59.691 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614839580599914496[0;39m <==      Total: 1
2025-08-25 01:13:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614839584035049472[0;39m 更新电子书下的文档数据开始
2025-08-25 01:13:00.002 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614839584035049472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:13:00.002 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614839584035049472[0;39m ==> Parameters: 
2025-08-25 01:13:00.510 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614839584035049472[0;39m <==    Updates: 1
2025-08-25 01:13:00.511 INFO  com.matt.wiki.job.DocJob                          :33   [32m614839584035049472[0;39m 更新电子书下的文档数据结束，耗时：509毫秒
2025-08-25 01:13:00.511 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614839586174144512[0;39m 生成今日电子书快照开始
2025-08-25 01:13:00.511 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614839586174144512[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:13:00.512 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614839586174144512[0;39m ==> Parameters: 
2025-08-25 01:13:01.082 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614839586174144512[0;39m <==    Updates: 0
2025-08-25 01:13:01.083 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614839586174144512[0;39m 生成今日电子书快照结束，耗时：572毫秒
2025-08-25 01:13:01.426 INFO  com.matt.wiki.aspect.LogAspect                    :84   [32m614839580599914496[0;39m generated token: 614839582743203840
2025-08-25 01:13:01.426 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614839580599914496[0;39m 返回结果: {"content":{"id":2,"loginName":"test","name":"test","token":"614839582743203840"},"success":true}
2025-08-25 01:13:01.426 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614839580599914496[0;39m ------------- 结束 耗时：2244 ms -------------
2025-08-25 01:13:03.187 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614837380880404480[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:13:03.188 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614837380880404480[0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2025-08-25 01:13:03.191 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614838191903608832[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:13:03.192 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614838191903608832[0;39m 接口登录拦截：，path：http://localhost:8080/user/list
2025-08-25 01:13:03.194 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614838191903608832[0;39m 登录校验开始，token：614839582743203840
2025-08-25 01:13:03.503 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614838191903608832[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614839582743203840"}
2025-08-25 01:13:03.520 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614839598794805248[0;39m ------------- 开始 -------------
2025-08-25 01:13:03.520 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614839598794805248[0;39m 请求地址: http://localhost:8080/user/list GET
2025-08-25 01:13:03.520 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614839598794805248[0;39m 类名方法: com.matt.wiki.controller.UserController.list
2025-08-25 01:13:03.520 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614839598794805248[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:13:03.521 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614839598794805248[0;39m 请求参数: [{"loginName":"","page":1,"size":5}]
2025-08-25 01:13:03.805 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614839598794805248[0;39m ==>  Preparing: SELECT count(0) FROM user
2025-08-25 01:13:03.805 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614839598794805248[0;39m ==> Parameters: 
2025-08-25 01:13:04.072 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614839598794805248[0;39m <==    Columns: count(0)
2025-08-25 01:13:04.072 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614839598794805248[0;39m <==        Row: 2
2025-08-25 01:13:04.072 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614839598794805248[0;39m <==      Total: 1
2025-08-25 01:13:04.074 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614839598794805248[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2025-08-25 01:13:04.075 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614839598794805248[0;39m ==> Parameters: 5(Integer)
2025-08-25 01:13:04.395 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614839598794805248[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:13:04.395 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614839598794805248[0;39m <==        Row: 1, admin, 测试, 123456
2025-08-25 01:13:04.396 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614839598794805248[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 01:13:04.396 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614839598794805248[0;39m <==      Total: 2
2025-08-25 01:13:04.396 INFO  com.matt.wiki.service.UserService                 :51   [32m614839598794805248[0;39m 总行数: 2
2025-08-25 01:13:04.396 INFO  com.matt.wiki.service.UserService                 :52   [32m614839598794805248[0;39m 总页数:1
2025-08-25 01:13:04.400 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614839598794805248[0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"admin","name":"测试"},{"id":2,"loginName":"test","name":"test"}],"total":2},"success":true}
2025-08-25 01:13:04.400 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614839598794805248[0;39m ------------- 结束 耗时：880 ms -------------
2025-08-25 01:13:04.402 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614839598794805248[0;39m ------------- LoginInterceptor 结束 耗时：1210 ms -------------
2025-08-25 01:14:00.003 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614839835701678080[0;39m 生成今日电子书快照开始
2025-08-25 01:14:00.306 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614839835701678080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:14:00.308 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614839835701678080[0;39m ==> Parameters: 
2025-08-25 01:14:00.846 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614839835701678080[0;39m <==    Updates: 0
2025-08-25 01:14:00.846 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614839835701678080[0;39m 生成今日电子书快照结束，耗时：842毫秒
2025-08-25 01:14:00.846 INFO  com.matt.wiki.job.DocJob                          :30   [32m614839839237476352[0;39m 更新电子书下的文档数据开始
2025-08-25 01:14:00.847 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614839839237476352[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:14:00.847 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614839839237476352[0;39m ==> Parameters: 
2025-08-25 01:14:01.536 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614839839237476352[0;39m <==    Updates: 1
2025-08-25 01:14:01.536 INFO  com.matt.wiki.job.DocJob                          :33   [32m614839839237476352[0;39m 更新电子书下的文档数据结束，耗时：690毫秒
2025-08-25 01:15:00.003 INFO  com.matt.wiki.job.DocJob                          :30   [32m614840087359918080[0;39m 更新电子书下的文档数据开始
2025-08-25 01:15:00.255 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614840087359918080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:15:00.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614840087359918080[0;39m ==> Parameters: 
2025-08-25 01:15:00.780 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614840087359918080[0;39m <==    Updates: 1
2025-08-25 01:15:00.781 INFO  com.matt.wiki.job.DocJob                          :33   [32m614840087359918080[0;39m 更新电子书下的文档数据结束，耗时：777毫秒
2025-08-25 01:15:00.781 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614840090623086592[0;39m 生成今日电子书快照开始
2025-08-25 01:15:00.782 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614840090623086592[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:15:00.783 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614840090623086592[0;39m ==> Parameters: 
2025-08-25 01:15:01.367 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614840090623086592[0;39m <==    Updates: 0
2025-08-25 01:15:01.368 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614840090623086592[0;39m 生成今日电子书快照结束，耗时：587毫秒
2025-08-25 01:15:04.932 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840108033642496[0;39m ------------- 开始 -------------
2025-08-25 01:15:04.932 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840108033642496[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 01:15:04.933 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840108033642496[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 01:15:04.933 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840108033642496[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:15:04.933 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840108033642496[0;39m 请求参数: []
2025-08-25 01:15:05.186 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614840108033642496[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 01:15:05.186 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614840108033642496[0;39m ==> Parameters: 
2025-08-25 01:15:05.535 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==    Columns: id, parent, name, sort
2025-08-25 01:15:05.536 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 01:15:05.536 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 01:15:05.536 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 01:15:05.536 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 01:15:05.536 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 01:15:05.537 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 01:15:05.537 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 01:15:05.537 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 01:15:05.538 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 01:15:05.538 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 01:15:05.538 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 01:15:05.538 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 01:15:05.538 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 01:15:05.538 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 01:15:05.538 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 01:15:05.539 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840108033642496[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 01:15:05.539 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614840108033642496[0;39m <==      Total: 16
2025-08-25 01:15:05.540 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840108033642496[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 01:15:05.540 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840108033642496[0;39m ------------- 结束 耗时：608 ms -------------
2025-08-25 01:15:05.550 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840110625722368[0;39m ------------- 开始 -------------
2025-08-25 01:15:05.550 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840110625722368[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 01:15:05.551 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840110625722368[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 01:15:05.551 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840110625722368[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:15:05.551 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840110625722368[0;39m 请求参数: [{"name":"","page":1,"size":5}]
2025-08-25 01:15:05.842 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614840110625722368[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2025-08-25 01:15:05.843 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614840110625722368[0;39m ==> Parameters: 
2025-08-25 01:15:06.093 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614840110625722368[0;39m <==    Columns: count(0)
2025-08-25 01:15:06.093 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614840110625722368[0;39m <==        Row: 12
2025-08-25 01:15:06.093 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614840110625722368[0;39m <==      Total: 1
2025-08-25 01:15:06.094 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614840110625722368[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2025-08-25 01:15:06.094 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614840110625722368[0;39m ==> Parameters: 5(Integer)
2025-08-25 01:15:06.343 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840110625722368[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-08-25 01:15:06.343 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840110625722368[0;39m <==        Row: 1, Spring Boot 入门教程, null, null, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 13, 31, 14
2025-08-25 01:15:06.344 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840110625722368[0;39m <==        Row: 2, Vue 入门教程, null, null, 零基础入门 Vue 开发，企业级应用开发最佳前端框架, null, 0, 0, 0
2025-08-25 01:15:06.344 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840110625722368[0;39m <==        Row: 3, MySQL 数据库教程, null, null, 系统学习 MySQL 数据库基础与进阶操作, null, 0, 0, 0
2025-08-25 01:15:06.345 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840110625722368[0;39m <==        Row: 4, Python 编程入门, null, null, 面向初学者的 Python 编程实战教程, null, 0, 0, 0
2025-08-25 01:15:06.345 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840110625722368[0;39m <==        Row: 5, JavaScript 高级编程, null, null, 深入理解 JavaScript 核心机制与高级应用, null, 0, 0, 0
2025-08-25 01:15:06.345 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614840110625722368[0;39m <==      Total: 5
2025-08-25 01:15:06.345 INFO  com.matt.wiki.service.EbookService                :49   [32m614840110625722368[0;39m 总行数: 12
2025-08-25 01:15:06.346 INFO  com.matt.wiki.service.EbookService                :50   [32m614840110625722368[0;39m 总页数:3
2025-08-25 01:15:06.351 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840110625722368[0;39m 返回结果: {"content":{"list":[{"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":31,"voteCount":14},{"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"description":"系统学习 MySQL 数据库基础与进阶操作","docCount":0,"id":3,"name":"MySQL 数据库教程","viewCount":0,"voteCount":0},{"description":"面向初学者的 Python 编程实战教程","docCount":0,"id":4,"name":"Python 编程入门","viewCount":0,"voteCount":0},{"description":"深入理解 JavaScript 核心机制与高级应用","docCount":0,"id":5,"name":"JavaScript 高级编程","viewCount":0,"voteCount":0}],"total":12},"success":true}
2025-08-25 01:15:06.351 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840110625722368[0;39m ------------- 结束 耗时：801 ms -------------
2025-08-25 01:15:13.349 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614839580599914496[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:15:13.349 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614839580599914496[0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2025-08-25 01:15:13.351 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614837380880404480[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:15:13.351 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614837380880404480[0;39m 接口登录拦截：，path：http://localhost:8080/ebook/save
2025-08-25 01:15:13.351 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614837380880404480[0;39m 登录校验开始，token：614839582743203840
2025-08-25 01:15:13.625 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614837380880404480[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614839582743203840"}
2025-08-25 01:15:13.638 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840144549253120[0;39m ------------- 开始 -------------
2025-08-25 01:15:13.639 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840144549253120[0;39m 请求地址: http://localhost:8080/ebook/save POST
2025-08-25 01:15:13.639 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840144549253120[0;39m 类名方法: com.matt.wiki.controller.EbookController.save
2025-08-25 01:15:13.639 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840144549253120[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:15:13.642 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840144549253120[0;39m 请求参数: [{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0}]
2025-08-25 01:15:13.932 DEBUG c.matt.wiki.mapper.EbookMapper.updateByPrimaryKey :135  [32m614840144549253120[0;39m ==>  Preparing: update ebook set `name` = ?, category1_id = ?, category2_id = ?, description = ?, cover = ?, doc_count = ?, view_count = ?, vote_count = ? where id = ?
2025-08-25 01:15:13.935 DEBUG c.matt.wiki.mapper.EbookMapper.updateByPrimaryKey :135  [32m614840144549253120[0;39m ==> Parameters: Vue 入门教程(String), 100(Long), 101(Long), 零基础入门 Vue 开发，企业级应用开发最佳前端框架(String), null, 0(Integer), 0(Integer), 0(Integer), 2(Long)
2025-08-25 01:15:14.499 DEBUG c.matt.wiki.mapper.EbookMapper.updateByPrimaryKey :135  [32m614840144549253120[0;39m <==    Updates: 1
2025-08-25 01:15:14.500 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840144549253120[0;39m 返回结果: {"success":true}
2025-08-25 01:15:14.500 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840144549253120[0;39m ------------- 结束 耗时：862 ms -------------
2025-08-25 01:15:14.503 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614840144549253120[0;39m ------------- LoginInterceptor 结束 耗时：1151 ms -------------
2025-08-25 01:15:14.539 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840148328321024[0;39m ------------- 开始 -------------
2025-08-25 01:15:14.539 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840148328321024[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 01:15:14.539 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840148328321024[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 01:15:14.539 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840148328321024[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:15:14.539 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840148328321024[0;39m 请求参数: [{"name":"","page":1,"size":5}]
2025-08-25 01:15:14.784 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614840148328321024[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2025-08-25 01:15:14.785 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614840148328321024[0;39m ==> Parameters: 
2025-08-25 01:15:15.058 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614840148328321024[0;39m <==    Columns: count(0)
2025-08-25 01:15:15.058 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614840148328321024[0;39m <==        Row: 12
2025-08-25 01:15:15.059 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614840148328321024[0;39m <==      Total: 1
2025-08-25 01:15:15.059 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614840148328321024[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2025-08-25 01:15:15.059 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614840148328321024[0;39m ==> Parameters: 5(Integer)
2025-08-25 01:15:15.366 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840148328321024[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-08-25 01:15:15.366 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840148328321024[0;39m <==        Row: 1, Spring Boot 入门教程, null, null, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 13, 31, 14
2025-08-25 01:15:15.366 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840148328321024[0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳前端框架, null, 0, 0, 0
2025-08-25 01:15:15.366 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840148328321024[0;39m <==        Row: 3, MySQL 数据库教程, null, null, 系统学习 MySQL 数据库基础与进阶操作, null, 0, 0, 0
2025-08-25 01:15:15.367 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840148328321024[0;39m <==        Row: 4, Python 编程入门, null, null, 面向初学者的 Python 编程实战教程, null, 0, 0, 0
2025-08-25 01:15:15.367 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840148328321024[0;39m <==        Row: 5, JavaScript 高级编程, null, null, 深入理解 JavaScript 核心机制与高级应用, null, 0, 0, 0
2025-08-25 01:15:15.367 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614840148328321024[0;39m <==      Total: 5
2025-08-25 01:15:15.367 INFO  com.matt.wiki.service.EbookService                :49   [32m614840148328321024[0;39m 总行数: 12
2025-08-25 01:15:15.367 INFO  com.matt.wiki.service.EbookService                :50   [32m614840148328321024[0;39m 总页数:3
2025-08-25 01:15:15.368 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840148328321024[0;39m 返回结果: {"content":{"list":[{"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":31,"voteCount":14},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"description":"系统学习 MySQL 数据库基础与进阶操作","docCount":0,"id":3,"name":"MySQL 数据库教程","viewCount":0,"voteCount":0},{"description":"面向初学者的 Python 编程实战教程","docCount":0,"id":4,"name":"Python 编程入门","viewCount":0,"voteCount":0},{"description":"深入理解 JavaScript 核心机制与高级应用","docCount":0,"id":5,"name":"JavaScript 高级编程","viewCount":0,"voteCount":0}],"total":12},"success":true}
2025-08-25 01:15:15.368 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840148328321024[0;39m ------------- 结束 耗时：829 ms -------------
2025-08-25 01:15:21.281 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614837407241605120[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:15:21.281 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614837407241605120[0;39m 接口登录拦截：，path：http://localhost:8080/ebook/save
2025-08-25 01:15:21.281 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614837407241605120[0;39m 登录校验开始，token：614839582743203840
2025-08-25 01:15:21.612 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614837407241605120[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614839582743203840"}
2025-08-25 01:15:21.614 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840178003021824[0;39m ------------- 开始 -------------
2025-08-25 01:15:21.614 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840178003021824[0;39m 请求地址: http://localhost:8080/ebook/save POST
2025-08-25 01:15:21.614 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840178003021824[0;39m 类名方法: com.matt.wiki.controller.EbookController.save
2025-08-25 01:15:21.614 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840178003021824[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:15:21.614 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840178003021824[0;39m 请求参数: [{"category1Id":100,"category2Id":101,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":31,"voteCount":14}]
2025-08-25 01:15:21.862 DEBUG c.matt.wiki.mapper.EbookMapper.updateByPrimaryKey :135  [32m614840178003021824[0;39m ==>  Preparing: update ebook set `name` = ?, category1_id = ?, category2_id = ?, description = ?, cover = ?, doc_count = ?, view_count = ?, vote_count = ? where id = ?
2025-08-25 01:15:21.863 DEBUG c.matt.wiki.mapper.EbookMapper.updateByPrimaryKey :135  [32m614840178003021824[0;39m ==> Parameters: Spring Boot 入门教程(String), 100(Long), 101(Long), 零基础入门 Java 开发，企业级应用开发最佳首选框架(String), null, 13(Integer), 31(Integer), 14(Integer), 1(Long)
2025-08-25 01:15:22.433 DEBUG c.matt.wiki.mapper.EbookMapper.updateByPrimaryKey :135  [32m614840178003021824[0;39m <==    Updates: 1
2025-08-25 01:15:22.434 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840178003021824[0;39m 返回结果: {"success":true}
2025-08-25 01:15:22.434 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840178003021824[0;39m ------------- 结束 耗时：820 ms -------------
2025-08-25 01:15:22.434 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614840178003021824[0;39m ------------- LoginInterceptor 结束 耗时：1153 ms -------------
2025-08-25 01:15:22.463 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840181563985920[0;39m ------------- 开始 -------------
2025-08-25 01:15:22.464 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840181563985920[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 01:15:22.464 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840181563985920[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 01:15:22.464 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840181563985920[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:15:22.464 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840181563985920[0;39m 请求参数: [{"name":"","page":1,"size":5}]
2025-08-25 01:15:22.738 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614840181563985920[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2025-08-25 01:15:22.738 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614840181563985920[0;39m ==> Parameters: 
2025-08-25 01:15:23.046 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614840181563985920[0;39m <==    Columns: count(0)
2025-08-25 01:15:23.046 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614840181563985920[0;39m <==        Row: 12
2025-08-25 01:15:23.047 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614840181563985920[0;39m <==      Total: 1
2025-08-25 01:15:23.047 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614840181563985920[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2025-08-25 01:15:23.047 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614840181563985920[0;39m ==> Parameters: 5(Integer)
2025-08-25 01:15:23.353 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840181563985920[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-08-25 01:15:23.353 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840181563985920[0;39m <==        Row: 1, Spring Boot 入门教程, 100, 101, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 13, 31, 14
2025-08-25 01:15:23.353 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840181563985920[0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳前端框架, null, 0, 0, 0
2025-08-25 01:15:23.353 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840181563985920[0;39m <==        Row: 3, MySQL 数据库教程, null, null, 系统学习 MySQL 数据库基础与进阶操作, null, 0, 0, 0
2025-08-25 01:15:23.354 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840181563985920[0;39m <==        Row: 4, Python 编程入门, null, null, 面向初学者的 Python 编程实战教程, null, 0, 0, 0
2025-08-25 01:15:23.354 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614840181563985920[0;39m <==        Row: 5, JavaScript 高级编程, null, null, 深入理解 JavaScript 核心机制与高级应用, null, 0, 0, 0
2025-08-25 01:15:23.354 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614840181563985920[0;39m <==      Total: 5
2025-08-25 01:15:23.354 INFO  com.matt.wiki.service.EbookService                :49   [32m614840181563985920[0;39m 总行数: 12
2025-08-25 01:15:23.354 INFO  com.matt.wiki.service.EbookService                :50   [32m614840181563985920[0;39m 总页数:3
2025-08-25 01:15:23.355 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840181563985920[0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":31,"voteCount":14},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"description":"系统学习 MySQL 数据库基础与进阶操作","docCount":0,"id":3,"name":"MySQL 数据库教程","viewCount":0,"voteCount":0},{"description":"面向初学者的 Python 编程实战教程","docCount":0,"id":4,"name":"Python 编程入门","viewCount":0,"voteCount":0},{"description":"深入理解 JavaScript 核心机制与高级应用","docCount":0,"id":5,"name":"JavaScript 高级编程","viewCount":0,"voteCount":0}],"total":12},"success":true}
2025-08-25 01:15:23.355 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840181563985920[0;39m ------------- 结束 耗时：892 ms -------------
2025-08-25 01:15:32.152 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840222202597376[0;39m ------------- 开始 -------------
2025-08-25 01:15:32.152 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840222202597376[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 01:15:32.152 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840222202597376[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 01:15:32.152 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840222202597376[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:15:32.152 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840222202597376[0;39m 请求参数: []
2025-08-25 01:15:32.467 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614840222202597376[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 01:15:32.467 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614840222202597376[0;39m ==> Parameters: 
2025-08-25 01:15:32.774 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==    Columns: id, parent, name, sort
2025-08-25 01:15:32.774 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 01:15:32.774 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 01:15:32.774 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 01:15:32.775 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 01:15:32.775 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 01:15:32.775 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 01:15:32.775 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 01:15:32.775 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 01:15:32.775 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 01:15:32.776 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 01:15:32.776 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 01:15:32.776 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 01:15:32.776 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 01:15:32.776 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 01:15:32.776 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 01:15:32.777 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840222202597376[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 01:15:32.777 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614840222202597376[0;39m <==      Total: 16
2025-08-25 01:15:32.779 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840222202597376[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 01:15:32.780 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840222202597376[0;39m ------------- 结束 耗时：628 ms -------------
2025-08-25 01:15:36.289 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614836832177360896[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:15:36.289 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614836832177360896[0;39m 接口登录拦截：，path：http://localhost:8080/user/list
2025-08-25 01:15:36.289 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614836832177360896[0;39m 登录校验开始，token：614839582743203840
2025-08-25 01:15:36.562 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614836832177360896[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614839582743203840"}
2025-08-25 01:15:36.563 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840240703672320[0;39m ------------- 开始 -------------
2025-08-25 01:15:36.563 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840240703672320[0;39m 请求地址: http://localhost:8080/user/list GET
2025-08-25 01:15:36.563 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840240703672320[0;39m 类名方法: com.matt.wiki.controller.UserController.list
2025-08-25 01:15:36.564 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840240703672320[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:15:36.564 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840240703672320[0;39m 请求参数: [{"loginName":"","page":1,"size":5}]
2025-08-25 01:15:36.869 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614840240703672320[0;39m ==>  Preparing: SELECT count(0) FROM user
2025-08-25 01:15:36.870 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614840240703672320[0;39m ==> Parameters: 
2025-08-25 01:15:37.177 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614840240703672320[0;39m <==    Columns: count(0)
2025-08-25 01:15:37.177 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614840240703672320[0;39m <==        Row: 2
2025-08-25 01:15:37.177 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614840240703672320[0;39m <==      Total: 1
2025-08-25 01:15:37.178 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614840240703672320[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2025-08-25 01:15:37.178 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614840240703672320[0;39m ==> Parameters: 5(Integer)
2025-08-25 01:15:37.429 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614840240703672320[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:15:37.430 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614840240703672320[0;39m <==        Row: 1, admin, 测试, 123456
2025-08-25 01:15:37.430 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614840240703672320[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 01:15:37.430 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614840240703672320[0;39m <==      Total: 2
2025-08-25 01:15:37.430 INFO  com.matt.wiki.service.UserService                 :51   [32m614840240703672320[0;39m 总行数: 2
2025-08-25 01:15:37.431 INFO  com.matt.wiki.service.UserService                 :52   [32m614840240703672320[0;39m 总页数:1
2025-08-25 01:15:37.431 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840240703672320[0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"admin","name":"测试"},{"id":2,"loginName":"test","name":"test"}],"total":2},"success":true}
2025-08-25 01:15:37.431 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840240703672320[0;39m ------------- 结束 耗时：868 ms -------------
2025-08-25 01:15:37.432 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614840240703672320[0;39m ------------- LoginInterceptor 结束 耗时：1143 ms -------------
2025-08-25 01:15:37.579 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840244965085184[0;39m ------------- 开始 -------------
2025-08-25 01:15:37.579 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840244965085184[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 01:15:37.579 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840244965085184[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 01:15:37.579 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840244965085184[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:15:37.580 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840244965085184[0;39m 请求参数: []
2025-08-25 01:15:37.580 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614840244965085184[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 01:15:37.581 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614840244965085184[0;39m ==> Parameters: 
2025-08-25 01:15:37.581 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840244973473792[0;39m ------------- 开始 -------------
2025-08-25 01:15:37.581 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840244973473792[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 01:15:37.581 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840244973473792[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 01:15:37.582 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840244973473792[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:15:37.582 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840244973473792[0;39m 请求参数: []
2025-08-25 01:15:37.582 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840244977668096[0;39m ------------- 开始 -------------
2025-08-25 01:15:37.582 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840244977668096[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 01:15:37.582 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840244977668096[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 01:15:37.582 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840244977668096[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:15:37.582 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840244977668096[0;39m 请求参数: []
2025-08-25 01:15:37.894 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614840244977668096[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:15:37.894 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614840244973473792[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:15:37.894 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==    Columns: id, parent, name, sort
2025-08-25 01:15:37.894 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 01:15:37.894 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614840244977668096[0;39m ==> Parameters: 
2025-08-25 01:15:37.895 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 01:15:37.895 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614840244973473792[0;39m ==> Parameters: 
2025-08-25 01:15:37.895 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 01:15:37.895 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 01:15:37.895 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 01:15:37.895 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 01:15:37.895 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 01:15:37.896 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 01:15:37.896 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 01:15:37.896 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 01:15:37.896 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 01:15:37.896 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 01:15:37.896 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 01:15:37.896 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 01:15:37.897 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 01:15:37.897 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614840244965085184[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 01:15:37.897 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614840244965085184[0;39m <==      Total: 16
2025-08-25 01:15:37.898 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840244965085184[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 01:15:37.898 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840244965085184[0;39m ------------- 结束 耗时：319 ms -------------
2025-08-25 01:15:38.133 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614840244977668096[0;39m <==      Total: 0
2025-08-25 01:15:38.133 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840244977668096[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 01:15:38.133 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840244977668096[0;39m ------------- 结束 耗时：551 ms -------------
2025-08-25 01:15:38.144 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614840244973473792[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 01:15:38.144 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614840244973473792[0;39m <==        Row: 2025-08-25, 31, 14, 31, 14
2025-08-25 01:15:38.145 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614840244973473792[0;39m <==      Total: 1
2025-08-25 01:15:38.145 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840244973473792[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":31,"viewIncrease":31,"voteCount":14,"voteIncrease":14}],"success":true}
2025-08-25 01:15:38.145 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840244973473792[0;39m ------------- 结束 耗时：564 ms -------------
2025-08-25 01:16:00.002 INFO  com.matt.wiki.job.DocJob                          :30   [32m614840339013963776[0;39m 更新电子书下的文档数据开始
2025-08-25 01:16:00.321 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614840339013963776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:16:00.321 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614840339013963776[0;39m ==> Parameters: 
2025-08-25 01:16:00.911 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614840339013963776[0;39m <==    Updates: 1
2025-08-25 01:16:00.911 INFO  com.matt.wiki.job.DocJob                          :33   [32m614840339013963776[0;39m 更新电子书下的文档数据结束，耗时：909毫秒
2025-08-25 01:16:00.912 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614840342830780416[0;39m 生成今日电子书快照开始
2025-08-25 01:16:00.912 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614840342830780416[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:16:00.913 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614840342830780416[0;39m ==> Parameters: 
2025-08-25 01:16:01.754 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614840342830780416[0;39m <==    Updates: 0
2025-08-25 01:16:01.754 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614840342830780416[0;39m 生成今日电子书快照结束，耗时：842毫秒
2025-08-25 01:16:28.387 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614840148328321024[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:16:28.388 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614840148328321024[0;39m 接口登录拦截：，path：http://localhost:8080/user/list
2025-08-25 01:16:28.388 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614840148328321024[0;39m 登录校验开始，token：614839582743203840
2025-08-25 01:16:28.638 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614840148328321024[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614839582743203840"}
2025-08-25 01:16:28.639 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840459126247424[0;39m ------------- 开始 -------------
2025-08-25 01:16:28.639 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840459126247424[0;39m 请求地址: http://localhost:8080/user/list GET
2025-08-25 01:16:28.639 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840459126247424[0;39m 类名方法: com.matt.wiki.controller.UserController.list
2025-08-25 01:16:28.639 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840459126247424[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:16:28.640 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840459126247424[0;39m 请求参数: [{"loginName":"","page":1,"size":5}]
2025-08-25 01:16:28.878 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614840459126247424[0;39m ==>  Preparing: SELECT count(0) FROM user
2025-08-25 01:16:28.878 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614840459126247424[0;39m ==> Parameters: 
2025-08-25 01:16:29.196 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614840459126247424[0;39m <==    Columns: count(0)
2025-08-25 01:16:29.197 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614840459126247424[0;39m <==        Row: 2
2025-08-25 01:16:29.197 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614840459126247424[0;39m <==      Total: 1
2025-08-25 01:16:29.197 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614840459126247424[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2025-08-25 01:16:29.198 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614840459126247424[0;39m ==> Parameters: 5(Integer)
2025-08-25 01:16:29.503 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614840459126247424[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:16:29.504 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614840459126247424[0;39m <==        Row: 1, admin, 测试, 123456
2025-08-25 01:16:29.504 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614840459126247424[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 01:16:29.504 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614840459126247424[0;39m <==      Total: 2
2025-08-25 01:16:29.504 INFO  com.matt.wiki.service.UserService                 :51   [32m614840459126247424[0;39m 总行数: 2
2025-08-25 01:16:29.504 INFO  com.matt.wiki.service.UserService                 :52   [32m614840459126247424[0;39m 总页数:1
2025-08-25 01:16:29.505 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840459126247424[0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"admin","name":"测试"},{"id":2,"loginName":"test","name":"test"}],"total":2},"success":true}
2025-08-25 01:16:29.505 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840459126247424[0;39m ------------- 结束 耗时：866 ms -------------
2025-08-25 01:16:29.505 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614840459126247424[0;39m ------------- LoginInterceptor 结束 耗时：1117 ms -------------
2025-08-25 01:16:33.528 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614840178003021824[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:16:33.528 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614840178003021824[0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2025-08-25 01:16:33.530 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614840181563985920[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:16:33.530 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614840181563985920[0;39m 接口登录拦截：，path：http://localhost:8080/user/reset-password
2025-08-25 01:16:33.531 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614840181563985920[0;39m 登录校验开始，token：614839582743203840
2025-08-25 01:16:33.783 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614840181563985920[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614839582743203840"}
2025-08-25 01:16:33.787 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840480718524416[0;39m ------------- 开始 -------------
2025-08-25 01:16:33.787 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840480718524416[0;39m 请求地址: http://localhost:8080/user/reset-password POST
2025-08-25 01:16:33.787 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840480718524416[0;39m 类名方法: com.matt.wiki.controller.UserController.resetPassword
2025-08-25 01:16:33.787 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840480718524416[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:16:33.789 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840480718524416[0;39m 请求参数: [{"id":2}]
2025-08-25 01:16:34.040 DEBUG c.m.w.m.UserMapper.updateByPrimaryKeySelective    :135  [32m614840480718524416[0;39m ==>  Preparing: update user SET `password` = ? where id = ?
2025-08-25 01:16:34.041 DEBUG c.m.w.m.UserMapper.updateByPrimaryKeySelective    :135  [32m614840480718524416[0;39m ==> Parameters: e70e2222a9d67c4f2eae107533359aa4(String), 2(Long)
2025-08-25 01:16:34.624 DEBUG c.m.w.m.UserMapper.updateByPrimaryKeySelective    :135  [32m614840480718524416[0;39m <==    Updates: 1
2025-08-25 01:16:34.625 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840480718524416[0;39m 返回结果: {"success":true}
2025-08-25 01:16:34.625 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840480718524416[0;39m ------------- 结束 耗时：838 ms -------------
2025-08-25 01:16:34.626 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614840480718524416[0;39m ------------- LoginInterceptor 结束 耗时：1096 ms -------------
2025-08-25 01:16:34.661 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614840222202597376[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:16:34.662 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614840222202597376[0;39m 接口登录拦截：，path：http://localhost:8080/user/list
2025-08-25 01:16:34.662 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614840222202597376[0;39m 登录校验开始，token：614839582743203840
2025-08-25 01:16:34.925 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614840222202597376[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614839582743203840"}
2025-08-25 01:16:34.926 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840485495836672[0;39m ------------- 开始 -------------
2025-08-25 01:16:34.926 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840485495836672[0;39m 请求地址: http://localhost:8080/user/list GET
2025-08-25 01:16:34.926 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840485495836672[0;39m 类名方法: com.matt.wiki.controller.UserController.list
2025-08-25 01:16:34.926 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840485495836672[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:16:34.926 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840485495836672[0;39m 请求参数: [{"loginName":"","page":1,"size":5}]
2025-08-25 01:16:34.927 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614840485495836672[0;39m ==>  Preparing: SELECT count(0) FROM user
2025-08-25 01:16:34.928 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614840485495836672[0;39m ==> Parameters: 
2025-08-25 01:16:35.179 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614840485495836672[0;39m <==    Columns: count(0)
2025-08-25 01:16:35.179 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614840485495836672[0;39m <==        Row: 2
2025-08-25 01:16:35.179 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614840485495836672[0;39m <==      Total: 1
2025-08-25 01:16:35.179 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614840485495836672[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2025-08-25 01:16:35.180 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614840485495836672[0;39m ==> Parameters: 5(Integer)
2025-08-25 01:16:35.431 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614840485495836672[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:16:35.432 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614840485495836672[0;39m <==        Row: 1, admin, 测试, 123456
2025-08-25 01:16:35.432 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614840485495836672[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 01:16:35.432 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614840485495836672[0;39m <==      Total: 2
2025-08-25 01:16:35.432 INFO  com.matt.wiki.service.UserService                 :51   [32m614840485495836672[0;39m 总行数: 2
2025-08-25 01:16:35.432 INFO  com.matt.wiki.service.UserService                 :52   [32m614840485495836672[0;39m 总页数:1
2025-08-25 01:16:35.433 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840485495836672[0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"admin","name":"测试"},{"id":2,"loginName":"test","name":"test"}],"total":2},"success":true}
2025-08-25 01:16:35.433 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840485495836672[0;39m ------------- 结束 耗时：507 ms -------------
2025-08-25 01:16:35.433 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614840485495836672[0;39m ------------- LoginInterceptor 结束 耗时：771 ms -------------
2025-08-25 01:16:40.937 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614839564133076992[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:16:40.938 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614839564133076992[0;39m 接口登录拦截：，path：http://localhost:8080/user/reset-password
2025-08-25 01:16:40.938 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614839564133076992[0;39m 登录校验开始，token：614839582743203840
2025-08-25 01:16:41.282 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614839564133076992[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614839582743203840"}
2025-08-25 01:16:41.283 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840512159027200[0;39m ------------- 开始 -------------
2025-08-25 01:16:41.283 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840512159027200[0;39m 请求地址: http://localhost:8080/user/reset-password POST
2025-08-25 01:16:41.283 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840512159027200[0;39m 类名方法: com.matt.wiki.controller.UserController.resetPassword
2025-08-25 01:16:41.283 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840512159027200[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:16:41.284 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840512159027200[0;39m 请求参数: [{"id":2}]
2025-08-25 01:16:41.587 DEBUG c.m.w.m.UserMapper.updateByPrimaryKeySelective    :135  [32m614840512159027200[0;39m ==>  Preparing: update user SET `password` = ? where id = ?
2025-08-25 01:16:41.587 DEBUG c.m.w.m.UserMapper.updateByPrimaryKeySelective    :135  [32m614840512159027200[0;39m ==> Parameters: e70e2222a9d67c4f2eae107533359aa4(String), 2(Long)
2025-08-25 01:16:42.133 DEBUG c.m.w.m.UserMapper.updateByPrimaryKeySelective    :135  [32m614840512159027200[0;39m <==    Updates: 1
2025-08-25 01:16:42.133 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840512159027200[0;39m 返回结果: {"success":true}
2025-08-25 01:16:42.133 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840512159027200[0;39m ------------- 结束 耗时：850 ms -------------
2025-08-25 01:16:42.134 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614840512159027200[0;39m ------------- LoginInterceptor 结束 耗时：1197 ms -------------
2025-08-25 01:16:42.161 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614840244965085184[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:16:42.162 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614840244965085184[0;39m 接口登录拦截：，path：http://localhost:8080/user/list
2025-08-25 01:16:42.162 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614840244965085184[0;39m 登录校验开始，token：614839582743203840
2025-08-25 01:16:42.413 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614840244965085184[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614839582743203840"}
2025-08-25 01:16:42.414 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614840516902785024[0;39m ------------- 开始 -------------
2025-08-25 01:16:42.414 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614840516902785024[0;39m 请求地址: http://localhost:8080/user/list GET
2025-08-25 01:16:42.414 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614840516902785024[0;39m 类名方法: com.matt.wiki.controller.UserController.list
2025-08-25 01:16:42.414 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614840516902785024[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:16:42.414 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614840516902785024[0;39m 请求参数: [{"loginName":"","page":1,"size":5}]
2025-08-25 01:16:42.713 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614840516902785024[0;39m ==>  Preparing: SELECT count(0) FROM user
2025-08-25 01:16:42.713 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614840516902785024[0;39m ==> Parameters: 
2025-08-25 01:16:43.020 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614840516902785024[0;39m <==    Columns: count(0)
2025-08-25 01:16:43.021 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614840516902785024[0;39m <==        Row: 2
2025-08-25 01:16:43.021 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614840516902785024[0;39m <==      Total: 1
2025-08-25 01:16:43.022 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614840516902785024[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2025-08-25 01:16:43.022 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614840516902785024[0;39m ==> Parameters: 5(Integer)
2025-08-25 01:16:43.329 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614840516902785024[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:16:43.329 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614840516902785024[0;39m <==        Row: 1, admin, 测试, 123456
2025-08-25 01:16:43.329 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614840516902785024[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 01:16:43.330 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614840516902785024[0;39m <==      Total: 2
2025-08-25 01:16:43.330 INFO  com.matt.wiki.service.UserService                 :51   [32m614840516902785024[0;39m 总行数: 2
2025-08-25 01:16:43.330 INFO  com.matt.wiki.service.UserService                 :52   [32m614840516902785024[0;39m 总页数:1
2025-08-25 01:16:43.330 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614840516902785024[0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"admin","name":"测试"},{"id":2,"loginName":"test","name":"test"}],"total":2},"success":true}
2025-08-25 01:16:43.330 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614840516902785024[0;39m ------------- 结束 耗时：916 ms -------------
2025-08-25 01:16:43.331 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614840516902785024[0;39m ------------- LoginInterceptor 结束 耗时：1169 ms -------------
2025-08-25 01:17:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614840590684786688[0;39m 更新电子书下的文档数据开始
2025-08-25 01:17:00.326 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614840590684786688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:17:00.326 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614840590684786688[0;39m ==> Parameters: 
2025-08-25 01:17:00.859 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614840590684786688[0;39m <==    Updates: 1
2025-08-25 01:17:00.860 INFO  com.matt.wiki.job.DocJob                          :33   [32m614840590684786688[0;39m 更新电子书下的文档数据结束，耗时：855毫秒
2025-08-25 01:17:00.860 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614840594270916608[0;39m 生成今日电子书快照开始
2025-08-25 01:17:00.861 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614840594270916608[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:17:00.862 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614840594270916608[0;39m ==> Parameters: 
2025-08-25 01:17:01.444 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614840594270916608[0;39m <==    Updates: 0
2025-08-25 01:17:01.445 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614840594270916608[0;39m 生成今日电子书快照结束，耗时：584毫秒
2025-08-25 01:18:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614840842326249472[0;39m 生成今日电子书快照开始
2025-08-25 01:18:00.333 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614840842326249472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:18:00.334 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614840842326249472[0;39m ==> Parameters: 
2025-08-25 01:18:00.947 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614840842326249472[0;39m <==    Updates: 0
2025-08-25 01:18:00.948 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614840842326249472[0;39m 生成今日电子书快照结束，耗时：947毫秒
2025-08-25 01:18:00.948 INFO  com.matt.wiki.job.DocJob                          :30   [32m614840846298255360[0;39m 更新电子书下的文档数据开始
2025-08-25 01:18:00.948 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614840846298255360[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:18:00.949 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614840846298255360[0;39m ==> Parameters: 
2025-08-25 01:18:01.630 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614840846298255360[0;39m <==    Updates: 1
2025-08-25 01:18:01.630 INFO  com.matt.wiki.job.DocJob                          :33   [32m614840846298255360[0;39m 更新电子书下的文档数据结束，耗时：682毫秒
2025-08-25 01:19:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614841093997072384[0;39m 更新电子书下的文档数据开始
2025-08-25 01:19:00.255 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614841093997072384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:19:00.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614841093997072384[0;39m ==> Parameters: 
2025-08-25 01:19:00.806 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614841093997072384[0;39m <==    Updates: 1
2025-08-25 01:19:00.806 INFO  com.matt.wiki.job.DocJob                          :33   [32m614841093997072384[0;39m 更新电子书下的文档数据结束，耗时：802毫秒
2025-08-25 01:19:00.806 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614841097360904192[0;39m 生成今日电子书快照开始
2025-08-25 01:19:00.806 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614841097360904192[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:19:00.807 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614841097360904192[0;39m ==> Parameters: 
2025-08-25 01:19:01.488 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614841097360904192[0;39m <==    Updates: 0
2025-08-25 01:19:01.488 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614841097360904192[0;39m 生成今日电子书快照结束，耗时：682毫秒
2025-08-25 01:20:00.002 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614841345646923776[0;39m 生成今日电子书快照开始
2025-08-25 01:20:00.253 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614841345646923776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:20:00.254 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614841345646923776[0;39m ==> Parameters: 
2025-08-25 01:20:00.769 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614841345646923776[0;39m <==    Updates: 0
2025-08-25 01:20:00.770 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614841345646923776[0;39m 生成今日电子书快照结束，耗时：768毫秒
2025-08-25 01:20:00.770 INFO  com.matt.wiki.job.DocJob                          :30   [32m614841348868149248[0;39m 更新电子书下的文档数据开始
2025-08-25 01:20:00.770 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614841348868149248[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:20:00.770 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614841348868149248[0;39m ==> Parameters: 
2025-08-25 01:20:01.370 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614841348868149248[0;39m <==    Updates: 1
2025-08-25 01:20:01.371 INFO  com.matt.wiki.job.DocJob                          :33   [32m614841348868149248[0;39m 更新电子书下的文档数据结束，耗时：601毫秒
2025-08-25 01:21:00.003 INFO  com.matt.wiki.job.DocJob                          :30   [32m614841597309358080[0;39m 更新电子书下的文档数据开始
2025-08-25 01:21:00.322 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614841597309358080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:21:00.324 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614841597309358080[0;39m ==> Parameters: 
2025-08-25 01:21:00.899 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614841597309358080[0;39m <==    Updates: 1
2025-08-25 01:21:00.899 INFO  com.matt.wiki.job.DocJob                          :33   [32m614841597309358080[0;39m 更新电子书下的文档数据结束，耗时：895毫秒
2025-08-25 01:21:00.899 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614841601067454464[0;39m 生成今日电子书快照开始
2025-08-25 01:21:00.900 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614841601067454464[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:21:00.901 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614841601067454464[0;39m ==> Parameters: 
2025-08-25 01:21:01.589 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614841601067454464[0;39m <==    Updates: 0
2025-08-25 01:21:01.590 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614841601067454464[0;39m 生成今日电子书快照结束，耗时：690毫秒
2025-08-25 01:21:11.762 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614840244973473792[0;39m 连接关闭，token：yxyz5fYpwf，session id：3！当前连接数：0
2025-08-25 01:21:15.173 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614840459126247424[0;39m 有新连接：token：o0RGzeA0uD，session id：4，当前连接数：1
2025-08-25 01:21:15.249 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614840178003021824[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:21:15.249 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614840178003021824[0;39m 接口登录拦截：，path：http://localhost:8080/user/list
2025-08-25 01:21:15.249 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614840178003021824[0;39m 登录校验开始，token：614839582743203840
2025-08-25 01:21:15.503 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614840178003021824[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614839582743203840"}
2025-08-25 01:21:15.504 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841662325264384[0;39m ------------- 开始 -------------
2025-08-25 01:21:15.504 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841662325264384[0;39m 请求地址: http://localhost:8080/user/list GET
2025-08-25 01:21:15.504 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841662325264384[0;39m 类名方法: com.matt.wiki.controller.UserController.list
2025-08-25 01:21:15.504 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841662325264384[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:21:15.504 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841662325264384[0;39m 请求参数: [{"loginName":"","page":1,"size":5}]
2025-08-25 01:21:15.756 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614841662325264384[0;39m ==>  Preparing: SELECT count(0) FROM user
2025-08-25 01:21:15.756 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614841662325264384[0;39m ==> Parameters: 
2025-08-25 01:21:16.004 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614841662325264384[0;39m <==    Columns: count(0)
2025-08-25 01:21:16.004 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614841662325264384[0;39m <==        Row: 2
2025-08-25 01:21:16.005 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614841662325264384[0;39m <==      Total: 1
2025-08-25 01:21:16.005 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614841662325264384[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2025-08-25 01:21:16.005 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614841662325264384[0;39m ==> Parameters: 5(Integer)
2025-08-25 01:21:16.254 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614841662325264384[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:21:16.255 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614841662325264384[0;39m <==        Row: 1, admin, 测试, 123456
2025-08-25 01:21:16.255 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614841662325264384[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 01:21:16.255 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614841662325264384[0;39m <==      Total: 2
2025-08-25 01:21:16.255 INFO  com.matt.wiki.service.UserService                 :51   [32m614841662325264384[0;39m 总行数: 2
2025-08-25 01:21:16.255 INFO  com.matt.wiki.service.UserService                 :52   [32m614841662325264384[0;39m 总页数:1
2025-08-25 01:21:16.255 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841662325264384[0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"admin","name":"测试"},{"id":2,"loginName":"test","name":"test"}],"total":2},"success":true}
2025-08-25 01:21:16.255 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841662325264384[0;39m ------------- 结束 耗时：751 ms -------------
2025-08-25 01:21:16.257 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614841662325264384[0;39m ------------- LoginInterceptor 结束 耗时：1008 ms -------------
2025-08-25 01:21:27.674 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614840480718524416[0;39m 有新连接：token：oNyMNTWfHE，session id：5，当前连接数：2
2025-08-25 01:21:27.722 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841713571270656[0;39m ------------- 开始 -------------
2025-08-25 01:21:27.722 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841713571270658[0;39m ------------- 开始 -------------
2025-08-25 01:21:27.722 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841713571270656[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 01:21:27.722 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841713571270657[0;39m ------------- 开始 -------------
2025-08-25 01:21:27.722 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841713571270656[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 01:21:27.722 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841713571270657[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 01:21:27.722 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841713571270658[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 01:21:27.722 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841713571270657[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 01:21:27.722 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841713571270656[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:21:27.723 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841713571270658[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 01:21:27.723 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841713571270656[0;39m 请求参数: []
2025-08-25 01:21:27.723 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841713571270658[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:21:27.723 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841713571270658[0;39m 请求参数: []
2025-08-25 01:21:27.723 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841713571270657[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:21:27.723 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841713571270657[0;39m 请求参数: []
2025-08-25 01:21:27.961 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614841713571270657[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:21:27.961 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614841713571270657[0;39m ==> Parameters: 
2025-08-25 01:21:27.972 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841713571270658[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 01:21:27.972 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841713571270658[0;39m ==> Parameters: 
2025-08-25 01:21:27.973 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614841713571270656[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:21:27.974 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614841713571270656[0;39m ==> Parameters: 
2025-08-25 01:21:28.214 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614841713571270657[0;39m <==      Total: 0
2025-08-25 01:21:28.215 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841713571270657[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 01:21:28.215 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841713571270657[0;39m ------------- 结束 耗时：493 ms -------------
2025-08-25 01:21:28.221 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==    Columns: id, parent, name, sort
2025-08-25 01:21:28.221 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 01:21:28.222 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 01:21:28.222 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 01:21:28.222 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 01:21:28.222 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 01:21:28.222 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 01:21:28.222 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 01:21:28.222 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 01:21:28.223 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 01:21:28.223 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 01:21:28.223 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 01:21:28.223 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 01:21:28.223 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 01:21:28.223 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 01:21:28.223 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 01:21:28.223 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841713571270658[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 01:21:28.224 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841713571270658[0;39m <==      Total: 16
2025-08-25 01:21:28.224 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614841713571270656[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 01:21:28.224 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614841713571270656[0;39m <==        Row: 2025-08-25, 31, 14, 31, 14
2025-08-25 01:21:28.224 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614841713571270656[0;39m <==      Total: 1
2025-08-25 01:21:28.225 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841713571270658[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 01:21:28.225 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841713571270658[0;39m ------------- 结束 耗时：503 ms -------------
2025-08-25 01:21:28.225 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841713571270656[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":31,"viewIncrease":31,"voteCount":14,"voteIncrease":14}],"success":true}
2025-08-25 01:21:28.225 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841713571270656[0;39m ------------- 结束 耗时：503 ms -------------
2025-08-25 01:21:31.329 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841728700125184[0;39m ------------- 开始 -------------
2025-08-25 01:21:31.329 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841728700125184[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 01:21:31.329 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841728700125184[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 01:21:31.330 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841728700125184[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:21:31.330 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841728700125184[0;39m 请求参数: [{"loginName":"test"}]
2025-08-25 01:21:31.569 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614841728700125184[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 01:21:31.570 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614841728700125184[0;39m ==> Parameters: test(String)
2025-08-25 01:21:31.893 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614841728700125184[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:21:31.893 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614841728700125184[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 01:21:31.893 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614841728700125184[0;39m <==      Total: 1
2025-08-25 01:21:32.199 INFO  com.matt.wiki.aspect.LogAspect                    :84   [32m614841728700125184[0;39m generated token: 614841731069906944
2025-08-25 01:21:32.200 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841728700125184[0;39m 返回结果: {"content":{"id":2,"loginName":"test","name":"test","token":"614841731069906944"},"success":true}
2025-08-25 01:21:32.200 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841728700125184[0;39m ------------- 结束 耗时：871 ms -------------
2025-08-25 01:21:41.025 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841769368096768[0;39m ------------- 开始 -------------
2025-08-25 01:21:41.026 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841769368096768[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 01:21:41.026 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841769368096768[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 01:21:41.026 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841769368096768[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:21:41.026 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841769368096768[0;39m 请求参数: [{"category2Id":101,"page":1,"size":1000}]
2025-08-25 01:21:41.315 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841769368096768[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-08-25 01:21:41.315 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841769368096768[0;39m ==> Parameters: 101(Long)
2025-08-25 01:21:41.621 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614841769368096768[0;39m <==    Columns: count(0)
2025-08-25 01:21:41.621 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614841769368096768[0;39m <==        Row: 2
2025-08-25 01:21:41.622 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841769368096768[0;39m <==      Total: 1
2025-08-25 01:21:41.622 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841769368096768[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2025-08-25 01:21:41.622 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841769368096768[0;39m ==> Parameters: 101(Long), 1000(Integer)
2025-08-25 01:21:41.928 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841769368096768[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-08-25 01:21:41.929 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841769368096768[0;39m <==        Row: 1, Spring Boot 入门教程, 100, 101, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 13, 31, 14
2025-08-25 01:21:41.929 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841769368096768[0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳前端框架, null, 0, 0, 0
2025-08-25 01:21:41.930 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841769368096768[0;39m <==      Total: 2
2025-08-25 01:21:41.930 INFO  com.matt.wiki.service.EbookService                :49   [32m614841769368096768[0;39m 总行数: 2
2025-08-25 01:21:41.930 INFO  com.matt.wiki.service.EbookService                :50   [32m614841769368096768[0;39m 总页数:1
2025-08-25 01:21:41.931 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841769368096768[0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":31,"voteCount":14},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0}],"total":2},"success":true}
2025-08-25 01:21:41.931 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841769368096768[0;39m ------------- 结束 耗时：906 ms -------------
2025-08-25 01:21:45.224 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841786979979264[0;39m ------------- 开始 -------------
2025-08-25 01:21:45.224 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841786979979264[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 01:21:45.224 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841786979979264[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 01:21:45.224 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841786979979264[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:21:45.224 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841786979979264[0;39m 请求参数: [{"category2Id":102,"page":1,"size":1000}]
2025-08-25 01:21:45.512 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841786979979264[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-08-25 01:21:45.512 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841786979979264[0;39m ==> Parameters: 102(Long)
2025-08-25 01:21:45.820 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614841786979979264[0;39m <==    Columns: count(0)
2025-08-25 01:21:45.821 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614841786979979264[0;39m <==        Row: 0
2025-08-25 01:21:45.821 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841786979979264[0;39m <==      Total: 1
2025-08-25 01:21:45.822 INFO  com.matt.wiki.service.EbookService                :49   [32m614841786979979264[0;39m 总行数: 0
2025-08-25 01:21:45.822 INFO  com.matt.wiki.service.EbookService                :50   [32m614841786979979264[0;39m 总页数:0
2025-08-25 01:21:45.822 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841786979979264[0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2025-08-25 01:21:45.822 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841786979979264[0;39m ------------- 结束 耗时：598 ms -------------
2025-08-25 01:21:48.473 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614841662325264384[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:21:48.473 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614841662325264384[0;39m 接口登录拦截：，path：http://localhost:8080/user/list
2025-08-25 01:21:48.473 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614841662325264384[0;39m 登录校验开始，token：614841731069906944
2025-08-25 01:21:48.725 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614841662325264384[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614841731069906944"}
2025-08-25 01:21:48.727 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841801672626176[0;39m ------------- 开始 -------------
2025-08-25 01:21:48.727 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841801672626176[0;39m 请求地址: http://localhost:8080/user/list GET
2025-08-25 01:21:48.727 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841801672626176[0;39m 类名方法: com.matt.wiki.controller.UserController.list
2025-08-25 01:21:48.727 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841801672626176[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:21:48.727 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841801672626176[0;39m 请求参数: [{"loginName":"","page":1,"size":5}]
2025-08-25 01:21:48.994 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614841801672626176[0;39m ==>  Preparing: SELECT count(0) FROM user
2025-08-25 01:21:48.994 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614841801672626176[0;39m ==> Parameters: 
2025-08-25 01:21:49.300 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614841801672626176[0;39m <==    Columns: count(0)
2025-08-25 01:21:49.301 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614841801672626176[0;39m <==        Row: 2
2025-08-25 01:21:49.301 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614841801672626176[0;39m <==      Total: 1
2025-08-25 01:21:49.301 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614841801672626176[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2025-08-25 01:21:49.301 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614841801672626176[0;39m ==> Parameters: 5(Integer)
2025-08-25 01:21:49.608 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614841801672626176[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:21:49.608 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614841801672626176[0;39m <==        Row: 1, admin, 测试, 123456
2025-08-25 01:21:49.608 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614841801672626176[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 01:21:49.608 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614841801672626176[0;39m <==      Total: 2
2025-08-25 01:21:49.609 INFO  com.matt.wiki.service.UserService                 :51   [32m614841801672626176[0;39m 总行数: 2
2025-08-25 01:21:49.609 INFO  com.matt.wiki.service.UserService                 :52   [32m614841801672626176[0;39m 总页数:1
2025-08-25 01:21:49.609 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841801672626176[0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"admin","name":"测试"},{"id":2,"loginName":"test","name":"test"}],"total":2},"success":true}
2025-08-25 01:21:49.609 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841801672626176[0;39m ------------- 结束 耗时：882 ms -------------
2025-08-25 01:21:49.610 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614841801672626176[0;39m ------------- LoginInterceptor 结束 耗时：1137 ms -------------
2025-08-25 01:21:52.055 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841815631269888[0;39m ------------- 开始 -------------
2025-08-25 01:21:52.056 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841815631269888[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 01:21:52.056 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841815631269888[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 01:21:52.056 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841815631269888[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:21:52.056 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841815631269888[0;39m 请求参数: []
2025-08-25 01:21:52.306 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841815631269888[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 01:21:52.307 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841815631269888[0;39m ==> Parameters: 
2025-08-25 01:21:52.558 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==    Columns: id, parent, name, sort
2025-08-25 01:21:52.558 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 01:21:52.558 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 01:21:52.559 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 01:21:52.559 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 01:21:52.559 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 01:21:52.559 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 01:21:52.559 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 01:21:52.559 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 01:21:52.560 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 01:21:52.560 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 01:21:52.560 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 01:21:52.560 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 01:21:52.561 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 01:21:52.561 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 01:21:52.561 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 01:21:52.561 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841815631269888[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 01:21:52.561 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841815631269888[0;39m <==      Total: 16
2025-08-25 01:21:52.562 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841815631269888[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 01:21:52.562 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841815631269888[0;39m ------------- 结束 耗时：507 ms -------------
2025-08-25 01:21:52.571 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841817795530752[0;39m ------------- 开始 -------------
2025-08-25 01:21:52.571 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841817795530752[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 01:21:52.571 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841817795530752[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 01:21:52.571 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841817795530752[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:21:52.571 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841817795530752[0;39m 请求参数: [{"name":"","page":1,"size":5}]
2025-08-25 01:21:52.810 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841817795530752[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2025-08-25 01:21:52.811 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841817795530752[0;39m ==> Parameters: 
2025-08-25 01:21:53.090 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614841817795530752[0;39m <==    Columns: count(0)
2025-08-25 01:21:53.091 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614841817795530752[0;39m <==        Row: 12
2025-08-25 01:21:53.091 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841817795530752[0;39m <==      Total: 1
2025-08-25 01:21:53.092 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841817795530752[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2025-08-25 01:21:53.093 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841817795530752[0;39m ==> Parameters: 5(Integer)
2025-08-25 01:21:53.397 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841817795530752[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-08-25 01:21:53.397 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841817795530752[0;39m <==        Row: 1, Spring Boot 入门教程, 100, 101, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 13, 31, 14
2025-08-25 01:21:53.398 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841817795530752[0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳前端框架, null, 0, 0, 0
2025-08-25 01:21:53.398 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841817795530752[0;39m <==        Row: 3, MySQL 数据库教程, null, null, 系统学习 MySQL 数据库基础与进阶操作, null, 0, 0, 0
2025-08-25 01:21:53.399 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841817795530752[0;39m <==        Row: 4, Python 编程入门, null, null, 面向初学者的 Python 编程实战教程, null, 0, 0, 0
2025-08-25 01:21:53.399 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841817795530752[0;39m <==        Row: 5, JavaScript 高级编程, null, null, 深入理解 JavaScript 核心机制与高级应用, null, 0, 0, 0
2025-08-25 01:21:53.399 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841817795530752[0;39m <==      Total: 5
2025-08-25 01:21:53.399 INFO  com.matt.wiki.service.EbookService                :49   [32m614841817795530752[0;39m 总行数: 12
2025-08-25 01:21:53.400 INFO  com.matt.wiki.service.EbookService                :50   [32m614841817795530752[0;39m 总页数:3
2025-08-25 01:21:53.400 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841817795530752[0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":31,"voteCount":14},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"description":"系统学习 MySQL 数据库基础与进阶操作","docCount":0,"id":3,"name":"MySQL 数据库教程","viewCount":0,"voteCount":0},{"description":"面向初学者的 Python 编程实战教程","docCount":0,"id":4,"name":"Python 编程入门","viewCount":0,"voteCount":0},{"description":"深入理解 JavaScript 核心机制与高级应用","docCount":0,"id":5,"name":"JavaScript 高级编程","viewCount":0,"voteCount":0}],"total":12},"success":true}
2025-08-25 01:21:53.400 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841817795530752[0;39m ------------- 结束 耗时：829 ms -------------
2025-08-25 01:22:00.000 INFO  com.matt.wiki.job.DocJob                          :30   [32m614841848955015168[0;39m 更新电子书下的文档数据开始
2025-08-25 01:22:00.257 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614841848955015168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:22:00.258 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614841848955015168[0;39m ==> Parameters: 
2025-08-25 01:22:00.819 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614841848955015168[0;39m <==    Updates: 1
2025-08-25 01:22:00.820 INFO  com.matt.wiki.job.DocJob                          :33   [32m614841848955015168[0;39m 更新电子书下的文档数据结束，耗时：819毫秒
2025-08-25 01:22:00.820 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614841852394344448[0;39m 生成今日电子书快照开始
2025-08-25 01:22:00.821 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614841852394344448[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:22:00.822 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614841852394344448[0;39m ==> Parameters: 
2025-08-25 01:22:01.466 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614841852394344448[0;39m <==    Updates: 0
2025-08-25 01:22:01.466 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614841852394344448[0;39m 生成今日电子书快照结束，耗时：646毫秒
2025-08-25 01:22:01.732 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841856219549698[0;39m ------------- 开始 -------------
2025-08-25 01:22:01.732 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841856219549696[0;39m ------------- 开始 -------------
2025-08-25 01:22:01.732 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841856219549697[0;39m ------------- 开始 -------------
2025-08-25 01:22:01.733 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841856219549698[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 01:22:01.733 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841856219549697[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 01:22:01.733 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841856219549696[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 01:22:01.733 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841856219549697[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 01:22:01.733 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841856219549698[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 01:22:01.733 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841856219549696[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 01:22:01.733 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841856219549697[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:01.733 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841856219549698[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:01.733 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841856219549696[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:01.733 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841856219549697[0;39m 请求参数: []
2025-08-25 01:22:01.733 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841856219549698[0;39m 请求参数: []
2025-08-25 01:22:01.733 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841856219549696[0;39m 请求参数: []
2025-08-25 01:22:01.733 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614841856219549696[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:22:01.734 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614841856219549696[0;39m ==> Parameters: 
2025-08-25 01:22:02.102 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841856219549697[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 01:22:02.102 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614841856219549698[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:22:02.102 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614841856219549696[0;39m <==      Total: 0
2025-08-25 01:22:02.102 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841856219549697[0;39m ==> Parameters: 
2025-08-25 01:22:02.102 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614841856219549698[0;39m ==> Parameters: 
2025-08-25 01:22:02.102 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841856219549696[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 01:22:02.103 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841856219549696[0;39m ------------- 结束 耗时：371 ms -------------
2025-08-25 01:22:02.511 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==    Columns: id, parent, name, sort
2025-08-25 01:22:02.511 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614841856219549698[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 01:22:02.511 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 01:22:02.511 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614841856219549698[0;39m <==        Row: 2025-08-25, 31, 14, 31, 14
2025-08-25 01:22:02.511 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 01:22:02.511 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 01:22:02.511 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614841856219549698[0;39m <==      Total: 1
2025-08-25 01:22:02.511 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 01:22:02.512 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 01:22:02.512 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 01:22:02.512 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841856219549698[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":31,"viewIncrease":31,"voteCount":14,"voteIncrease":14}],"success":true}
2025-08-25 01:22:02.512 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841856219549698[0;39m ------------- 结束 耗时：780 ms -------------
2025-08-25 01:22:02.512 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 01:22:02.512 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 01:22:02.512 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 01:22:02.512 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 01:22:02.512 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 01:22:02.512 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 01:22:02.512 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 01:22:02.513 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 01:22:02.513 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 01:22:02.513 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841856219549697[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 01:22:02.513 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841856219549697[0;39m <==      Total: 16
2025-08-25 01:22:02.514 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841856219549697[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 01:22:02.514 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841856219549697[0;39m ------------- 结束 耗时：782 ms -------------
2025-08-25 01:22:05.792 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841873248423936[0;39m ------------- 开始 -------------
2025-08-25 01:22:05.792 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841873248423936[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 01:22:05.792 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841873248423936[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 01:22:05.792 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841873248423936[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:05.793 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841873248423936[0;39m 请求参数: [{"category2Id":101,"page":1,"size":1000}]
2025-08-25 01:22:06.095 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841873248423936[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-08-25 01:22:06.095 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841873248423936[0;39m ==> Parameters: 101(Long)
2025-08-25 01:22:06.402 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614841873248423936[0;39m <==    Columns: count(0)
2025-08-25 01:22:06.402 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614841873248423936[0;39m <==        Row: 2
2025-08-25 01:22:06.402 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841873248423936[0;39m <==      Total: 1
2025-08-25 01:22:06.403 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841873248423936[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2025-08-25 01:22:06.403 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841873248423936[0;39m ==> Parameters: 101(Long), 1000(Integer)
2025-08-25 01:22:06.709 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841873248423936[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-08-25 01:22:06.709 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841873248423936[0;39m <==        Row: 1, Spring Boot 入门教程, 100, 101, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 13, 31, 14
2025-08-25 01:22:06.710 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841873248423936[0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳前端框架, null, 0, 0, 0
2025-08-25 01:22:06.710 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841873248423936[0;39m <==      Total: 2
2025-08-25 01:22:06.710 INFO  com.matt.wiki.service.EbookService                :49   [32m614841873248423936[0;39m 总行数: 2
2025-08-25 01:22:06.710 INFO  com.matt.wiki.service.EbookService                :50   [32m614841873248423936[0;39m 总页数:1
2025-08-25 01:22:06.710 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841873248423936[0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":31,"voteCount":14},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0}],"total":2},"success":true}
2025-08-25 01:22:06.711 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841873248423936[0;39m ------------- 结束 耗时：919 ms -------------
2025-08-25 01:22:07.300 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841879573434368[0;39m ------------- 开始 -------------
2025-08-25 01:22:07.300 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841879573434368[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 01:22:07.300 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841879573434368[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 01:22:07.300 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841879573434368[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:07.300 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841879573434368[0;39m 请求参数: [{"category2Id":102,"page":1,"size":1000}]
2025-08-25 01:22:07.630 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841879573434368[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-08-25 01:22:07.631 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841879573434368[0;39m ==> Parameters: 102(Long)
2025-08-25 01:22:07.939 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614841879573434368[0;39m <==    Columns: count(0)
2025-08-25 01:22:07.940 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614841879573434368[0;39m <==        Row: 0
2025-08-25 01:22:07.940 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841879573434368[0;39m <==      Total: 1
2025-08-25 01:22:07.940 INFO  com.matt.wiki.service.EbookService                :49   [32m614841879573434368[0;39m 总行数: 0
2025-08-25 01:22:07.940 INFO  com.matt.wiki.service.EbookService                :50   [32m614841879573434368[0;39m 总页数:0
2025-08-25 01:22:07.941 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841879573434368[0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2025-08-25 01:22:07.941 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841879573434368[0;39m ------------- 结束 耗时：641 ms -------------
2025-08-25 01:22:09.623 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841889316802560[0;39m ------------- 开始 -------------
2025-08-25 01:22:09.623 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841889316802560[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 01:22:09.623 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841889316802560[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 01:22:09.624 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841889316802560[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:09.624 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841889316802560[0;39m 请求参数: [{"category2Id":101,"page":1,"size":1000}]
2025-08-25 01:22:09.987 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841889316802560[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-08-25 01:22:09.988 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841889316802560[0;39m ==> Parameters: 101(Long)
2025-08-25 01:22:10.237 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614841889316802560[0;39m <==    Columns: count(0)
2025-08-25 01:22:10.238 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614841889316802560[0;39m <==        Row: 2
2025-08-25 01:22:10.238 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841889316802560[0;39m <==      Total: 1
2025-08-25 01:22:10.238 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841889316802560[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2025-08-25 01:22:10.238 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841889316802560[0;39m ==> Parameters: 101(Long), 1000(Integer)
2025-08-25 01:22:10.487 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841889316802560[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-08-25 01:22:10.488 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841889316802560[0;39m <==        Row: 1, Spring Boot 入门教程, 100, 101, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 13, 31, 14
2025-08-25 01:22:10.488 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841889316802560[0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳前端框架, null, 0, 0, 0
2025-08-25 01:22:10.488 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841889316802560[0;39m <==      Total: 2
2025-08-25 01:22:10.488 INFO  com.matt.wiki.service.EbookService                :49   [32m614841889316802560[0;39m 总行数: 2
2025-08-25 01:22:10.488 INFO  com.matt.wiki.service.EbookService                :50   [32m614841889316802560[0;39m 总页数:1
2025-08-25 01:22:10.489 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841889316802560[0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":31,"voteCount":14},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0}],"total":2},"success":true}
2025-08-25 01:22:10.489 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841889316802560[0;39m ------------- 结束 耗时：866 ms -------------
2025-08-25 01:22:14.492 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841909738868736[0;39m ------------- 开始 -------------
2025-08-25 01:22:14.493 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841909738868736[0;39m 请求地址: http://localhost:8080/doc/all/1 GET
2025-08-25 01:22:14.493 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841909738868736[0;39m 类名方法: com.matt.wiki.controller.DocController.all
2025-08-25 01:22:14.493 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841909738868736[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:14.493 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841909738868736[0;39m 请求参数: [1]
2025-08-25 01:22:14.749 DEBUG com.matt.wiki.mapper.DocMapper.selectByExample    :135  [32m614841909738868736[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2025-08-25 01:22:14.749 DEBUG com.matt.wiki.mapper.DocMapper.selectByExample    :135  [32m614841909738868736[0;39m ==> Parameters: 1(Long)
2025-08-25 01:22:15.001 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614841909738868736[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2025-08-25 01:22:15.004 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614841909738868736[0;39m <==        Row: 1, 1, 0, 文档1, 1, 0, 0
2025-08-25 01:22:15.004 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614841909738868736[0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 2, 0
2025-08-25 01:22:15.005 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614841909738868736[0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 3, 1
2025-08-25 01:22:15.005 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614841909738868736[0;39m <==        Row: 7, 1, 6, 文档3.1, 1, 2, 1
2025-08-25 01:22:15.005 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614841909738868736[0;39m <==        Row: 10, 1, 9, 文档4.1, 1, 4, 3
2025-08-25 01:22:15.005 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614841909738868736[0;39m <==        Row: 12, 1, 11, 文档4.2.1, 1, 1, 1
2025-08-25 01:22:15.006 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614841909738868736[0;39m <==        Row: 3, 1, 0, 文档2, 2, 0, 0
2025-08-25 01:22:15.006 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614841909738868736[0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 2
2025-08-25 01:22:15.006 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614841909738868736[0;39m <==        Row: 8, 1, 6, 文档3.2, 2, 1, 0
2025-08-25 01:22:15.006 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614841909738868736[0;39m <==        Row: 11, 1, 9, 文档4.2, 2, 3, 1
2025-08-25 01:22:15.006 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614841909738868736[0;39m <==        Row: 6, 1, 0, 文档3, 3, 10, 5
2025-08-25 01:22:15.007 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614841909738868736[0;39m <==        Row: 9, 1, 0, 文档4, 4, 0, 0
2025-08-25 01:22:15.007 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614841909738868736[0;39m <==        Row: 13, 1, 0, 文档5, 5, 0, 0
2025-08-25 01:22:15.007 DEBUG com.matt.wiki.mapper.DocMapper.selectByExample    :135  [32m614841909738868736[0;39m <==      Total: 13
2025-08-25 01:22:15.014 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841909738868736[0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":7,"name":"文档3.1","parent":6,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":10,"name":"文档4.1","parent":9,"sort":1,"viewCount":4,"voteCount":3},{"ebookId":1,"id":12,"name":"文档4.2.1","parent":11,"sort":1,"viewCount":1,"voteCount":1},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":0,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":2},{"ebookId":1,"id":8,"name":"文档3.2","parent":6,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":1,"id":11,"name":"文档4.2","parent":9,"sort":2,"viewCount":3,"voteCount":1},{"ebookId":1,"id":6,"name":"文档3","parent":0,"sort":3,"viewCount":10,"voteCount":5},{"ebookId":1,"id":9,"name":"文档4","parent":0,"sort":4,"viewCount":0,"voteCount":0},{"ebookId":1,"id":13,"name":"文档5","parent":0,"sort":5,"viewCount":0,"voteCount":0}],"success":true}
2025-08-25 01:22:15.014 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841909738868736[0;39m ------------- 结束 耗时：522 ms -------------
2025-08-25 01:22:15.067 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841912150593536[0;39m ------------- 开始 -------------
2025-08-25 01:22:15.067 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841912150593536[0;39m 请求地址: http://localhost:8080/doc/find-content/1 GET
2025-08-25 01:22:15.067 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841912150593536[0;39m 类名方法: com.matt.wiki.controller.DocController.findContent
2025-08-25 01:22:15.067 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841912150593536[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:15.067 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841912150593536[0;39m 请求参数: [1]
2025-08-25 01:22:15.305 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614841912150593536[0;39m ==>  Preparing: select id , content from content where id = ?
2025-08-25 01:22:15.306 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614841912150593536[0;39m ==> Parameters: 1(Long)
2025-08-25 01:22:15.546 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614841912150593536[0;39m <==      Total: 0
2025-08-25 01:22:15.548 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614841912150593536[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-08-25 01:22:15.549 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614841912150593536[0;39m ==> Parameters: 1(Long)
2025-08-25 01:22:16.132 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614841912150593536[0;39m <==    Updates: 1
2025-08-25 01:22:16.134 WARN  com.matt.wiki.service.DocService                  :135  [32m614841912150593536[0;39m Content not found for doc id: 1 , return empty string.
2025-08-25 01:22:16.135 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841912150593536[0;39m 返回结果: {"content":"","success":true}
2025-08-25 01:22:16.135 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841912150593536[0;39m ------------- 结束 耗时：1068 ms -------------
2025-08-25 01:22:16.349 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841917527691264[0;39m ------------- 开始 -------------
2025-08-25 01:22:16.349 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841917527691264[0;39m 请求地址: http://localhost:8080/doc/find-content/4 GET
2025-08-25 01:22:16.349 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841917527691264[0;39m 类名方法: com.matt.wiki.controller.DocController.findContent
2025-08-25 01:22:16.349 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841917527691264[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:16.349 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841917527691264[0;39m 请求参数: [4]
2025-08-25 01:22:16.598 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614841917527691264[0;39m ==>  Preparing: select id , content from content where id = ?
2025-08-25 01:22:16.600 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614841917527691264[0;39m ==> Parameters: 4(Long)
2025-08-25 01:22:16.849 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614841917527691264[0;39m <==      Total: 0
2025-08-25 01:22:16.850 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614841917527691264[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-08-25 01:22:16.850 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614841917527691264[0;39m ==> Parameters: 4(Long)
2025-08-25 01:22:17.234 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841921235456000[0;39m ------------- 开始 -------------
2025-08-25 01:22:17.234 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841921235456000[0;39m 请求地址: http://localhost:8080/doc/find-content/5 GET
2025-08-25 01:22:17.234 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841921235456000[0;39m 类名方法: com.matt.wiki.controller.DocController.findContent
2025-08-25 01:22:17.234 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841921235456000[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:17.234 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841921235456000[0;39m 请求参数: [5]
2025-08-25 01:22:17.404 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614841917527691264[0;39m <==    Updates: 1
2025-08-25 01:22:17.405 WARN  com.matt.wiki.service.DocService                  :135  [32m614841917527691264[0;39m Content not found for doc id: 4 , return empty string.
2025-08-25 01:22:17.405 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841917527691264[0;39m 返回结果: {"content":"","success":true}
2025-08-25 01:22:17.405 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841917527691264[0;39m ------------- 结束 耗时：1056 ms -------------
2025-08-25 01:22:17.485 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614841921235456000[0;39m ==>  Preparing: select id , content from content where id = ?
2025-08-25 01:22:17.485 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614841921235456000[0;39m ==> Parameters: 5(Long)
2025-08-25 01:22:17.736 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614841921235456000[0;39m <==      Total: 0
2025-08-25 01:22:17.737 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614841921235456000[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-08-25 01:22:17.737 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614841921235456000[0;39m ==> Parameters: 5(Long)
2025-08-25 01:22:17.898 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841924024668160[0;39m ------------- 开始 -------------
2025-08-25 01:22:17.898 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841924024668160[0;39m 请求地址: http://localhost:8080/doc/vote/5 GET
2025-08-25 01:22:17.898 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841924024668160[0;39m 类名方法: com.matt.wiki.controller.DocController.vote
2025-08-25 01:22:17.898 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841924024668160[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:17.899 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841924024668160[0;39m 请求参数: [5]
2025-08-25 01:22:18.152 INFO  com.matt.wiki.util.RedisUtil                      :31   [32m614841924024668160[0;39m key不存在，放入：DOC_VOTE_5_0:0:0:0:0:0:0:1，过期 5 秒
2025-08-25 01:22:18.241 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614841921235456000[0;39m <==    Updates: 1
2025-08-25 01:22:18.241 WARN  com.matt.wiki.service.DocService                  :135  [32m614841921235456000[0;39m Content not found for doc id: 5 , return empty string.
2025-08-25 01:22:18.242 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841921235456000[0;39m 返回结果: {"content":"","success":true}
2025-08-25 01:22:18.242 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841921235456000[0;39m ------------- 结束 耗时：1009 ms -------------
2025-08-25 01:22:18.690 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614841924024668160[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2025-08-25 01:22:18.690 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614841924024668160[0;39m ==> Parameters: 5(Long)
2025-08-25 01:22:19.304 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614841924024668160[0;39m <==    Updates: 1
2025-08-25 01:22:19.304 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614841924024668160[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2025-08-25 01:22:19.305 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614841924024668160[0;39m ==> Parameters: 5(Long)
2025-08-25 01:22:19.611 TRACE com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :141  [32m614841924024668160[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2025-08-25 01:22:19.611 TRACE com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :141  [32m614841924024668160[0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 6, 3
2025-08-25 01:22:19.612 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614841924024668160[0;39m <==      Total: 1
2025-08-25 01:22:19.614 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841924024668160[0;39m 返回结果: {"success":true}
2025-08-25 01:22:19.614 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841924024668160[0;39m ------------- 结束 耗时：1716 ms -------------
2025-08-25 01:22:19.615 INFO  com.matt.wiki.websocket.WebSocketServer           :76   [32m614841924024668160[0;39m 推送消息：oNyMNTWfHE，内容：【文档2.2】被点赞！
2025-08-25 01:22:19.615 INFO  com.matt.wiki.websocket.WebSocketServer           :76   [32m614841924024668160[0;39m 推送消息：o0RGzeA0uD，内容：【文档2.2】被点赞！
2025-08-25 01:22:22.932 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841945138794496[0;39m ------------- 开始 -------------
2025-08-25 01:22:22.932 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841945138794496[0;39m 请求地址: http://localhost:8080/doc/find-content/2 GET
2025-08-25 01:22:22.932 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841945138794496[0;39m 类名方法: com.matt.wiki.controller.DocController.findContent
2025-08-25 01:22:22.933 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841945138794496[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:22.933 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841945138794496[0;39m 请求参数: [2]
2025-08-25 01:22:23.195 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614841945138794496[0;39m ==>  Preparing: select id , content from content where id = ?
2025-08-25 01:22:23.197 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614841945138794496[0;39m ==> Parameters: 2(Long)
2025-08-25 01:22:23.504 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614841945138794496[0;39m <==      Total: 0
2025-08-25 01:22:23.506 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614841945138794496[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-08-25 01:22:23.506 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614841945138794496[0;39m ==> Parameters: 2(Long)
2025-08-25 01:22:24.014 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614841945138794496[0;39m <==    Updates: 1
2025-08-25 01:22:24.015 WARN  com.matt.wiki.service.DocService                  :135  [32m614841945138794496[0;39m Content not found for doc id: 2 , return empty string.
2025-08-25 01:22:24.015 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841945138794496[0;39m 返回结果: {"content":"","success":true}
2025-08-25 01:22:24.015 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841945138794496[0;39m ------------- 结束 耗时：1083 ms -------------
2025-08-25 01:22:24.265 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841950729801728[0;39m ------------- 开始 -------------
2025-08-25 01:22:24.265 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841950729801728[0;39m 请求地址: http://localhost:8080/doc/vote/2 GET
2025-08-25 01:22:24.265 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841950729801728[0;39m 类名方法: com.matt.wiki.controller.DocController.vote
2025-08-25 01:22:24.265 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841950729801728[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:24.265 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841950729801728[0;39m 请求参数: [2]
2025-08-25 01:22:24.527 INFO  com.matt.wiki.util.RedisUtil                      :31   [32m614841950729801728[0;39m key不存在，放入：DOC_VOTE_2_0:0:0:0:0:0:0:1，过期 5 秒
2025-08-25 01:22:25.028 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614841950729801728[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2025-08-25 01:22:25.029 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614841950729801728[0;39m ==> Parameters: 2(Long)
2025-08-25 01:22:25.616 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614841950729801728[0;39m <==    Updates: 1
2025-08-25 01:22:25.618 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614841950729801728[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2025-08-25 01:22:25.618 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614841950729801728[0;39m ==> Parameters: 2(Long)
2025-08-25 01:22:25.947 TRACE com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :141  [32m614841950729801728[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2025-08-25 01:22:25.947 TRACE com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :141  [32m614841950729801728[0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 3, 1
2025-08-25 01:22:25.948 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614841950729801728[0;39m <==      Total: 1
2025-08-25 01:22:25.948 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841950729801728[0;39m 返回结果: {"success":true}
2025-08-25 01:22:25.949 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841950729801728[0;39m ------------- 结束 耗时：1684 ms -------------
2025-08-25 01:22:25.949 INFO  com.matt.wiki.websocket.WebSocketServer           :76   [32m614841950729801728[0;39m 推送消息：oNyMNTWfHE，内容：【文档1.1】被点赞！
2025-08-25 01:22:25.949 INFO  com.matt.wiki.websocket.WebSocketServer           :76   [32m614841950729801728[0;39m 推送消息：o0RGzeA0uD，内容：【文档1.1】被点赞！
2025-08-25 01:22:27.843 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614841856219549696[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 01:22:27.844 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614841856219549696[0;39m 接口登录拦截：，path：http://localhost:8080/user/list
2025-08-25 01:22:27.844 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614841856219549696[0;39m 登录校验开始，token：614841731069906944
2025-08-25 01:22:28.110 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614841856219549696[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614841731069906944"}
2025-08-25 01:22:28.111 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841966861094912[0;39m ------------- 开始 -------------
2025-08-25 01:22:28.111 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841966861094912[0;39m 请求地址: http://localhost:8080/user/list GET
2025-08-25 01:22:28.111 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841966861094912[0;39m 类名方法: com.matt.wiki.controller.UserController.list
2025-08-25 01:22:28.111 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841966861094912[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:28.111 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841966861094912[0;39m 请求参数: [{"loginName":"","page":1,"size":5}]
2025-08-25 01:22:28.419 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614841966861094912[0;39m ==>  Preparing: SELECT count(0) FROM user
2025-08-25 01:22:28.420 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614841966861094912[0;39m ==> Parameters: 
2025-08-25 01:22:28.671 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614841966861094912[0;39m <==    Columns: count(0)
2025-08-25 01:22:28.672 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614841966861094912[0;39m <==        Row: 2
2025-08-25 01:22:28.672 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614841966861094912[0;39m <==      Total: 1
2025-08-25 01:22:28.672 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614841966861094912[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2025-08-25 01:22:28.672 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614841966861094912[0;39m ==> Parameters: 5(Integer)
2025-08-25 01:22:29.032 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614841966861094912[0;39m <==    Columns: id, login_name, name, password
2025-08-25 01:22:29.032 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614841966861094912[0;39m <==        Row: 1, admin, 测试, 123456
2025-08-25 01:22:29.032 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614841966861094912[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 01:22:29.032 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614841966861094912[0;39m <==      Total: 2
2025-08-25 01:22:29.033 INFO  com.matt.wiki.service.UserService                 :51   [32m614841966861094912[0;39m 总行数: 2
2025-08-25 01:22:29.033 INFO  com.matt.wiki.service.UserService                 :52   [32m614841966861094912[0;39m 总页数:1
2025-08-25 01:22:29.033 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841966861094912[0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"admin","name":"测试"},{"id":2,"loginName":"test","name":"test"}],"total":2},"success":true}
2025-08-25 01:22:29.033 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841966861094912[0;39m ------------- 结束 耗时：922 ms -------------
2025-08-25 01:22:29.034 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614841966861094912[0;39m ------------- LoginInterceptor 结束 耗时：1190 ms -------------
2025-08-25 01:22:30.097 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841975190982656[0;39m ------------- 开始 -------------
2025-08-25 01:22:30.098 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841975190982656[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 01:22:30.098 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841975190982656[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 01:22:30.098 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841975190982656[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:30.098 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841975190982656[0;39m 请求参数: []
2025-08-25 01:22:30.336 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841975190982656[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 01:22:30.337 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841975190982656[0;39m ==> Parameters: 
2025-08-25 01:22:30.575 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==    Columns: id, parent, name, sort
2025-08-25 01:22:30.575 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 01:22:30.576 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 01:22:30.576 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 01:22:30.576 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 01:22:30.576 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 01:22:30.576 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 01:22:30.576 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 01:22:30.577 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 01:22:30.577 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 01:22:30.577 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 01:22:30.577 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 01:22:30.577 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 01:22:30.577 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 01:22:30.577 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 01:22:30.577 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 01:22:30.578 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841975190982656[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 01:22:30.578 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841975190982656[0;39m <==      Total: 16
2025-08-25 01:22:30.579 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841975190982656[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 01:22:30.579 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841975190982656[0;39m ------------- 结束 耗时：482 ms -------------
2025-08-25 01:22:30.588 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841977250385920[0;39m ------------- 开始 -------------
2025-08-25 01:22:30.588 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841977250385920[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 01:22:30.588 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841977250385920[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 01:22:30.588 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841977250385920[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:30.588 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841977250385920[0;39m 请求参数: [{"name":"","page":1,"size":5}]
2025-08-25 01:22:30.838 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841977250385920[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2025-08-25 01:22:30.838 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841977250385920[0;39m ==> Parameters: 
2025-08-25 01:22:31.183 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614841977250385920[0;39m <==    Columns: count(0)
2025-08-25 01:22:31.183 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614841977250385920[0;39m <==        Row: 12
2025-08-25 01:22:31.184 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614841977250385920[0;39m <==      Total: 1
2025-08-25 01:22:31.184 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841977250385920[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2025-08-25 01:22:31.184 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841977250385920[0;39m ==> Parameters: 5(Integer)
2025-08-25 01:22:31.492 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841977250385920[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-08-25 01:22:31.492 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841977250385920[0;39m <==        Row: 1, Spring Boot 入门教程, 100, 101, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 13, 31, 14
2025-08-25 01:22:31.492 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841977250385920[0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳前端框架, null, 0, 0, 0
2025-08-25 01:22:31.493 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841977250385920[0;39m <==        Row: 3, MySQL 数据库教程, null, null, 系统学习 MySQL 数据库基础与进阶操作, null, 0, 0, 0
2025-08-25 01:22:31.493 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841977250385920[0;39m <==        Row: 4, Python 编程入门, null, null, 面向初学者的 Python 编程实战教程, null, 0, 0, 0
2025-08-25 01:22:31.493 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614841977250385920[0;39m <==        Row: 5, JavaScript 高级编程, null, null, 深入理解 JavaScript 核心机制与高级应用, null, 0, 0, 0
2025-08-25 01:22:31.493 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614841977250385920[0;39m <==      Total: 5
2025-08-25 01:22:31.493 INFO  com.matt.wiki.service.EbookService                :49   [32m614841977250385920[0;39m 总行数: 12
2025-08-25 01:22:31.494 INFO  com.matt.wiki.service.EbookService                :50   [32m614841977250385920[0;39m 总页数:3
2025-08-25 01:22:31.494 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841977250385920[0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":31,"voteCount":14},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"description":"系统学习 MySQL 数据库基础与进阶操作","docCount":0,"id":3,"name":"MySQL 数据库教程","viewCount":0,"voteCount":0},{"description":"面向初学者的 Python 编程实战教程","docCount":0,"id":4,"name":"Python 编程入门","viewCount":0,"voteCount":0},{"description":"深入理解 JavaScript 核心机制与高级应用","docCount":0,"id":5,"name":"JavaScript 高级编程","viewCount":0,"voteCount":0}],"total":12},"success":true}
2025-08-25 01:22:31.494 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841977250385920[0;39m ------------- 结束 耗时：906 ms -------------
2025-08-25 01:22:32.988 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841987316715520[0;39m ------------- 开始 -------------
2025-08-25 01:22:32.988 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841987316715521[0;39m ------------- 开始 -------------
2025-08-25 01:22:32.988 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614841987316715522[0;39m ------------- 开始 -------------
2025-08-25 01:22:32.988 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841987316715521[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 01:22:32.988 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841987316715520[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 01:22:32.988 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614841987316715522[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 01:22:32.988 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841987316715521[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 01:22:32.988 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841987316715520[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 01:22:32.988 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614841987316715522[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 01:22:32.988 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841987316715521[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:32.989 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841987316715520[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:32.989 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614841987316715522[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 01:22:32.989 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841987316715520[0;39m 请求参数: []
2025-08-25 01:22:32.989 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841987316715522[0;39m 请求参数: []
2025-08-25 01:22:32.989 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614841987316715521[0;39m 请求参数: []
2025-08-25 01:22:33.230 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614841987316715522[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:22:33.230 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614841987316715522[0;39m ==> Parameters: 
2025-08-25 01:22:33.240 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841987316715520[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 01:22:33.240 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841987316715520[0;39m ==> Parameters: 
2025-08-25 01:22:33.242 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614841987316715521[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 01:22:33.242 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614841987316715521[0;39m ==> Parameters: 
2025-08-25 01:22:33.468 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614841987316715522[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 01:22:33.469 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614841987316715522[0;39m <==        Row: 2025-08-25, 31, 14, 31, 14
2025-08-25 01:22:33.469 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614841987316715522[0;39m <==      Total: 1
2025-08-25 01:22:33.470 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841987316715522[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":31,"viewIncrease":31,"voteCount":14,"voteIncrease":14}],"success":true}
2025-08-25 01:22:33.470 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841987316715522[0;39m ------------- 结束 耗时：482 ms -------------
2025-08-25 01:22:33.489 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==    Columns: id, parent, name, sort
2025-08-25 01:22:33.490 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 01:22:33.490 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 01:22:33.490 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 01:22:33.490 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 01:22:33.490 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 01:22:33.491 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 01:22:33.491 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 01:22:33.491 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 01:22:33.491 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 01:22:33.491 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 01:22:33.491 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 01:22:33.491 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 01:22:33.491 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 01:22:33.491 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 01:22:33.491 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 01:22:33.492 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614841987316715520[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 01:22:33.492 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614841987316715520[0;39m <==      Total: 16
2025-08-25 01:22:33.492 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841987316715520[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 01:22:33.493 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841987316715520[0;39m ------------- 结束 耗时：505 ms -------------
2025-08-25 01:22:33.493 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614841987316715521[0;39m <==      Total: 0
2025-08-25 01:22:33.493 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614841987316715521[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 01:22:33.493 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614841987316715521[0;39m ------------- 结束 耗时：505 ms -------------
2025-08-25 01:23:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614842100613255168[0;39m 生成今日电子书快照开始
2025-08-25 01:23:00.264 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614842100613255168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:23:00.265 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614842100613255168[0;39m ==> Parameters: 
2025-08-25 01:23:00.783 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614842100613255168[0;39m <==    Updates: 0
2025-08-25 01:23:00.784 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614842100613255168[0;39m 生成今日电子书快照结束，耗时：783毫秒
2025-08-25 01:23:00.784 INFO  com.matt.wiki.job.DocJob                          :30   [32m614842103901589504[0;39m 更新电子书下的文档数据开始
2025-08-25 01:23:00.784 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614842103901589504[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:23:00.785 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614842103901589504[0;39m ==> Parameters: 
2025-08-25 01:23:01.390 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614842103901589504[0;39m <==    Updates: 1
2025-08-25 01:23:01.390 INFO  com.matt.wiki.job.DocJob                          :33   [32m614842103901589504[0;39m 更新电子书下的文档数据结束，耗时：606毫秒
2025-08-25 01:23:07.051 INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener:211  [32m                  [0;39m Restarting due to 92 class path changes (0 additions, 0 deletions, 92 modifications)
2025-08-25 01:23:07.053 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :54   [32m                  [0;39m Commencing graceful shutdown. Waiting for active requests to complete
2025-08-25 01:23:07.054 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Pausing ProtocolHandler ["http-nio-8080"]
2025-08-25 01:23:07.055 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :76   [32m                  [0;39m Graceful shutdown complete
2025-08-25 01:23:07.055 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Stopping ProtocolHandler ["http-nio-8080"]
2025-08-25 01:23:07.063 INFO  com.zaxxer.hikari.HikariDataSource                :349  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2025-08-25 01:23:07.066 INFO  com.zaxxer.hikari.HikariDataSource                :351  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2025-08-25 01:23:07.071 ERROR com.matt.wiki.websocket.WebSocketServer           :62   [32m                  [0;39m 发生错误
java.io.IOException: java.nio.channels.ClosedChannelException
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:778)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:575)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:542)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:530)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1022)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4090)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4700)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:468)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:915)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:448)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:182)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1126)
	at org.springframework.boot.devtools.restart.Restarter.stop(Restarter.java:308)
	at org.springframework.boot.devtools.restart.Restarter.lambda$restart$1(Restarter.java:250)
	at org.springframework.boot.devtools.restart.Restarter$LeakSafeThread.run(Restarter.java:612)
Caused by: java.nio.channels.ClosedChannelException: null
	at org.apache.tomcat.util.net.NioChannel$1.write(NioChannel.java:282)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1665)
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:987)
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1358)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1287)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1262)
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:171)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	... 36 common frames omitted
2025-08-25 01:23:07.072 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m                  [0;39m 连接关闭，token：o0RGzeA0uD，session id：4！当前连接数：1
2025-08-25 01:23:07.072 ERROR com.matt.wiki.websocket.WebSocketServer           :62   [32m                  [0;39m 发生错误
java.io.IOException: java.nio.channels.ClosedChannelException
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:778)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:575)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:542)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:530)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1022)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4090)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4700)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:468)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:915)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:235)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:448)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:182)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1126)
	at org.springframework.boot.devtools.restart.Restarter.stop(Restarter.java:308)
	at org.springframework.boot.devtools.restart.Restarter.lambda$restart$1(Restarter.java:250)
	at org.springframework.boot.devtools.restart.Restarter$LeakSafeThread.run(Restarter.java:612)
Caused by: java.nio.channels.ClosedChannelException: null
	at org.apache.tomcat.util.net.NioChannel$1.write(NioChannel.java:282)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1665)
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:987)
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1358)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1287)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1262)
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:171)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	... 36 common frames omitted
2025-08-25 01:23:07.072 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m                  [0;39m 连接关闭，token：oNyMNTWfHE，session id：5！当前连接数：0
2025-08-25 01:23:07.124 INFO  com.matt.wiki.WikiApplication                     :53   [32m                  [0;39m Starting WikiApplication using Java 20.0.1 with PID 76163 (/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 01:23:07.125 INFO  com.matt.wiki.WikiApplication                     :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 01:23:07.208 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 01:23:07.208 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 01:23:07.211 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-08-25 01:23:07.282 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :111  [32m                  [0;39m Tomcat initialized with port 8080 (http)
2025-08-25 01:23:07.283 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2025-08-25 01:23:07.283 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Starting service [Tomcat]
2025-08-25 01:23:07.283 INFO  org.apache.catalina.core.StandardEngine           :168  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-25 01:23:07.287 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :168  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-08-25 01:23:07.287 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :301  [32m                  [0;39m Root WebApplicationContext: initialization completed in 161 ms
2025-08-25 01:23:07.903 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2025-08-25 01:23:07.917 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2025-08-25 01:23:07.918 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :243  [32m                  [0;39m Tomcat started on port 8080 (http) with context path '/'
2025-08-25 01:23:07.924 INFO  com.matt.wiki.WikiApplication                     :59   [32m                  [0;39m Started WikiApplication in 0.819 seconds (process running for 1355.259)
2025-08-25 01:23:07.925 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2025-08-25 01:23:07.926 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m Start Successful
2025-08-25 01:23:07.926 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m 地址:	http://127.0.0.1:8080
2025-08-25 01:24:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614842352292466688[0;39m 生成今日电子书快照开始
2025-08-25 01:24:00.006 INFO  com.zaxxer.hikari.HikariDataSource                :109  [32m614842352292466688[0;39m HikariPool-2 - Starting...
2025-08-25 01:24:03.462 INFO  com.zaxxer.hikari.pool.HikariPool                 :575  [32m614842352292466688[0;39m HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3f8b9095
2025-08-25 01:24:03.463 INFO  com.zaxxer.hikari.HikariDataSource                :122  [32m614842352292466688[0;39m HikariPool-2 - Start completed.
2025-08-25 01:24:03.463 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614842352292466688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:24:03.464 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614842352292466688[0;39m ==> Parameters: 
2025-08-25 01:24:04.055 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614842352292466688[0;39m <==    Updates: 0
2025-08-25 01:24:04.055 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614842352292466688[0;39m 生成今日电子书快照结束，耗时：4050毫秒
2025-08-25 01:24:04.056 INFO  com.matt.wiki.job.DocJob                          :30   [32m614842369283592192[0;39m 更新电子书下的文档数据开始
2025-08-25 01:24:04.056 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614842369283592192[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:24:04.057 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614842369283592192[0;39m ==> Parameters: 
2025-08-25 01:24:04.586 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614842369283592192[0;39m <==    Updates: 1
2025-08-25 01:24:04.586 INFO  com.matt.wiki.job.DocJob                          :33   [32m614842369283592192[0;39m 更新电子书下的文档数据结束，耗时：530毫秒
2025-08-25 01:25:00.000 INFO  com.matt.wiki.job.DocJob                          :30   [32m614842603929735168[0;39m 更新电子书下的文档数据开始
2025-08-25 01:25:00.250 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614842603929735168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:25:00.251 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614842603929735168[0;39m ==> Parameters: 
2025-08-25 01:25:00.790 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614842603929735168[0;39m <==    Updates: 1
2025-08-25 01:25:00.790 INFO  com.matt.wiki.job.DocJob                          :33   [32m614842603929735168[0;39m 更新电子书下的文档数据结束，耗时：789毫秒
2025-08-25 01:25:00.790 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614842607243235328[0;39m 生成今日电子书快照开始
2025-08-25 01:25:00.791 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614842607243235328[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:25:00.791 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614842607243235328[0;39m ==> Parameters: 
2025-08-25 01:25:01.405 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614842607243235328[0;39m <==    Updates: 0
2025-08-25 01:25:01.405 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614842607243235328[0;39m 生成今日电子书快照结束，耗时：614毫秒
2025-08-25 01:26:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614842855587975168[0;39m 生成今日电子书快照开始
2025-08-25 01:26:00.249 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614842855587975168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:26:00.250 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614842855587975168[0;39m ==> Parameters: 
2025-08-25 01:26:00.760 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614842855587975168[0;39m <==    Updates: 0
2025-08-25 01:26:00.760 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614842855587975168[0;39m 生成今日电子书快照结束，耗时：759毫秒
2025-08-25 01:26:00.760 INFO  com.matt.wiki.job.DocJob                          :30   [32m614842858775646208[0;39m 更新电子书下的文档数据开始
2025-08-25 01:26:00.760 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614842858775646208[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:26:00.760 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614842858775646208[0;39m ==> Parameters: 
2025-08-25 01:26:01.318 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614842858775646208[0;39m <==    Updates: 1
2025-08-25 01:26:01.319 INFO  com.matt.wiki.job.DocJob                          :33   [32m614842858775646208[0;39m 更新电子书下的文档数据结束，耗时：559毫秒
2025-08-25 01:27:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614843107267186688[0;39m 生成今日电子书快照开始
2025-08-25 01:27:00.291 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614843107267186688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:27:00.292 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614843107267186688[0;39m ==> Parameters: 
2025-08-25 01:27:00.806 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614843107267186688[0;39m <==    Updates: 0
2025-08-25 01:27:00.807 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614843107267186688[0;39m 生成今日电子书快照结束，耗时：801毫秒
2025-08-25 01:27:00.808 INFO  com.matt.wiki.job.DocJob                          :30   [32m614843110635212800[0;39m 更新电子书下的文档数据开始
2025-08-25 01:27:00.808 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614843110635212800[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:27:00.809 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614843110635212800[0;39m ==> Parameters: 
2025-08-25 01:27:01.417 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614843110635212800[0;39m <==    Updates: 1
2025-08-25 01:27:01.417 INFO  com.matt.wiki.job.DocJob                          :33   [32m614843110635212800[0;39m 更新电子书下的文档数据结束，耗时：609毫秒
2025-08-25 01:28:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614843358925426688[0;39m 更新电子书下的文档数据开始
2025-08-25 01:28:00.298 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614843358925426688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:28:00.298 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614843358925426688[0;39m ==> Parameters: 
2025-08-25 01:28:00.861 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614843358925426688[0;39m <==    Updates: 1
2025-08-25 01:28:00.862 INFO  com.matt.wiki.job.DocJob                          :33   [32m614843358925426688[0;39m 更新电子书下的文档数据结束，耗时：857毫秒
2025-08-25 01:28:00.862 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614843362519945216[0;39m 生成今日电子书快照开始
2025-08-25 01:28:00.863 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614843362519945216[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:28:00.863 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614843362519945216[0;39m ==> Parameters: 
2025-08-25 01:28:01.629 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614843362519945216[0;39m <==    Updates: 0
2025-08-25 01:28:01.630 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614843362519945216[0;39m 生成今日电子书快照结束，耗时：768毫秒
2025-08-25 01:29:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614843610583666688[0;39m 更新电子书下的文档数据开始
2025-08-25 01:29:00.306 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614843610583666688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:29:00.306 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614843610583666688[0;39m ==> Parameters: 
2025-08-25 01:29:00.919 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614843610583666688[0;39m <==    Updates: 1
2025-08-25 01:29:00.920 INFO  com.matt.wiki.job.DocJob                          :33   [32m614843610583666688[0;39m 更新电子书下的文档数据结束，耗时：915毫秒
2025-08-25 01:29:00.921 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614843614425649152[0;39m 生成今日电子书快照开始
2025-08-25 01:29:00.922 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614843614425649152[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:29:00.923 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614843614425649152[0;39m ==> Parameters: 
2025-08-25 01:29:01.739 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614843614425649152[0;39m <==    Updates: 0
2025-08-25 01:29:01.740 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614843614425649152[0;39m 生成今日电子书快照结束，耗时：819毫秒
2025-08-25 01:30:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614843862225129472[0;39m 生成今日电子书快照开始
2025-08-25 01:30:00.313 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614843862225129472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:30:00.314 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614843862225129472[0;39m ==> Parameters: 
2025-08-25 01:30:00.834 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614843862225129472[0;39m <==    Updates: 0
2025-08-25 01:30:00.835 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614843862225129472[0;39m 生成今日电子书快照结束，耗时：834毫秒
2025-08-25 01:30:00.835 INFO  com.matt.wiki.job.DocJob                          :30   [32m614843865723179008[0;39m 更新电子书下的文档数据开始
2025-08-25 01:30:00.835 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614843865723179008[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:30:00.836 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614843865723179008[0;39m ==> Parameters: 
2025-08-25 01:30:01.391 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614843865723179008[0;39m <==    Updates: 1
2025-08-25 01:30:01.392 INFO  com.matt.wiki.job.DocJob                          :33   [32m614843865723179008[0;39m 更新电子书下的文档数据结束，耗时：557毫秒
2025-08-25 01:31:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614844113900146688[0;39m 生成今日电子书快照开始
2025-08-25 01:31:00.318 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614844113900146688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:31:00.319 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614844113900146688[0;39m ==> Parameters: 
2025-08-25 01:31:00.880 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614844113900146688[0;39m <==    Updates: 0
2025-08-25 01:31:00.881 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614844113900146688[0;39m 生成今日电子书快照结束，耗时：876毫秒
2025-08-25 01:31:00.881 INFO  com.matt.wiki.job.DocJob                          :30   [32m614844117574356992[0;39m 更新电子书下的文档数据开始
2025-08-25 01:31:00.881 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614844117574356992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:31:00.882 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614844117574356992[0;39m ==> Parameters: 
2025-08-25 01:31:01.547 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614844117574356992[0;39m <==    Updates: 1
2025-08-25 01:31:01.548 INFO  com.matt.wiki.job.DocJob                          :33   [32m614844117574356992[0;39m 更新电子书下的文档数据结束，耗时：667毫秒
2025-08-25 01:32:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614844365541609472[0;39m 生成今日电子书快照开始
2025-08-25 01:32:00.250 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614844365541609472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:32:00.250 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614844365541609472[0;39m ==> Parameters: 
2025-08-25 01:32:00.839 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614844365541609472[0;39m <==    Updates: 0
2025-08-25 01:32:00.839 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614844365541609472[0;39m 生成今日电子书快照结束，耗时：838毫秒
2025-08-25 01:32:00.840 INFO  com.matt.wiki.job.DocJob                          :30   [32m614844369060630528[0;39m 更新电子书下的文档数据开始
2025-08-25 01:32:00.841 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614844369060630528[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:32:00.841 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614844369060630528[0;39m ==> Parameters: 
2025-08-25 01:32:01.656 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614844369060630528[0;39m <==    Updates: 1
2025-08-25 01:32:01.657 INFO  com.matt.wiki.job.DocJob                          :33   [32m614844369060630528[0;39m 更新电子书下的文档数据结束，耗时：817毫秒
2025-08-25 01:33:00.003 INFO  com.matt.wiki.job.DocJob                          :30   [32m614844617208238080[0;39m 更新电子书下的文档数据开始
2025-08-25 01:33:00.332 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614844617208238080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:33:00.332 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614844617208238080[0;39m ==> Parameters: 
2025-08-25 01:33:00.896 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614844617208238080[0;39m <==    Updates: 1
2025-08-25 01:33:00.897 INFO  com.matt.wiki.job.DocJob                          :33   [32m614844617208238080[0;39m 更新电子书下的文档数据结束，耗时：894毫秒
2025-08-25 01:33:00.897 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614844620957945856[0;39m 生成今日电子书快照开始
2025-08-25 01:33:00.897 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614844620957945856[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:33:00.898 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614844620957945856[0;39m ==> Parameters: 
2025-08-25 01:33:01.663 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614844620957945856[0;39m <==    Updates: 0
2025-08-25 01:33:01.663 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614844620957945856[0;39m 生成今日电子书快照结束，耗时：766毫秒
2025-08-25 01:34:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614844868858089472[0;39m 更新电子书下的文档数据开始
2025-08-25 01:34:00.359 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614844868858089472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:34:00.360 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614844868858089472[0;39m ==> Parameters: 
2025-08-25 01:34:00.912 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614844868858089472[0;39m <==    Updates: 1
2025-08-25 01:34:00.913 INFO  com.matt.wiki.job.DocJob                          :33   [32m614844868858089472[0;39m 更新电子书下的文档数据结束，耗时：911毫秒
2025-08-25 01:34:00.914 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614844872687489024[0;39m 生成今日电子书快照开始
2025-08-25 01:34:00.914 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614844872687489024[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:34:00.915 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614844872687489024[0;39m ==> Parameters: 
2025-08-25 01:34:01.529 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614844872687489024[0;39m <==    Updates: 0
2025-08-25 01:34:01.529 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614844872687489024[0;39m 生成今日电子书快照结束，耗时：615毫秒
2025-08-25 01:35:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614845120516329472[0;39m 生成今日电子书快照开始
2025-08-25 01:35:00.251 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614845120516329472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:35:00.253 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614845120516329472[0;39m ==> Parameters: 
2025-08-25 01:35:00.859 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614845120516329472[0;39m <==    Updates: 0
2025-08-25 01:35:00.860 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614845120516329472[0;39m 生成今日电子书快照结束，耗时：858毫秒
2025-08-25 01:35:00.861 INFO  com.matt.wiki.job.DocJob                          :30   [32m614845124123430912[0;39m 更新电子书下的文档数据开始
2025-08-25 01:35:00.862 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614845124123430912[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:35:00.862 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614845124123430912[0;39m ==> Parameters: 
2025-08-25 01:35:01.431 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614845124123430912[0;39m <==    Updates: 1
2025-08-25 01:35:01.432 INFO  com.matt.wiki.job.DocJob                          :33   [32m614845124123430912[0;39m 更新电子书下的文档数据结束，耗时：571毫秒
2025-08-25 01:35:59.983 INFO  com.matt.wiki.job.DocJob                          :30   [32m614845372099072000[0;39m 更新电子书下的文档数据开始
2025-08-25 01:36:00.233 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614845372099072000[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:36:00.233 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614845372099072000[0;39m ==> Parameters: 
2025-08-25 01:36:00.752 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614845372099072000[0;39m <==    Updates: 1
2025-08-25 01:36:00.753 INFO  com.matt.wiki.job.DocJob                          :33   [32m614845372099072000[0;39m 更新电子书下的文档数据结束，耗时：770毫秒
2025-08-25 01:36:00.753 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614845375328686080[0;39m 生成今日电子书快照开始
2025-08-25 01:36:00.753 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614845375328686080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:36:00.753 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614845375328686080[0;39m ==> Parameters: 
2025-08-25 01:36:01.355 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614845375328686080[0;39m <==    Updates: 0
2025-08-25 01:36:01.355 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614845375328686080[0;39m 生成今日电子书快照结束，耗时：602毫秒
2025-08-25 01:37:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614845623845392384[0;39m 更新电子书下的文档数据开始
2025-08-25 01:37:00.254 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614845623845392384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:37:00.254 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614845623845392384[0;39m ==> Parameters: 
2025-08-25 01:37:00.849 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614845623845392384[0;39m <==    Updates: 1
2025-08-25 01:37:00.850 INFO  com.matt.wiki.job.DocJob                          :33   [32m614845623845392384[0;39m 更新电子书下的文档数据结束，耗时：846毫秒
2025-08-25 01:37:00.850 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614845627393773568[0;39m 生成今日电子书快照开始
2025-08-25 01:37:00.851 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614845627393773568[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:37:00.851 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614845627393773568[0;39m ==> Parameters: 
2025-08-25 01:37:01.586 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614845627393773568[0;39m <==    Updates: 0
2025-08-25 01:37:01.586 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614845627393773568[0;39m 生成今日电子书快照结束，耗时：736毫秒
2025-08-25 01:38:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614845875503632384[0;39m 更新电子书下的文档数据开始
2025-08-25 01:38:00.254 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614845875503632384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:38:00.255 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614845875503632384[0;39m ==> Parameters: 
2025-08-25 01:38:00.805 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614845875503632384[0;39m <==    Updates: 1
2025-08-25 01:38:00.806 INFO  com.matt.wiki.job.DocJob                          :33   [32m614845875503632384[0;39m 更新电子书下的文档数据结束，耗时：801毫秒
2025-08-25 01:38:00.806 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614845878867464192[0;39m 生成今日电子书快照开始
2025-08-25 01:38:00.806 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614845878867464192[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:38:00.807 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614845878867464192[0;39m ==> Parameters: 
2025-08-25 01:38:01.571 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614845878867464192[0;39m <==    Updates: 0
2025-08-25 01:38:01.571 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614845878867464192[0;39m 生成今日电子书快照结束，耗时：765毫秒
2025-08-25 01:39:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614846127149289472[0;39m 生成今日电子书快照开始
2025-08-25 01:39:00.451 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614846127149289472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:39:00.453 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614846127149289472[0;39m ==> Parameters: 
2025-08-25 01:39:01.221 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614846127149289472[0;39m <==    Updates: 0
2025-08-25 01:39:01.222 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614846127149289472[0;39m 生成今日电子书快照结束，耗时：1221毫秒
2025-08-25 01:39:01.222 INFO  com.matt.wiki.job.DocJob                          :30   [32m614846132270534656[0;39m 更新电子书下的文档数据开始
2025-08-25 01:39:01.222 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614846132270534656[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:39:01.222 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614846132270534656[0;39m ==> Parameters: 
2025-08-25 01:39:01.987 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614846132270534656[0;39m <==    Updates: 1
2025-08-25 01:39:01.987 INFO  com.matt.wiki.job.DocJob                          :33   [32m614846132270534656[0;39m 更新电子书下的文档数据结束，耗时：765毫秒
2025-08-25 01:40:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614846378803335168[0;39m 生成今日电子书快照开始
2025-08-25 01:40:00.252 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614846378803335168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:40:00.253 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614846378803335168[0;39m ==> Parameters: 
2025-08-25 01:40:00.761 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614846378803335168[0;39m <==    Updates: 0
2025-08-25 01:40:00.761 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614846378803335168[0;39m 生成今日电子书快照结束，耗时：760毫秒
2025-08-25 01:40:00.761 INFO  com.matt.wiki.job.DocJob                          :30   [32m614846381995200512[0;39m 更新电子书下的文档数据开始
2025-08-25 01:40:00.761 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614846381995200512[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:40:00.762 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614846381995200512[0;39m ==> Parameters: 
2025-08-25 01:40:01.269 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614846381995200512[0;39m <==    Updates: 1
2025-08-25 01:40:01.270 INFO  com.matt.wiki.job.DocJob                          :33   [32m614846381995200512[0;39m 更新电子书下的文档数据结束，耗时：509毫秒
2025-08-25 01:41:00.003 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614846630474158080[0;39m 生成今日电子书快照开始
2025-08-25 01:41:00.253 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614846630474158080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:41:00.253 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614846630474158080[0;39m ==> Parameters: 
2025-08-25 01:41:00.772 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614846630474158080[0;39m <==    Updates: 0
2025-08-25 01:41:00.773 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614846630474158080[0;39m 生成今日电子书快照结束，耗时：770毫秒
2025-08-25 01:41:00.774 INFO  com.matt.wiki.job.DocJob                          :30   [32m614846633707966464[0;39m 更新电子书下的文档数据开始
2025-08-25 01:41:00.775 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614846633707966464[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:41:00.775 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614846633707966464[0;39m ==> Parameters: 
2025-08-25 01:41:01.284 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614846633707966464[0;39m <==    Updates: 1
2025-08-25 01:41:01.285 INFO  com.matt.wiki.job.DocJob                          :33   [32m614846633707966464[0;39m 更新电子书下的文档数据结束，耗时：511毫秒
2025-08-25 01:42:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614846882119815168[0;39m 生成今日电子书快照开始
2025-08-25 01:42:00.250 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614846882119815168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:42:00.251 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614846882119815168[0;39m ==> Parameters: 
2025-08-25 01:42:00.753 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614846882119815168[0;39m <==    Updates: 0
2025-08-25 01:42:00.753 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614846882119815168[0;39m 生成今日电子书快照结束，耗时：752毫秒
2025-08-25 01:42:00.753 INFO  com.matt.wiki.job.DocJob                          :30   [32m614846885278126080[0;39m 更新电子书下的文档数据开始
2025-08-25 01:42:00.754 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614846885278126080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:42:00.754 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614846885278126080[0;39m ==> Parameters: 
2025-08-25 01:42:01.391 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614846885278126080[0;39m <==    Updates: 1
2025-08-25 01:42:01.392 INFO  com.matt.wiki.job.DocJob                          :33   [32m614846885278126080[0;39m 更新电子书下的文档数据结束，耗时：638毫秒
2025-08-25 01:43:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614847133782249472[0;39m 生成今日电子书快照开始
2025-08-25 01:43:00.273 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614847133782249472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:43:00.273 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614847133782249472[0;39m ==> Parameters: 
2025-08-25 01:43:00.797 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614847133782249472[0;39m <==    Updates: 0
2025-08-25 01:43:00.798 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614847133782249472[0;39m 生成今日电子书快照结束，耗时：796毫秒
2025-08-25 01:43:00.798 INFO  com.matt.wiki.job.DocJob                          :30   [32m614847137125109760[0;39m 更新电子书下的文档数据开始
2025-08-25 01:43:00.799 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614847137125109760[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:43:00.799 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614847137125109760[0;39m ==> Parameters: 
2025-08-25 01:43:01.369 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614847137125109760[0;39m <==    Updates: 1
2025-08-25 01:43:01.369 INFO  com.matt.wiki.job.DocJob                          :33   [32m614847137125109760[0;39m 更新电子书下的文档数据结束，耗时：570毫秒
2025-08-25 01:44:00.008 INFO  com.matt.wiki.job.DocJob                          :30   [32m614847385469849600[0;39m 更新电子书下的文档数据开始
2025-08-25 01:44:00.323 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614847385469849600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:44:00.324 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614847385469849600[0;39m ==> Parameters: 
2025-08-25 01:44:01.012 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614847385469849600[0;39m <==    Updates: 1
2025-08-25 01:44:01.013 INFO  com.matt.wiki.job.DocJob                          :33   [32m614847385469849600[0;39m 更新电子书下的文档数据结束，耗时：1005毫秒
2025-08-25 01:44:01.013 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614847389685125120[0;39m 生成今日电子书快照开始
2025-08-25 01:44:01.013 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614847389685125120[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:44:01.014 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614847389685125120[0;39m ==> Parameters: 
2025-08-25 01:44:01.713 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614847389685125120[0;39m <==    Updates: 0
2025-08-25 01:44:01.714 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614847389685125120[0;39m 生成今日电子书快照结束，耗时：701毫秒
2025-08-25 01:45:00.007 INFO  com.matt.wiki.job.DocJob                          :30   [32m614847637123895296[0;39m 更新电子书下的文档数据开始
2025-08-25 01:45:00.284 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614847637123895296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:45:00.284 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614847637123895296[0;39m ==> Parameters: 
2025-08-25 01:45:00.796 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614847637123895296[0;39m <==    Updates: 1
2025-08-25 01:45:00.796 INFO  com.matt.wiki.job.DocJob                          :33   [32m614847637123895296[0;39m 更新电子书下的文档数据结束，耗时：788毫秒
2025-08-25 01:45:00.796 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614847640433201152[0;39m 生成今日电子书快照开始
2025-08-25 01:45:00.796 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614847640433201152[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:45:00.796 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614847640433201152[0;39m ==> Parameters: 
2025-08-25 01:45:01.412 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614847640433201152[0;39m <==    Updates: 0
2025-08-25 01:45:01.412 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614847640433201152[0;39m 生成今日电子书快照结束，耗时：616毫秒
2025-08-25 01:46:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614847888769552384[0;39m 更新电子书下的文档数据开始
2025-08-25 01:46:00.291 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614847888769552384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:46:00.292 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614847888769552384[0;39m ==> Parameters: 
2025-08-25 01:46:00.809 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614847888769552384[0;39m <==    Updates: 1
2025-08-25 01:46:00.810 INFO  com.matt.wiki.job.DocJob                          :33   [32m614847888769552384[0;39m 更新电子书下的文档数据结束，耗时：806毫秒
2025-08-25 01:46:00.810 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614847892150161408[0;39m 生成今日电子书快照开始
2025-08-25 01:46:00.811 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614847892150161408[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:46:00.812 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614847892150161408[0;39m ==> Parameters: 
2025-08-25 01:46:01.351 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614847892150161408[0;39m <==    Updates: 0
2025-08-25 01:46:01.351 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614847892150161408[0;39m 生成今日电子书快照结束，耗时：540毫秒
2025-08-25 01:47:00.003 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614848140423598080[0;39m 生成今日电子书快照开始
2025-08-25 01:47:00.296 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614848140423598080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:47:00.297 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614848140423598080[0;39m ==> Parameters: 
2025-08-25 01:47:00.816 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614848140423598080[0;39m <==    Updates: 0
2025-08-25 01:47:00.816 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614848140423598080[0;39m 生成今日电子书快照结束，耗时：813毫秒
2025-08-25 01:47:00.817 INFO  com.matt.wiki.job.DocJob                          :30   [32m614848143837761536[0;39m 更新电子书下的文档数据开始
2025-08-25 01:47:00.817 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614848143837761536[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:47:00.817 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614848143837761536[0;39m ==> Parameters: 
2025-08-25 01:47:01.364 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614848143837761536[0;39m <==    Updates: 1
2025-08-25 01:47:01.364 INFO  com.matt.wiki.job.DocJob                          :33   [32m614848143837761536[0;39m 更新电子书下的文档数据结束，耗时：547毫秒
2025-08-25 01:48:00.002 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614848392077643776[0;39m 生成今日电子书快照开始
2025-08-25 01:48:00.254 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614848392077643776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:48:00.254 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614848392077643776[0;39m ==> Parameters: 
2025-08-25 01:48:00.764 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614848392077643776[0;39m <==    Updates: 0
2025-08-25 01:48:00.765 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614848392077643776[0;39m 生成今日电子书快照结束，耗时：763毫秒
2025-08-25 01:48:00.765 INFO  com.matt.wiki.job.DocJob                          :30   [32m614848395277897728[0;39m 更新电子书下的文档数据开始
2025-08-25 01:48:00.765 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614848395277897728[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:48:00.766 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614848395277897728[0;39m ==> Parameters: 
2025-08-25 01:48:01.336 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614848395277897728[0;39m <==    Updates: 1
2025-08-25 01:48:01.337 INFO  com.matt.wiki.job.DocJob                          :33   [32m614848395277897728[0;39m 更新电子书下的文档数据结束，耗时：572毫秒
2025-08-25 01:49:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614848643748466688[0;39m 生成今日电子书快照开始
2025-08-25 01:49:00.255 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614848643748466688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:49:00.255 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614848643748466688[0;39m ==> Parameters: 
2025-08-25 01:49:00.823 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614848643748466688[0;39m <==    Updates: 0
2025-08-25 01:49:00.824 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614848643748466688[0;39m 生成今日电子书快照结束，耗时：819毫秒
2025-08-25 01:49:00.824 INFO  com.matt.wiki.job.DocJob                          :30   [32m614848647183601664[0;39m 更新电子书下的文档数据开始
2025-08-25 01:49:00.825 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614848647183601664[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:49:00.825 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614848647183601664[0;39m ==> Parameters: 
2025-08-25 01:49:01.435 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614848647183601664[0;39m <==    Updates: 1
2025-08-25 01:49:01.436 INFO  com.matt.wiki.job.DocJob                          :33   [32m614848647183601664[0;39m 更新电子书下的文档数据结束，耗时：612毫秒
2025-08-25 01:50:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614848895402512384[0;39m 更新电子书下的文档数据开始
2025-08-25 01:50:00.253 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614848895402512384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:50:00.253 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614848895402512384[0;39m ==> Parameters: 
2025-08-25 01:50:00.753 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614848895402512384[0;39m <==    Updates: 1
2025-08-25 01:50:00.753 INFO  com.matt.wiki.job.DocJob                          :33   [32m614848895402512384[0;39m 更新电子书下的文档数据结束，耗时：748毫秒
2025-08-25 01:50:00.754 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614848898548240384[0;39m 生成今日电子书快照开始
2025-08-25 01:50:00.754 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614848898548240384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:50:00.754 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614848898548240384[0;39m ==> Parameters: 
2025-08-25 01:50:01.271 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614848898548240384[0;39m <==    Updates: 0
2025-08-25 01:50:01.272 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614848898548240384[0;39m 生成今日电子书快照结束，耗时：518毫秒
2025-08-25 01:51:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614849147060752384[0;39m 更新电子书下的文档数据开始
2025-08-25 01:51:00.321 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614849147060752384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:51:00.322 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614849147060752384[0;39m ==> Parameters: 
2025-08-25 01:51:00.855 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614849147060752384[0;39m <==    Updates: 1
2025-08-25 01:51:00.856 INFO  com.matt.wiki.job.DocJob                          :33   [32m614849147060752384[0;39m 更新电子书下的文档数据结束，耗时：851毫秒
2025-08-25 01:51:00.856 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614849150634299392[0;39m 生成今日电子书快照开始
2025-08-25 01:51:00.857 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614849150634299392[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:51:00.857 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614849150634299392[0;39m ==> Parameters: 
2025-08-25 01:51:01.427 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614849150634299392[0;39m <==    Updates: 0
2025-08-25 01:51:01.428 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614849150634299392[0;39m 生成今日电子书快照结束，耗时：572毫秒
2025-08-25 01:52:00.003 INFO  com.matt.wiki.job.DocJob                          :30   [32m614849398714798080[0;39m 更新电子书下的文档数据开始
2025-08-25 01:52:00.253 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614849398714798080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:52:00.253 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614849398714798080[0;39m ==> Parameters: 
2025-08-25 01:52:00.782 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614849398714798080[0;39m <==    Updates: 1
2025-08-25 01:52:00.782 INFO  com.matt.wiki.job.DocJob                          :33   [32m614849398714798080[0;39m 更新电子书下的文档数据结束，耗时：779毫秒
2025-08-25 01:52:00.782 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614849401982160896[0;39m 生成今日电子书快照开始
2025-08-25 01:52:00.783 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614849401982160896[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:52:00.783 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614849401982160896[0;39m ==> Parameters: 
2025-08-25 01:52:01.431 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614849401982160896[0;39m <==    Updates: 0
2025-08-25 01:52:01.433 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614849401982160896[0;39m 生成今日电子书快照结束，耗时：650毫秒
2025-08-25 01:53:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614849650364649472[0;39m 更新电子书下的文档数据开始
2025-08-25 01:53:00.322 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614849650364649472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:53:00.323 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614849650364649472[0;39m ==> Parameters: 
2025-08-25 01:53:00.861 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614849650364649472[0;39m <==    Updates: 1
2025-08-25 01:53:00.862 INFO  com.matt.wiki.job.DocJob                          :33   [32m614849650364649472[0;39m 更新电子书下的文档数据结束，耗时：861毫秒
2025-08-25 01:53:00.863 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614849653980139520[0;39m 生成今日电子书快照开始
2025-08-25 01:53:00.864 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614849653980139520[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:53:00.864 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614849653980139520[0;39m ==> Parameters: 
2025-08-25 01:53:01.480 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614849653980139520[0;39m <==    Updates: 0
2025-08-25 01:53:01.481 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614849653980139520[0;39m 生成今日电子书快照结束，耗时：618毫秒
2025-08-25 01:54:00.000 INFO  com.matt.wiki.job.DocJob                          :30   [32m614849902018695168[0;39m 更新电子书下的文档数据开始
2025-08-25 01:54:00.239 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614849902018695168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:54:00.240 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614849902018695168[0;39m ==> Parameters: 
2025-08-25 01:54:00.751 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614849902018695168[0;39m <==    Updates: 1
2025-08-25 01:54:00.751 INFO  com.matt.wiki.job.DocJob                          :33   [32m614849902018695168[0;39m 更新电子书下的文档数据结束，耗时：751毫秒
2025-08-25 01:54:00.752 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614849905172811776[0;39m 生成今日电子书快照开始
2025-08-25 01:54:00.752 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614849905172811776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:54:00.753 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614849905172811776[0;39m ==> Parameters: 
2025-08-25 01:54:01.321 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614849905172811776[0;39m <==    Updates: 0
2025-08-25 01:54:01.322 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614849905172811776[0;39m 生成今日电子书快照结束，耗时：570毫秒
2025-08-25 01:55:00.000 INFO  com.matt.wiki.job.DocJob                          :30   [32m614850153676935168[0;39m 更新电子书下的文档数据开始
2025-08-25 01:55:00.239 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614850153676935168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:55:00.239 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614850153676935168[0;39m ==> Parameters: 
2025-08-25 01:55:00.757 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614850153676935168[0;39m <==    Updates: 1
2025-08-25 01:55:00.758 INFO  com.matt.wiki.job.DocJob                          :33   [32m614850153676935168[0;39m 更新电子书下的文档数据结束，耗时：758毫秒
2025-08-25 01:55:00.758 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614850156856217600[0;39m 生成今日电子书快照开始
2025-08-25 01:55:00.759 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614850156856217600[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:55:00.760 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614850156856217600[0;39m ==> Parameters: 
2025-08-25 01:55:01.262 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614850156856217600[0;39m <==    Updates: 0
2025-08-25 01:55:01.262 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614850156856217600[0;39m 生成今日电子书快照结束，耗时：503毫秒
2025-08-25 01:56:00.002 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614850405343563776[0;39m 生成今日电子书快照开始
2025-08-25 01:56:00.347 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614850405343563776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:56:00.348 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614850405343563776[0;39m ==> Parameters: 
2025-08-25 01:56:00.842 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614850405343563776[0;39m <==    Updates: 0
2025-08-25 01:56:00.842 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614850405343563776[0;39m 生成今日电子书快照结束，耗时：839毫秒
2025-08-25 01:56:00.843 INFO  com.matt.wiki.job.DocJob                          :30   [32m614850408866779136[0;39m 更新电子书下的文档数据开始
2025-08-25 01:56:00.843 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614850408866779136[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:56:00.843 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614850408866779136[0;39m ==> Parameters: 
2025-08-25 01:56:01.381 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614850408866779136[0;39m <==    Updates: 1
2025-08-25 01:56:01.382 INFO  com.matt.wiki.job.DocJob                          :33   [32m614850408866779136[0;39m 更新电子书下的文档数据结束，耗时：539毫秒
2025-08-25 01:57:00.003 INFO  com.matt.wiki.job.DocJob                          :30   [32m614850657005998080[0;39m 更新电子书下的文档数据开始
2025-08-25 01:57:00.259 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614850657005998080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:57:00.259 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614850657005998080[0;39m ==> Parameters: 
2025-08-25 01:57:00.743 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614850657005998080[0;39m <==    Updates: 1
2025-08-25 01:57:00.744 INFO  com.matt.wiki.job.DocJob                          :33   [32m614850657005998080[0;39m 更新电子书下的文档数据结束，耗时：741毫秒
2025-08-25 01:57:00.744 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614850660113977344[0;39m 生成今日电子书快照开始
2025-08-25 01:57:00.745 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614850660113977344[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:57:00.746 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614850660113977344[0;39m ==> Parameters: 
2025-08-25 01:57:01.283 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614850660113977344[0;39m <==    Updates: 0
2025-08-25 01:57:01.283 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614850660113977344[0;39m 生成今日电子书快照结束，耗时：539毫秒
2025-08-25 01:58:00.003 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614850908660043776[0;39m 生成今日电子书快照开始
2025-08-25 01:58:00.242 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614850908660043776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:58:00.242 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614850908660043776[0;39m ==> Parameters: 
2025-08-25 01:58:00.776 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614850908660043776[0;39m <==    Updates: 0
2025-08-25 01:58:00.776 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614850908660043776[0;39m 生成今日电子书快照结束，耗时：773毫秒
2025-08-25 01:58:00.776 INFO  com.matt.wiki.job.DocJob                          :30   [32m614850911906435072[0;39m 更新电子书下的文档数据开始
2025-08-25 01:58:00.777 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614850911906435072[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:58:00.777 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614850911906435072[0;39m ==> Parameters: 
2025-08-25 01:58:01.358 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614850911906435072[0;39m <==    Updates: 1
2025-08-25 01:58:01.359 INFO  com.matt.wiki.job.DocJob                          :33   [32m614850911906435072[0;39m 更新电子书下的文档数据结束，耗时：583毫秒
2025-08-25 01:59:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614851160309895168[0;39m 生成今日电子书快照开始
2025-08-25 01:59:00.239 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614851160309895168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 01:59:00.240 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614851160309895168[0;39m ==> Parameters: 
2025-08-25 01:59:00.721 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614851160309895168[0;39m <==    Updates: 0
2025-08-25 01:59:00.722 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614851160309895168[0;39m 生成今日电子书快照结束，耗时：722毫秒
2025-08-25 01:59:00.722 INFO  com.matt.wiki.job.DocJob                          :30   [32m614851163338182656[0;39m 更新电子书下的文档数据开始
2025-08-25 01:59:00.723 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614851163338182656[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 01:59:00.724 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614851163338182656[0;39m ==> Parameters: 
2025-08-25 01:59:01.209 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614851163338182656[0;39m <==    Updates: 1
2025-08-25 01:59:01.210 INFO  com.matt.wiki.job.DocJob                          :33   [32m614851163338182656[0;39m 更新电子书下的文档数据结束，耗时：488毫秒
2025-08-25 02:00:00.003 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614851411980718080[0;39m 生成今日电子书快照开始
2025-08-25 02:00:00.276 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614851411980718080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:00:00.277 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614851411980718080[0;39m ==> Parameters: 
2025-08-25 02:00:00.756 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614851411980718080[0;39m <==    Updates: 0
2025-08-25 02:00:00.756 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614851411980718080[0;39m 生成今日电子书快照结束，耗时：752毫秒
2025-08-25 02:00:00.756 INFO  com.matt.wiki.job.DocJob                          :30   [32m614851415139028992[0;39m 更新电子书下的文档数据开始
2025-08-25 02:00:00.756 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614851415139028992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:00:00.757 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614851415139028992[0;39m ==> Parameters: 
2025-08-25 02:00:01.300 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614851415139028992[0;39m <==    Updates: 1
2025-08-25 02:00:01.301 INFO  com.matt.wiki.job.DocJob                          :33   [32m614851415139028992[0;39m 更新电子书下的文档数据结束，耗时：545毫秒
2025-08-25 02:01:00.002 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614851663634763776[0;39m 生成今日电子书快照开始
2025-08-25 02:01:00.282 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614851663634763776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:01:00.283 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614851663634763776[0;39m ==> Parameters: 
2025-08-25 02:01:00.767 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614851663634763776[0;39m <==    Updates: 0
2025-08-25 02:01:00.767 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614851663634763776[0;39m 生成今日电子书快照结束，耗时：764毫秒
2025-08-25 02:01:00.767 INFO  com.matt.wiki.job.DocJob                          :30   [32m614851666843406336[0;39m 更新电子书下的文档数据开始
2025-08-25 02:01:00.768 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614851666843406336[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:01:00.768 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614851666843406336[0;39m ==> Parameters: 
2025-08-25 02:01:01.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614851666843406336[0;39m <==    Updates: 1
2025-08-25 02:01:01.257 INFO  com.matt.wiki.job.DocJob                          :33   [32m614851666843406336[0;39m 更新电子书下的文档数据结束，耗时：490毫秒
2025-08-25 02:02:00.003 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614851915297198080[0;39m 生成今日电子书快照开始
2025-08-25 02:02:00.244 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614851915297198080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:02:00.244 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614851915297198080[0;39m ==> Parameters: 
2025-08-25 02:02:00.749 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614851915297198080[0;39m <==    Updates: 0
2025-08-25 02:02:00.749 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614851915297198080[0;39m 生成今日电子书快照结束，耗时：745毫秒
2025-08-25 02:02:00.750 INFO  com.matt.wiki.job.DocJob                          :30   [32m614851918430343168[0;39m 更新电子书下的文档数据开始
2025-08-25 02:02:00.750 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614851918430343168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:02:00.750 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614851918430343168[0;39m ==> Parameters: 
2025-08-25 02:02:01.242 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614851918430343168[0;39m <==    Updates: 1
2025-08-25 02:02:01.243 INFO  com.matt.wiki.job.DocJob                          :33   [32m614851918430343168[0;39m 更新电子书下的文档数据结束，耗时：493毫秒
2025-08-25 02:03:00.004 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614852166959632384[0;39m 生成今日电子书快照开始
2025-08-25 02:03:00.244 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614852166959632384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:03:00.245 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614852166959632384[0;39m ==> Parameters: 
2025-08-25 02:03:00.809 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614852166959632384[0;39m <==    Updates: 0
2025-08-25 02:03:00.810 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614852166959632384[0;39m 生成今日电子书快照结束，耗时：805毫秒
2025-08-25 02:03:00.810 INFO  com.matt.wiki.job.DocJob                          :30   [32m614852170340241408[0;39m 更新电子书下的文档数据开始
2025-08-25 02:03:00.811 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614852170340241408[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:03:00.811 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614852170340241408[0;39m ==> Parameters: 
2025-08-25 02:03:01.382 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614852170340241408[0;39m <==    Updates: 1
2025-08-25 02:03:01.382 INFO  com.matt.wiki.job.DocJob                          :33   [32m614852170340241408[0;39m 更新电子书下的文档数据结束，耗时：572毫秒
2025-08-25 02:04:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614852418605289472[0;39m 更新电子书下的文档数据开始
2025-08-25 02:04:00.301 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614852418605289472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:04:00.302 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614852418605289472[0;39m ==> Parameters: 
2025-08-25 02:04:00.802 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614852418605289472[0;39m <==    Updates: 1
2025-08-25 02:04:00.804 INFO  com.matt.wiki.job.DocJob                          :33   [32m614852418605289472[0;39m 更新电子书下的文档数据结束，耗时：803毫秒
2025-08-25 02:04:00.804 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614852421973315584[0;39m 生成今日电子书快照开始
2025-08-25 02:04:00.805 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614852421973315584[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:04:00.806 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614852421973315584[0;39m ==> Parameters: 
2025-08-25 02:04:01.351 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614852421973315584[0;39m <==    Updates: 0
2025-08-25 02:04:01.351 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614852421973315584[0;39m 生成今日电子书快照结束，耗时：547毫秒
2025-08-25 02:05:00.003 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614852670271918080[0;39m 生成今日电子书快照开始
2025-08-25 02:05:00.308 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614852670271918080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:05:00.308 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614852670271918080[0;39m ==> Parameters: 
2025-08-25 02:05:00.829 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614852670271918080[0;39m <==    Updates: 0
2025-08-25 02:05:00.830 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614852670271918080[0;39m 生成今日电子书快照结束，耗时：826毫秒
2025-08-25 02:05:00.831 INFO  com.matt.wiki.job.DocJob                          :30   [32m614852673744801792[0;39m 更新电子书下的文档数据开始
2025-08-25 02:05:00.832 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614852673744801792[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:05:00.833 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614852673744801792[0;39m ==> Parameters: 
2025-08-25 02:05:01.374 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614852673744801792[0;39m <==    Updates: 1
2025-08-25 02:05:01.375 INFO  com.matt.wiki.job.DocJob                          :33   [32m614852673744801792[0;39m 更新电子书下的文档数据结束，耗时：544毫秒
2025-08-25 02:06:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614852921934352384[0;39m 更新电子书下的文档数据开始
2025-08-25 02:06:00.242 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614852921934352384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:06:00.242 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614852921934352384[0;39m ==> Parameters: 
2025-08-25 02:06:00.734 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614852921934352384[0;39m <==    Updates: 1
2025-08-25 02:06:00.734 INFO  com.matt.wiki.job.DocJob                          :33   [32m614852921934352384[0;39m 更新电子书下的文档数据结束，耗时：730毫秒
2025-08-25 02:06:00.734 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614852924996194304[0;39m 生成今日电子书快照开始
2025-08-25 02:06:00.734 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614852924996194304[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:06:00.735 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614852924996194304[0;39m ==> Parameters: 
2025-08-25 02:06:01.240 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614852924996194304[0;39m <==    Updates: 0
2025-08-25 02:06:01.240 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614852924996194304[0;39m 生成今日电子书快照结束，耗时：506毫秒
2025-08-25 02:07:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614853173592592384[0;39m 更新电子书下的文档数据开始
2025-08-25 02:07:00.243 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614853173592592384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:07:00.243 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614853173592592384[0;39m ==> Parameters: 
2025-08-25 02:07:00.735 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614853173592592384[0;39m <==    Updates: 1
2025-08-25 02:07:00.735 INFO  com.matt.wiki.job.DocJob                          :33   [32m614853173592592384[0;39m 更新电子书下的文档数据结束，耗时：731毫秒
2025-08-25 02:07:00.736 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614853176662822912[0;39m 生成今日电子书快照开始
2025-08-25 02:07:00.736 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614853176662822912[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:07:00.736 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614853176662822912[0;39m ==> Parameters: 
2025-08-25 02:07:01.347 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614853176662822912[0;39m <==    Updates: 0
2025-08-25 02:07:01.347 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614853176662822912[0;39m 生成今日电子书快照结束，耗时：611毫秒
2025-08-25 02:08:00.002 INFO  com.matt.wiki.job.DocJob                          :30   [32m614853425242443776[0;39m 更新电子书下的文档数据开始
2025-08-25 02:08:00.326 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614853425242443776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:08:00.327 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614853425242443776[0;39m ==> Parameters: 
2025-08-25 02:08:00.841 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614853425242443776[0;39m <==    Updates: 1
2025-08-25 02:08:00.841 INFO  com.matt.wiki.job.DocJob                          :33   [32m614853425242443776[0;39m 更新电子书下的文档数据结束，耗时：838毫秒
2025-08-25 02:08:00.842 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614853428765659136[0;39m 生成今日电子书快照开始
2025-08-25 02:08:00.842 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614853428765659136[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:08:00.842 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614853428765659136[0;39m ==> Parameters: 
2025-08-25 02:08:01.412 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614853428765659136[0;39m <==    Updates: 0
2025-08-25 02:08:01.413 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614853428765659136[0;39m 生成今日电子书快照结束，耗时：571毫秒
2025-08-25 02:09:00.000 INFO  com.matt.wiki.job.DocJob                          :30   [32m614853676892295168[0;39m 更新电子书下的文档数据开始
2025-08-25 02:09:00.239 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614853676892295168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:09:00.240 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614853676892295168[0;39m ==> Parameters: 
2025-08-25 02:09:00.742 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614853676892295168[0;39m <==    Updates: 1
2025-08-25 02:09:00.742 INFO  com.matt.wiki.job.DocJob                          :33   [32m614853676892295168[0;39m 更新电子书下的文档数据结束，耗时：742毫秒
2025-08-25 02:09:00.743 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614853680008663040[0;39m 生成今日电子书快照开始
2025-08-25 02:09:00.743 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614853680008663040[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:09:00.743 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614853680008663040[0;39m ==> Parameters: 
2025-08-25 02:09:01.255 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614853680008663040[0;39m <==    Updates: 0
2025-08-25 02:09:01.256 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614853680008663040[0;39m 生成今日电子书快照结束，耗时：513毫秒
2025-08-25 02:10:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614853928567312384[0;39m 更新电子书下的文档数据开始
2025-08-25 02:10:00.339 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614853928567312384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:10:00.340 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614853928567312384[0;39m ==> Parameters: 
2025-08-25 02:10:00.825 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614853928567312384[0;39m <==    Updates: 1
2025-08-25 02:10:00.825 INFO  com.matt.wiki.job.DocJob                          :33   [32m614853928567312384[0;39m 更新电子书下的文档数据结束，耗时：821毫秒
2025-08-25 02:10:00.826 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614853932015030272[0;39m 生成今日电子书快照开始
2025-08-25 02:10:00.826 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614853932015030272[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:10:00.827 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614853932015030272[0;39m ==> Parameters: 
2025-08-25 02:10:01.403 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614853932015030272[0;39m <==    Updates: 0
2025-08-25 02:10:01.404 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614853932015030272[0;39m 生成今日电子书快照结束，耗时：578毫秒
2025-08-25 02:11:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614854180225552384[0;39m 更新电子书下的文档数据开始
2025-08-25 02:11:00.244 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614854180225552384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:11:00.244 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614854180225552384[0;39m ==> Parameters: 
2025-08-25 02:11:00.757 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614854180225552384[0;39m <==    Updates: 1
2025-08-25 02:11:00.758 INFO  com.matt.wiki.job.DocJob                          :33   [32m614854180225552384[0;39m 更新电子书下的文档数据结束，耗时：754毫秒
2025-08-25 02:11:00.758 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614854183388057600[0;39m 生成今日电子书快照开始
2025-08-25 02:11:00.758 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614854183388057600[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:11:00.759 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614854183388057600[0;39m ==> Parameters: 
2025-08-25 02:11:01.371 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614854183388057600[0;39m <==    Updates: 0
2025-08-25 02:11:01.371 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614854183388057600[0;39m 生成今日电子书快照结束，耗时：613毫秒
2025-08-25 02:12:00.003 INFO  com.matt.wiki.job.DocJob                          :30   [32m614854431879598080[0;39m 更新电子书下的文档数据开始
2025-08-25 02:12:00.249 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614854431879598080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:12:00.250 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614854431879598080[0;39m ==> Parameters: 
2025-08-25 02:12:00.761 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614854431879598080[0;39m <==    Updates: 1
2025-08-25 02:12:00.762 INFO  com.matt.wiki.job.DocJob                          :33   [32m614854431879598080[0;39m 更新电子书下的文档数据结束，耗时：759毫秒
2025-08-25 02:12:00.762 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614854435063074816[0;39m 生成今日电子书快照开始
2025-08-25 02:12:00.762 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614854435063074816[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:12:00.763 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614854435063074816[0;39m ==> Parameters: 
2025-08-25 02:12:01.379 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614854435063074816[0;39m <==    Updates: 0
2025-08-25 02:12:01.380 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614854435063074816[0;39m 生成今日电子书快照结束，耗时：618毫秒
2025-08-25 02:13:00.033 INFO  com.matt.wiki.job.DocJob                          :30   [32m614854683663667200[0;39m 更新电子书下的文档数据开始
2025-08-25 02:13:00.271 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614854683663667200[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:13:00.272 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614854683663667200[0;39m ==> Parameters: 
2025-08-25 02:13:00.802 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614854683663667200[0;39m <==    Updates: 1
2025-08-25 02:13:00.803 INFO  com.matt.wiki.job.DocJob                          :33   [32m614854683663667200[0;39m 更新电子书下的文档数据结束，耗时：769毫秒
2025-08-25 02:13:00.803 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614854686893281280[0;39m 生成今日电子书快照开始
2025-08-25 02:13:00.804 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614854686893281280[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:13:00.804 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614854686893281280[0;39m ==> Parameters: 
2025-08-25 02:13:01.417 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614854686893281280[0;39m <==    Updates: 0
2025-08-25 02:13:01.417 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614854686893281280[0;39m 生成今日电子书快照结束，耗时：614毫秒
2025-08-25 02:14:00.015 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614854935246409728[0;39m 生成今日电子书快照开始
2025-08-25 02:14:00.300 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614854935246409728[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:14:00.301 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614854935246409728[0;39m ==> Parameters: 
2025-08-25 02:14:00.917 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614854935246409728[0;39m <==    Updates: 0
2025-08-25 02:14:00.918 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614854935246409728[0;39m 生成今日电子书快照结束，耗时：902毫秒
2025-08-25 02:14:00.919 INFO  com.matt.wiki.job.DocJob                          :30   [32m614854939038060544[0;39m 更新电子书下的文档数据开始
2025-08-25 02:14:00.919 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614854939038060544[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:14:00.919 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614854939038060544[0;39m ==> Parameters: 
2025-08-25 02:14:01.499 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614854939038060544[0;39m <==    Updates: 1
2025-08-25 02:14:01.500 INFO  com.matt.wiki.job.DocJob                          :33   [32m614854939038060544[0;39m 更新电子书下的文档数据结束，耗时：581毫秒
2025-08-25 02:15:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614855186862706688[0;39m 更新电子书下的文档数据开始
2025-08-25 02:15:00.245 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614855186862706688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:15:00.246 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614855186862706688[0;39m ==> Parameters: 
2025-08-25 02:15:00.820 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614855186862706688[0;39m <==    Updates: 1
2025-08-25 02:15:00.820 INFO  com.matt.wiki.job.DocJob                          :33   [32m614855186862706688[0;39m 更新电子书下的文档数据结束，耗时：814毫秒
2025-08-25 02:15:00.821 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614855190285258752[0;39m 生成今日电子书快照开始
2025-08-25 02:15:00.821 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614855190285258752[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:15:00.822 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614855190285258752[0;39m ==> Parameters: 
2025-08-25 02:15:01.381 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614855190285258752[0;39m <==    Updates: 0
2025-08-25 02:15:01.382 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614855190285258752[0;39m 生成今日电子书快照结束，耗时：561毫秒
2025-08-25 02:16:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614855438504169472[0;39m 生成今日电子书快照开始
2025-08-25 02:16:00.316 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614855438504169472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:16:00.317 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614855438504169472[0;39m ==> Parameters: 
2025-08-25 02:16:00.806 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614855438504169472[0;39m <==    Updates: 0
2025-08-25 02:16:00.808 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614855438504169472[0;39m 生成今日电子书快照结束，耗时：806毫秒
2025-08-25 02:16:00.810 INFO  com.matt.wiki.job.DocJob                          :30   [32m614855441897361408[0;39m 更新电子书下的文档数据开始
2025-08-25 02:16:00.811 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614855441897361408[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:16:00.811 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614855441897361408[0;39m ==> Parameters: 
2025-08-25 02:16:01.340 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614855441897361408[0;39m <==    Updates: 1
2025-08-25 02:16:01.340 INFO  com.matt.wiki.job.DocJob                          :33   [32m614855441897361408[0;39m 更新电子书下的文档数据结束，耗时：530毫秒
2025-08-25 02:17:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614855690162409472[0;39m 更新电子书下的文档数据开始
2025-08-25 02:17:00.243 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614855690162409472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:17:00.244 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614855690162409472[0;39m ==> Parameters: 
2025-08-25 02:17:00.729 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614855690162409472[0;39m <==    Updates: 1
2025-08-25 02:17:00.730 INFO  com.matt.wiki.job.DocJob                          :33   [32m614855690162409472[0;39m 更新电子书下的文档数据结束，耗时：728毫秒
2025-08-25 02:17:00.731 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614855693220057088[0;39m 生成今日电子书快照开始
2025-08-25 02:17:00.731 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614855693220057088[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:17:00.732 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614855693220057088[0;39m ==> Parameters: 
2025-08-25 02:17:01.256 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614855693220057088[0;39m <==    Updates: 0
2025-08-25 02:17:01.256 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614855693220057088[0;39m 生成今日电子书快照结束，耗时：525毫秒
2025-08-25 02:18:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614855941820649472[0;39m 生成今日电子书快照开始
2025-08-25 02:18:00.242 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614855941820649472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:18:00.242 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614855941820649472[0;39m ==> Parameters: 
2025-08-25 02:18:00.766 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614855941820649472[0;39m <==    Updates: 0
2025-08-25 02:18:00.766 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614855941820649472[0;39m 生成今日电子书快照结束，耗时：765毫秒
2025-08-25 02:18:00.767 INFO  com.matt.wiki.job.DocJob                          :30   [32m614855945033486336[0;39m 更新电子书下的文档数据开始
2025-08-25 02:18:00.767 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614855945033486336[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:18:00.767 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614855945033486336[0;39m ==> Parameters: 
2025-08-25 02:18:01.375 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614855945033486336[0;39m <==    Updates: 1
2025-08-25 02:18:01.376 INFO  com.matt.wiki.job.DocJob                          :33   [32m614855945033486336[0;39m 更新电子书下的文档数据结束，耗时：609毫秒
2025-08-25 02:19:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614856193495666688[0;39m 更新电子书下的文档数据开始
2025-08-25 02:19:00.248 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614856193495666688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:19:00.248 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614856193495666688[0;39m ==> Parameters: 
2025-08-25 02:19:00.758 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614856193495666688[0;39m <==    Updates: 1
2025-08-25 02:19:00.758 INFO  com.matt.wiki.job.DocJob                          :33   [32m614856193495666688[0;39m 更新电子书下的文档数据结束，耗时：752毫秒
2025-08-25 02:19:00.759 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614856196658171904[0;39m 生成今日电子书快照开始
2025-08-25 02:19:00.759 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614856196658171904[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:19:00.760 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614856196658171904[0;39m ==> Parameters: 
2025-08-25 02:19:01.362 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614856196658171904[0;39m <==    Updates: 0
2025-08-25 02:19:01.362 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614856196658171904[0;39m 生成今日电子书快照结束，耗时：603毫秒
2025-08-25 02:20:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614856445137129472[0;39m 生成今日电子书快照开始
2025-08-25 02:20:00.242 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614856445137129472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:20:00.243 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614856445137129472[0;39m ==> Parameters: 
2025-08-25 02:20:00.856 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614856445137129472[0;39m <==    Updates: 0
2025-08-25 02:20:00.856 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614856445137129472[0;39m 生成今日电子书快照结束，耗时：855毫秒
2025-08-25 02:20:00.857 INFO  com.matt.wiki.job.DocJob                          :30   [32m614856448727453696[0;39m 更新电子书下的文档数据开始
2025-08-25 02:20:00.857 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614856448727453696[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:20:00.857 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614856448727453696[0;39m ==> Parameters: 
2025-08-25 02:20:01.443 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614856448727453696[0;39m <==    Updates: 1
2025-08-25 02:20:01.443 INFO  com.matt.wiki.job.DocJob                          :33   [32m614856448727453696[0;39m 更新电子书下的文档数据结束，耗时：586毫秒
2025-08-25 02:21:00.000 INFO  com.matt.wiki.job.DocJob                          :30   [32m614856696791175168[0;39m 更新电子书下的文档数据开始
2025-08-25 02:21:00.249 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614856696791175168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:21:00.249 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614856696791175168[0;39m ==> Parameters: 
2025-08-25 02:21:00.753 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614856696791175168[0;39m <==    Updates: 1
2025-08-25 02:21:00.754 INFO  com.matt.wiki.job.DocJob                          :33   [32m614856696791175168[0;39m 更新电子书下的文档数据结束，耗时：754毫秒
2025-08-25 02:21:00.755 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614856699957874688[0;39m 生成今日电子书快照开始
2025-08-25 02:21:00.755 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614856699957874688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:21:00.756 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614856699957874688[0;39m ==> Parameters: 
2025-08-25 02:21:01.321 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614856699957874688[0;39m <==    Updates: 0
2025-08-25 02:21:01.322 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614856699957874688[0;39m 生成今日电子书快照结束，耗时：567毫秒
2025-08-25 02:22:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614856948449415168[0;39m 生成今日电子书快照开始
2025-08-25 02:22:00.256 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614856948449415168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:22:00.258 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614856948449415168[0;39m ==> Parameters: 
2025-08-25 02:22:00.764 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614856948449415168[0;39m <==    Updates: 0
2025-08-25 02:22:00.764 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614856948449415168[0;39m 生成今日电子书快照结束，耗时：763毫秒
2025-08-25 02:22:00.765 INFO  com.matt.wiki.job.DocJob                          :30   [32m614856951658057728[0;39m 更新电子书下的文档数据开始
2025-08-25 02:22:00.765 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614856951658057728[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:22:00.766 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614856951658057728[0;39m ==> Parameters: 
2025-08-25 02:22:01.384 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614856951658057728[0;39m <==    Updates: 1
2025-08-25 02:22:01.385 INFO  com.matt.wiki.job.DocJob                          :33   [32m614856951658057728[0;39m 更新电子书下的文档数据结束，耗时：620毫秒
2025-08-25 02:23:00.003 INFO  com.matt.wiki.job.DocJob                          :30   [32m614857200120238080[0;39m 更新电子书下的文档数据开始
2025-08-25 02:23:00.248 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614857200120238080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:23:00.249 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614857200120238080[0;39m ==> Parameters: 
2025-08-25 02:23:00.758 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614857200120238080[0;39m <==    Updates: 1
2025-08-25 02:23:00.759 INFO  com.matt.wiki.job.DocJob                          :33   [32m614857200120238080[0;39m 更新电子书下的文档数据结束，耗时：755毫秒
2025-08-25 02:23:00.759 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614857203291131904[0;39m 生成今日电子书快照开始
2025-08-25 02:23:00.760 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614857203291131904[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:23:00.760 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614857203291131904[0;39m ==> Parameters: 
2025-08-25 02:23:01.343 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614857203291131904[0;39m <==    Updates: 0
2025-08-25 02:23:01.344 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614857203291131904[0;39m 生成今日电子书快照结束，耗时：585毫秒
2025-08-25 02:24:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614857451765895168[0;39m 生成今日电子书快照开始
2025-08-25 02:24:00.272 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614857451765895168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:24:00.273 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614857451765895168[0;39m ==> Parameters: 
2025-08-25 02:24:00.887 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614857451765895168[0;39m <==    Updates: 0
2025-08-25 02:24:00.887 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614857451765895168[0;39m 生成今日电子书快照结束，耗时：886毫秒
2025-08-25 02:24:00.888 INFO  com.matt.wiki.job.DocJob                          :30   [32m614857455490437120[0;39m 更新电子书下的文档数据开始
2025-08-25 02:24:00.888 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614857455490437120[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:24:00.888 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614857455490437120[0;39m ==> Parameters: 
2025-08-25 02:24:01.705 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614857455490437120[0;39m <==    Updates: 1
2025-08-25 02:24:01.705 INFO  com.matt.wiki.job.DocJob                          :33   [32m614857455490437120[0;39m 更新电子书下的文档数据结束，耗时：817毫秒
2025-08-25 02:25:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614857703428329472[0;39m 更新电子书下的文档数据开始
2025-08-25 02:25:00.343 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614857703428329472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:25:00.344 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614857703428329472[0;39m ==> Parameters: 
2025-08-25 02:25:01.026 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614857703428329472[0;39m <==    Updates: 1
2025-08-25 02:25:01.027 INFO  com.matt.wiki.job.DocJob                          :33   [32m614857703428329472[0;39m 更新电子书下的文档数据结束，耗时：1025毫秒
2025-08-25 02:25:01.027 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614857707731685376[0;39m 生成今日电子书快照开始
2025-08-25 02:25:01.027 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614857707731685376[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:25:01.028 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614857707731685376[0;39m ==> Parameters: 
2025-08-25 02:25:01.814 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614857707731685376[0;39m <==    Updates: 0
2025-08-25 02:25:01.815 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614857707731685376[0;39m 生成今日电子书快照结束，耗时：788毫秒
2025-08-25 02:26:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614857955103346688[0;39m 生成今日电子书快照开始
2025-08-25 02:26:00.246 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614857955103346688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:26:00.247 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614857955103346688[0;39m ==> Parameters: 
2025-08-25 02:26:00.901 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614857955103346688[0;39m <==    Updates: 0
2025-08-25 02:26:00.902 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614857955103346688[0;39m 生成今日电子书快照结束，耗时：897毫秒
2025-08-25 02:26:00.902 INFO  com.matt.wiki.job.DocJob                          :30   [32m614857958865637376[0;39m 更新电子书下的文档数据开始
2025-08-25 02:26:00.903 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614857958865637376[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:26:00.903 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614857958865637376[0;39m ==> Parameters: 
2025-08-25 02:26:01.449 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614857958865637376[0;39m <==    Updates: 1
2025-08-25 02:26:01.450 INFO  com.matt.wiki.job.DocJob                          :33   [32m614857958865637376[0;39m 更新电子书下的文档数据结束，耗时：548毫秒
2025-08-25 02:27:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614858206761586688[0;39m 更新电子书下的文档数据开始
2025-08-25 02:27:00.292 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614858206761586688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:27:00.293 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614858206761586688[0;39m ==> Parameters: 
2025-08-25 02:27:00.776 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614858206761586688[0;39m <==    Updates: 1
2025-08-25 02:27:00.777 INFO  com.matt.wiki.job.DocJob                          :33   [32m614858206761586688[0;39m 更新电子书下的文档数据结束，耗时：772毫秒
2025-08-25 02:27:00.778 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614858210003783680[0;39m 生成今日电子书快照开始
2025-08-25 02:27:00.779 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614858210003783680[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:27:00.779 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614858210003783680[0;39m ==> Parameters: 
2025-08-25 02:27:01.318 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614858210003783680[0;39m <==    Updates: 0
2025-08-25 02:27:01.318 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614858210003783680[0;39m 生成今日电子书快照结束，耗时：540毫秒
2025-08-25 02:28:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614858458419826688[0;39m 生成今日电子书快照开始
2025-08-25 02:28:00.246 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614858458419826688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:28:00.246 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614858458419826688[0;39m ==> Parameters: 
2025-08-25 02:28:00.734 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614858458419826688[0;39m <==    Updates: 0
2025-08-25 02:28:00.734 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614858458419826688[0;39m 生成今日电子书快照结束，耗时：729毫秒
2025-08-25 02:28:00.734 INFO  com.matt.wiki.job.DocJob                          :30   [32m614858461477474304[0;39m 更新电子书下的文档数据开始
2025-08-25 02:28:00.735 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614858461477474304[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:28:00.735 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614858461477474304[0;39m ==> Parameters: 
2025-08-25 02:28:01.250 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614858461477474304[0;39m <==    Updates: 1
2025-08-25 02:28:01.251 INFO  com.matt.wiki.job.DocJob                          :33   [32m614858461477474304[0;39m 更新电子书下的文档数据结束，耗时：516毫秒
2025-08-25 02:29:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614858710078066688[0;39m 更新电子书下的文档数据开始
2025-08-25 02:29:00.309 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614858710078066688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:29:00.309 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614858710078066688[0;39m ==> Parameters: 
2025-08-25 02:29:00.812 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614858710078066688[0;39m <==    Updates: 1
2025-08-25 02:29:00.812 INFO  com.matt.wiki.job.DocJob                          :33   [32m614858710078066688[0;39m 更新电子书下的文档数据结束，耗时：807毫秒
2025-08-25 02:29:00.812 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614858713462870016[0;39m 生成今日电子书快照开始
2025-08-25 02:29:00.813 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614858713462870016[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:29:00.813 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614858713462870016[0;39m ==> Parameters: 
2025-08-25 02:29:01.334 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614858713462870016[0;39m <==    Updates: 0
2025-08-25 02:29:01.334 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614858713462870016[0;39m 生成今日电子书快照结束，耗时：521毫秒
2025-08-25 02:30:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614858961736306688[0;39m 生成今日电子书快照开始
2025-08-25 02:30:00.247 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614858961736306688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:30:00.247 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614858961736306688[0;39m ==> Parameters: 
2025-08-25 02:30:00.827 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614858961736306688[0;39m <==    Updates: 0
2025-08-25 02:30:00.827 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614858961736306688[0;39m 生成今日电子书快照结束，耗时：822毫秒
2025-08-25 02:30:00.827 INFO  com.matt.wiki.job.DocJob                          :30   [32m614858965184024576[0;39m 更新电子书下的文档数据开始
2025-08-25 02:30:00.828 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614858965184024576[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:30:00.828 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614858965184024576[0;39m ==> Parameters: 
2025-08-25 02:30:01.311 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614858965184024576[0;39m <==    Updates: 1
2025-08-25 02:30:01.311 INFO  com.matt.wiki.job.DocJob                          :33   [32m614858965184024576[0;39m 更新电子书下的文档数据结束，耗时：484毫秒
2025-08-25 02:31:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614859213394546688[0;39m 生成今日电子书快照开始
2025-08-25 02:31:00.250 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614859213394546688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:31:00.251 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614859213394546688[0;39m ==> Parameters: 
2025-08-25 02:31:00.737 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614859213394546688[0;39m <==    Updates: 0
2025-08-25 02:31:00.737 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614859213394546688[0;39m 生成今日电子书快照结束，耗时：731毫秒
2025-08-25 02:31:00.737 INFO  com.matt.wiki.job.DocJob                          :30   [32m614859216464777216[0;39m 更新电子书下的文档数据开始
2025-08-25 02:31:00.738 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614859216464777216[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:31:00.738 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614859216464777216[0;39m ==> Parameters: 
2025-08-25 02:31:01.223 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614859216464777216[0;39m <==    Updates: 1
2025-08-25 02:31:01.224 INFO  com.matt.wiki.job.DocJob                          :33   [32m614859216464777216[0;39m 更新电子书下的文档数据结束，耗时：487毫秒
2025-08-25 02:32:00.003 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614859465044398080[0;39m 生成今日电子书快照开始
2025-08-25 02:32:00.247 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614859465044398080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:32:00.248 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614859465044398080[0;39m ==> Parameters: 
2025-08-25 02:32:00.735 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614859465044398080[0;39m <==    Updates: 0
2025-08-25 02:32:00.736 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614859465044398080[0;39m 生成今日电子书快照结束，耗时：732毫秒
2025-08-25 02:32:00.737 INFO  com.matt.wiki.job.DocJob                          :30   [32m614859468123017216[0;39m 更新电子书下的文档数据开始
2025-08-25 02:32:00.737 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614859468123017216[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:32:00.737 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614859468123017216[0;39m ==> Parameters: 
2025-08-25 02:32:01.355 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614859468123017216[0;39m <==    Updates: 1
2025-08-25 02:32:01.355 INFO  com.matt.wiki.job.DocJob                          :33   [32m614859468123017216[0;39m 更新电子书下的文档数据结束，耗时：618毫秒
2025-08-25 02:33:00.010 INFO  com.matt.wiki.job.DocJob                          :30   [32m614859716731998208[0;39m 更新电子书下的文档数据开始
2025-08-25 02:33:00.253 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614859716731998208[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:33:00.254 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614859716731998208[0;39m ==> Parameters: 
2025-08-25 02:33:00.849 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614859716731998208[0;39m <==    Updates: 1
2025-08-25 02:33:00.850 INFO  com.matt.wiki.job.DocJob                          :33   [32m614859716731998208[0;39m 更新电子书下的文档数据结束，耗时：838毫秒
2025-08-25 02:33:00.850 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614859720255213568[0;39m 生成今日电子书快照开始
2025-08-25 02:33:00.851 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614859720255213568[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:33:00.852 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614859720255213568[0;39m ==> Parameters: 
2025-08-25 02:33:01.408 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614859720255213568[0;39m <==    Updates: 0
2025-08-25 02:33:01.408 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614859720255213568[0;39m 生成今日电子书快照结束，耗时：558毫秒
2025-08-25 02:34:00.004 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614859968365072384[0;39m 生成今日电子书快照开始
2025-08-25 02:34:00.246 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614859968365072384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:34:00.246 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614859968365072384[0;39m ==> Parameters: 
2025-08-25 02:34:00.735 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614859968365072384[0;39m <==    Updates: 0
2025-08-25 02:34:00.735 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614859968365072384[0;39m 生成今日电子书快照结束，耗时：731毫秒
2025-08-25 02:34:00.735 INFO  com.matt.wiki.job.DocJob                          :30   [32m614859971431108608[0;39m 更新电子书下的文档数据开始
2025-08-25 02:34:00.736 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614859971431108608[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:34:00.736 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614859971431108608[0;39m ==> Parameters: 
2025-08-25 02:34:01.279 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614859971431108608[0;39m <==    Updates: 1
2025-08-25 02:34:01.280 INFO  com.matt.wiki.job.DocJob                          :33   [32m614859971431108608[0;39m 更新电子书下的文档数据结束，耗时：545毫秒
2025-08-25 02:35:00.002 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614860220014923776[0;39m 生成今日电子书快照开始
2025-08-25 02:35:00.244 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614860220014923776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:35:00.244 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614860220014923776[0;39m ==> Parameters: 
2025-08-25 02:35:00.864 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614860220014923776[0;39m <==    Updates: 0
2025-08-25 02:35:00.864 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614860220014923776[0;39m 生成今日电子书快照结束，耗时：862毫秒
2025-08-25 02:35:00.864 INFO  com.matt.wiki.job.DocJob                          :30   [32m614860223630413824[0;39m 更新电子书下的文档数据开始
2025-08-25 02:35:00.865 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614860223630413824[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:35:00.865 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614860223630413824[0;39m ==> Parameters: 
2025-08-25 02:35:01.439 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614860223630413824[0;39m <==    Updates: 1
2025-08-25 02:35:01.440 INFO  com.matt.wiki.job.DocJob                          :33   [32m614860223630413824[0;39m 更新电子书下的文档数据结束，耗时：576毫秒
2025-08-25 02:36:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614860471681552384[0;39m 更新电子书下的文档数据开始
2025-08-25 02:36:00.472 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614860471681552384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:36:00.473 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614860471681552384[0;39m ==> Parameters: 
2025-08-25 02:36:01.211 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614860471681552384[0;39m <==    Updates: 1
2025-08-25 02:36:01.212 INFO  com.matt.wiki.job.DocJob                          :33   [32m614860471681552384[0;39m 更新电子书下的文档数据结束，耗时：1207毫秒
2025-08-25 02:36:01.212 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614860476748271616[0;39m 生成今日电子书快照开始
2025-08-25 02:36:01.213 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614860476748271616[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:36:01.213 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614860476748271616[0;39m ==> Parameters: 
2025-08-25 02:36:01.920 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614860476748271616[0;39m <==    Updates: 0
2025-08-25 02:36:01.921 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614860476748271616[0;39m 生成今日电子书快照结束，耗时：709毫秒
2025-08-25 02:37:00.008 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614860723356569600[0;39m 生成今日电子书快照开始
2025-08-25 02:37:00.263 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614860723356569600[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:37:00.264 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614860723356569600[0;39m ==> Parameters: 
2025-08-25 02:37:00.837 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614860723356569600[0;39m <==    Updates: 0
2025-08-25 02:37:00.838 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614860723356569600[0;39m 生成今日电子书快照结束，耗时：829毫秒
2025-08-25 02:37:00.839 INFO  com.matt.wiki.job.DocJob                          :30   [32m614860726842036224[0;39m 更新电子书下的文档数据开始
2025-08-25 02:37:00.839 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614860726842036224[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:37:00.839 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614860726842036224[0;39m ==> Parameters: 
2025-08-25 02:37:01.342 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614860726842036224[0;39m <==    Updates: 1
2025-08-25 02:37:01.343 INFO  com.matt.wiki.job.DocJob                          :33   [32m614860726842036224[0;39m 更新电子书下的文档数据结束，耗时：504毫秒
2025-08-25 02:38:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614860974985449472[0;39m 更新电子书下的文档数据开始
2025-08-25 02:38:00.270 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614860974985449472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:38:00.270 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614860974985449472[0;39m ==> Parameters: 
2025-08-25 02:38:00.776 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614860974985449472[0;39m <==    Updates: 1
2025-08-25 02:38:00.777 INFO  com.matt.wiki.job.DocJob                          :33   [32m614860974985449472[0;39m 更新电子书下的文档数据结束，耗时：774毫秒
2025-08-25 02:38:00.777 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614860978240229376[0;39m 生成今日电子书快照开始
2025-08-25 02:38:00.777 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614860978240229376[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:38:00.778 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614860978240229376[0;39m ==> Parameters: 
2025-08-25 02:38:01.398 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614860978240229376[0;39m <==    Updates: 0
2025-08-25 02:38:01.398 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614860978240229376[0;39m 生成今日电子书快照结束，耗时：621毫秒
2025-08-25 02:39:00.003 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614861226652078080[0;39m 生成今日电子书快照开始
2025-08-25 02:39:00.277 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614861226652078080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:39:00.278 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614861226652078080[0;39m ==> Parameters: 
2025-08-25 02:39:00.803 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614861226652078080[0;39m <==    Updates: 0
2025-08-25 02:39:00.804 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614861226652078080[0;39m 生成今日电子书快照结束，耗时：800毫秒
2025-08-25 02:39:00.804 INFO  com.matt.wiki.job.DocJob                          :30   [32m614861230011715584[0;39m 更新电子书下的文档数据开始
2025-08-25 02:39:00.804 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614861230011715584[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:39:00.805 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614861230011715584[0;39m ==> Parameters: 
2025-08-25 02:39:01.406 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614861230011715584[0;39m <==    Updates: 1
2025-08-25 02:39:01.406 INFO  com.matt.wiki.job.DocJob                          :33   [32m614861230011715584[0;39m 更新电子书下的文档数据结束，耗时：602毫秒
2025-08-25 02:40:00.002 INFO  com.matt.wiki.job.DocJob                          :30   [32m614861478306123776[0;39m 更新电子书下的文档数据开始
2025-08-25 02:40:00.257 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614861478306123776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:40:00.258 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614861478306123776[0;39m ==> Parameters: 
2025-08-25 02:40:00.791 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614861478306123776[0;39m <==    Updates: 1
2025-08-25 02:40:00.791 INFO  com.matt.wiki.job.DocJob                          :33   [32m614861478306123776[0;39m 更新电子书下的文档数据结束，耗时：789毫秒
2025-08-25 02:40:00.792 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614861481619623936[0;39m 生成今日电子书快照开始
2025-08-25 02:40:00.792 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614861481619623936[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:40:00.792 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614861481619623936[0;39m ==> Parameters: 
2025-08-25 02:40:01.411 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614861481619623936[0;39m <==    Updates: 0
2025-08-25 02:40:01.412 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614861481619623936[0;39m 生成今日电子书快照结束，耗时：620毫秒
2025-08-25 02:41:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614861729976946688[0;39m 生成今日电子书快照开始
2025-08-25 02:41:00.292 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614861729976946688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:41:00.293 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614861729976946688[0;39m ==> Parameters: 
2025-08-25 02:41:00.906 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614861729976946688[0;39m <==    Updates: 0
2025-08-25 02:41:00.907 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614861729976946688[0;39m 生成今日电子书快照结束，耗时：901毫秒
2025-08-25 02:41:00.907 INFO  com.matt.wiki.job.DocJob                          :30   [32m614861733760208896[0;39m 更新电子书下的文档数据开始
2025-08-25 02:41:00.907 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614861733760208896[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:41:00.908 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614861733760208896[0;39m ==> Parameters: 
2025-08-25 02:41:01.521 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614861733760208896[0;39m <==    Updates: 1
2025-08-25 02:41:01.522 INFO  com.matt.wiki.job.DocJob                          :33   [32m614861733760208896[0;39m 更新电子书下的文档数据结束，耗时：615毫秒
2025-08-25 02:42:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614861981618409472[0;39m 生成今日电子书快照开始
2025-08-25 02:42:00.299 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614861981618409472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:42:00.300 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614861981618409472[0;39m ==> Parameters: 
2025-08-25 02:42:00.914 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614861981618409472[0;39m <==    Updates: 0
2025-08-25 02:42:00.915 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614861981618409472[0;39m 生成今日电子书快照结束，耗时：914毫秒
2025-08-25 02:42:00.915 INFO  com.matt.wiki.job.DocJob                          :30   [32m614861985452003328[0;39m 更新电子书下的文档数据开始
2025-08-25 02:42:00.916 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614861985452003328[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:42:00.916 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614861985452003328[0;39m ==> Parameters: 
2025-08-25 02:42:01.578 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614861985452003328[0;39m <==    Updates: 1
2025-08-25 02:42:01.579 INFO  com.matt.wiki.job.DocJob                          :33   [32m614861985452003328[0;39m 更新电子书下的文档数据结束，耗时：664毫秒
2025-08-25 02:43:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614862233293426688[0;39m 更新电子书下的文档数据开始
2025-08-25 02:43:00.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614862233293426688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:43:00.257 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614862233293426688[0;39m ==> Parameters: 
2025-08-25 02:43:00.772 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614862233293426688[0;39m <==    Updates: 1
2025-08-25 02:43:00.773 INFO  com.matt.wiki.job.DocJob                          :33   [32m614862233293426688[0;39m 更新电子书下的文档数据结束，耗时：767毫秒
2025-08-25 02:43:00.773 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614862236514652160[0;39m 生成今日电子书快照开始
2025-08-25 02:43:00.773 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614862236514652160[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:43:00.774 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614862236514652160[0;39m ==> Parameters: 
2025-08-25 02:43:01.434 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614862236514652160[0;39m <==    Updates: 0
2025-08-25 02:43:01.434 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614862236514652160[0;39m 生成今日电子书快照结束，耗时：661毫秒
2025-08-25 02:44:00.003 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614862484943278080[0;39m 生成今日电子书快照开始
2025-08-25 02:44:00.314 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614862484943278080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:44:00.315 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614862484943278080[0;39m ==> Parameters: 
2025-08-25 02:44:00.930 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614862484943278080[0;39m <==    Updates: 0
2025-08-25 02:44:00.931 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614862484943278080[0;39m 生成今日电子书快照结束，耗时：928毫秒
2025-08-25 02:44:00.931 INFO  com.matt.wiki.job.DocJob                          :30   [32m614862488835592192[0;39m 更新电子书下的文档数据开始
2025-08-25 02:44:00.932 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614862488835592192[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:44:00.932 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614862488835592192[0;39m ==> Parameters: 
2025-08-25 02:44:01.534 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614862488835592192[0;39m <==    Updates: 1
2025-08-25 02:44:01.535 INFO  com.matt.wiki.job.DocJob                          :33   [32m614862488835592192[0;39m 更新电子书下的文档数据结束，耗时：604毫秒
2025-08-25 02:45:00.003 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614862736601518080[0;39m 生成今日电子书快照开始
2025-08-25 02:45:00.249 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614862736601518080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:45:00.250 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614862736601518080[0;39m ==> Parameters: 
2025-08-25 02:45:00.753 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614862736601518080[0;39m <==    Updates: 0
2025-08-25 02:45:00.753 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614862736601518080[0;39m 生成今日电子书快照结束，耗时：750毫秒
2025-08-25 02:45:00.753 INFO  com.matt.wiki.job.DocJob                          :30   [32m614862739747246080[0;39m 更新电子书下的文档数据开始
2025-08-25 02:45:00.753 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614862739747246080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:45:00.754 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614862739747246080[0;39m ==> Parameters: 
2025-08-25 02:45:01.345 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614862739747246080[0;39m <==    Updates: 1
2025-08-25 02:45:01.345 INFO  com.matt.wiki.job.DocJob                          :33   [32m614862739747246080[0;39m 更新电子书下的文档数据结束，耗时：592毫秒
2025-08-25 02:46:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614862988251369472[0;39m 更新电子书下的文档数据开始
2025-08-25 02:46:00.328 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614862988251369472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:46:00.329 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614862988251369472[0;39m ==> Parameters: 
2025-08-25 02:46:00.943 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614862988251369472[0;39m <==    Updates: 1
2025-08-25 02:46:00.943 INFO  com.matt.wiki.job.DocJob                          :33   [32m614862988251369472[0;39m 更新电子书下的文档数据结束，耗时：941毫秒
2025-08-25 02:46:00.943 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614862992202403840[0;39m 生成今日电子书快照开始
2025-08-25 02:46:00.944 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614862992202403840[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:46:00.944 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614862992202403840[0;39m ==> Parameters: 
2025-08-25 02:46:01.518 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614862992202403840[0;39m <==    Updates: 0
2025-08-25 02:46:01.518 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614862992202403840[0;39m 生成今日电子书快照结束，耗时：574毫秒
2025-08-25 02:47:00.002 INFO  com.matt.wiki.job.DocJob                          :30   [32m614863239913803776[0;39m 更新电子书下的文档数据开始
2025-08-25 02:47:00.336 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614863239913803776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:47:00.336 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614863239913803776[0;39m ==> Parameters: 
2025-08-25 02:47:00.872 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614863239913803776[0;39m <==    Updates: 1
2025-08-25 02:47:00.873 INFO  com.matt.wiki.job.DocJob                          :33   [32m614863239913803776[0;39m 更新电子书下的文档数据结束，耗时：871毫秒
2025-08-25 02:47:00.873 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614863243567042560[0;39m 生成今日电子书快照开始
2025-08-25 02:47:00.873 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614863243567042560[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:47:00.874 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614863243567042560[0;39m ==> Parameters: 
2025-08-25 02:47:01.463 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614863243567042560[0;39m <==    Updates: 0
2025-08-25 02:47:01.463 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614863243567042560[0;39m 生成今日电子书快照结束，耗时：590毫秒
2025-08-25 02:48:00.010 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614863491605598208[0;39m 生成今日电子书快照开始
2025-08-25 02:48:00.261 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614863491605598208[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:48:00.262 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614863491605598208[0;39m ==> Parameters: 
2025-08-25 02:48:00.811 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614863491605598208[0;39m <==    Updates: 0
2025-08-25 02:48:00.811 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614863491605598208[0;39m 生成今日电子书快照结束，耗时：800毫秒
2025-08-25 02:48:00.812 INFO  com.matt.wiki.job.DocJob                          :30   [32m614863494969430016[0;39m 更新电子书下的文档数据开始
2025-08-25 02:48:00.812 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614863494969430016[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:48:00.812 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614863494969430016[0;39m ==> Parameters: 
2025-08-25 02:48:01.470 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614863494969430016[0;39m <==    Updates: 1
2025-08-25 02:48:01.471 INFO  com.matt.wiki.job.DocJob                          :33   [32m614863494969430016[0;39m 更新电子书下的文档数据结束，耗时：659毫秒
2025-08-25 02:49:00.002 INFO  com.matt.wiki.job.DocJob                          :30   [32m614863743230283776[0;39m 更新电子书下的文档数据开始
2025-08-25 02:49:00.350 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614863743230283776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:49:00.351 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614863743230283776[0;39m ==> Parameters: 
2025-08-25 02:49:00.895 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614863743230283776[0;39m <==    Updates: 1
2025-08-25 02:49:00.895 INFO  com.matt.wiki.job.DocJob                          :33   [32m614863743230283776[0;39m 更新电子书下的文档数据结束，耗时：892毫秒
2025-08-25 02:49:00.896 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614863746979991552[0;39m 生成今日电子书快照开始
2025-08-25 02:49:00.896 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614863746979991552[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:49:00.896 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614863746979991552[0;39m ==> Parameters: 
2025-08-25 02:49:01.479 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614863746979991552[0;39m <==    Updates: 0
2025-08-25 02:49:01.480 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614863746979991552[0;39m 生成今日电子书快照结束，耗时：584毫秒
2025-08-25 02:49:59.984 INFO  com.matt.wiki.job.DocJob                          :30   [32m614863994813026304[0;39m 更新电子书下的文档数据开始
2025-08-25 02:50:00.237 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614863994813026304[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:50:00.237 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614863994813026304[0;39m ==> Parameters: 
2025-08-25 02:50:00.803 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614863994813026304[0;39m <==    Updates: 1
2025-08-25 02:50:00.804 INFO  com.matt.wiki.job.DocJob                          :33   [32m614863994813026304[0;39m 更新电子书下的文档数据结束，耗时：820毫秒
2025-08-25 02:50:00.804 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614863998252355584[0;39m 生成今日电子书快照开始
2025-08-25 02:50:00.804 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614863998252355584[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:50:00.804 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614863998252355584[0;39m ==> Parameters: 
2025-08-25 02:50:01.312 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614863998252355584[0;39m <==    Updates: 0
2025-08-25 02:50:01.312 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614863998252355584[0;39m 生成今日电子书快照结束，耗时：508毫秒
2025-08-25 02:51:00.008 INFO  com.matt.wiki.job.DocJob                          :30   [32m614864246571929600[0;39m 更新电子书下的文档数据开始
2025-08-25 02:51:00.346 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614864246571929600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:51:00.346 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614864246571929600[0;39m ==> Parameters: 
2025-08-25 02:51:00.960 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614864246571929600[0;39m <==    Updates: 1
2025-08-25 02:51:00.961 INFO  com.matt.wiki.job.DocJob                          :33   [32m614864246571929600[0;39m 更新电子书下的文档数据结束，耗时：952毫秒
2025-08-25 02:51:00.961 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614864250569101312[0;39m 生成今日电子书快照开始
2025-08-25 02:51:00.961 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614864250569101312[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:51:00.962 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614864250569101312[0;39m ==> Parameters: 
2025-08-25 02:51:01.574 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614864250569101312[0;39m <==    Updates: 0
2025-08-25 02:51:01.574 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614864250569101312[0;39m 生成今日电子书快照结束，耗时：613毫秒
2025-08-25 02:52:00.003 INFO  com.matt.wiki.job.DocJob                          :30   [32m614864498209198080[0;39m 更新电子书下的文档数据开始
2025-08-25 02:52:00.254 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614864498209198080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:52:00.255 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614864498209198080[0;39m ==> Parameters: 
2025-08-25 02:52:00.769 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614864498209198080[0;39m <==    Updates: 1
2025-08-25 02:52:00.770 INFO  com.matt.wiki.job.DocJob                          :33   [32m614864498209198080[0;39m 更新电子书下的文档数据结束，耗时：766毫秒
2025-08-25 02:52:00.771 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614864501430423552[0;39m 生成今日电子书快照开始
2025-08-25 02:52:00.771 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614864501430423552[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:52:00.772 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614864501430423552[0;39m ==> Parameters: 
2025-08-25 02:52:01.322 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614864501430423552[0;39m <==    Updates: 0
2025-08-25 02:52:01.323 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614864501430423552[0;39m 生成今日电子书快照结束，耗时：552毫秒
2025-08-25 02:53:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614864749875826688[0;39m 更新电子书下的文档数据开始
2025-08-25 02:53:00.359 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614864749875826688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:53:00.359 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614864749875826688[0;39m ==> Parameters: 
2025-08-25 02:53:00.973 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614864749875826688[0;39m <==    Updates: 1
2025-08-25 02:53:00.973 INFO  com.matt.wiki.job.DocJob                          :33   [32m614864749875826688[0;39m 更新电子书下的文档数据结束，耗时：967毫秒
2025-08-25 02:53:00.974 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614864753940107264[0;39m 生成今日电子书快照开始
2025-08-25 02:53:00.974 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614864753940107264[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:53:00.974 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614864753940107264[0;39m ==> Parameters: 
2025-08-25 02:53:01.589 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614864753940107264[0;39m <==    Updates: 0
2025-08-25 02:53:01.589 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614864753940107264[0;39m 生成今日电子书快照结束，耗时：615毫秒
2025-08-25 02:54:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614865001517289472[0;39m 更新电子书下的文档数据开始
2025-08-25 02:54:00.263 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614865001517289472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:54:00.263 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614865001517289472[0;39m ==> Parameters: 
2025-08-25 02:54:00.772 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614865001517289472[0;39m <==    Updates: 1
2025-08-25 02:54:00.773 INFO  com.matt.wiki.job.DocJob                          :33   [32m614865001517289472[0;39m 更新电子书下的文档数据结束，耗时：771毫秒
2025-08-25 02:54:00.773 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614865004755292160[0;39m 生成今日电子书快照开始
2025-08-25 02:54:00.773 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614865004755292160[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:54:00.774 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614865004755292160[0;39m ==> Parameters: 
2025-08-25 02:54:01.390 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614865004755292160[0;39m <==    Updates: 0
2025-08-25 02:54:01.390 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614865004755292160[0;39m 生成今日电子书快照结束，耗时：617毫秒
2025-08-25 02:55:00.002 INFO  com.matt.wiki.job.DocJob                          :30   [32m614865253179723776[0;39m 更新电子书下的文档数据开始
2025-08-25 02:55:00.270 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614865253179723776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:55:00.271 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614865253179723776[0;39m ==> Parameters: 
2025-08-25 02:55:00.827 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614865253179723776[0;39m <==    Updates: 1
2025-08-25 02:55:00.828 INFO  com.matt.wiki.job.DocJob                          :33   [32m614865253179723776[0;39m 更新电子书下的文档数据结束，耗时：824毫秒
2025-08-25 02:55:00.828 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614865256644218880[0;39m 生成今日电子书快照开始
2025-08-25 02:55:00.828 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614865256644218880[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:55:00.829 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614865256644218880[0;39m ==> Parameters: 
2025-08-25 02:55:01.396 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614865256644218880[0;39m <==    Updates: 0
2025-08-25 02:55:01.396 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614865256644218880[0;39m 生成今日电子书快照结束，耗时：568毫秒
2025-08-25 02:56:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614865504829575168[0;39m 生成今日电子书快照开始
2025-08-25 02:56:00.278 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614865504829575168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:56:00.279 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614865504829575168[0;39m ==> Parameters: 
2025-08-25 02:56:00.891 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614865504829575168[0;39m <==    Updates: 0
2025-08-25 02:56:00.892 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614865504829575168[0;39m 生成今日电子书快照结束，耗时：891毫秒
2025-08-25 02:56:00.892 INFO  com.matt.wiki.job.DocJob                          :30   [32m614865508570894336[0;39m 更新电子书下的文档数据开始
2025-08-25 02:56:00.892 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614865508570894336[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:56:00.892 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614865508570894336[0;39m ==> Parameters: 
2025-08-25 02:56:01.505 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614865508570894336[0;39m <==    Updates: 1
2025-08-25 02:56:01.506 INFO  com.matt.wiki.job.DocJob                          :33   [32m614865508570894336[0;39m 更新电子书下的文档数据结束，耗时：614毫秒
2025-08-25 02:57:00.010 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614865756529758208[0;39m 生成今日电子书快照开始
2025-08-25 02:57:00.284 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614865756529758208[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:57:00.285 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614865756529758208[0;39m ==> Parameters: 
2025-08-25 02:57:00.899 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614865756529758208[0;39m <==    Updates: 0
2025-08-25 02:57:00.900 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614865756529758208[0;39m 生成今日电子书快照结束，耗时：889毫秒
2025-08-25 02:57:00.900 INFO  com.matt.wiki.job.DocJob                          :30   [32m614865760262688768[0;39m 更新电子书下的文档数据开始
2025-08-25 02:57:00.900 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614865760262688768[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:57:00.901 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614865760262688768[0;39m ==> Parameters: 
2025-08-25 02:57:01.513 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614865760262688768[0;39m <==    Updates: 1
2025-08-25 02:57:01.514 INFO  com.matt.wiki.job.DocJob                          :33   [32m614865760262688768[0;39m 更新电子书下的文档数据结束，耗时：614毫秒
2025-08-25 02:58:00.002 INFO  com.matt.wiki.job.DocJob                          :30   [32m614866008154443776[0;39m 更新电子书下的文档数据开始
2025-08-25 02:58:00.255 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614866008154443776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:58:00.255 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614866008154443776[0;39m ==> Parameters: 
2025-08-25 02:58:00.754 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614866008154443776[0;39m <==    Updates: 1
2025-08-25 02:58:00.754 INFO  com.matt.wiki.job.DocJob                          :33   [32m614866008154443776[0;39m 更新电子书下的文档数据结束，耗时：751毫秒
2025-08-25 02:58:00.754 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614866011308560384[0;39m 生成今日电子书快照开始
2025-08-25 02:58:00.755 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614866011308560384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:58:00.755 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614866011308560384[0;39m ==> Parameters: 
2025-08-25 02:58:01.255 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614866011308560384[0;39m <==    Updates: 0
2025-08-25 02:58:01.256 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614866011308560384[0;39m 生成今日电子书快照结束，耗时：502毫秒
2025-08-25 02:59:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614866259825266688[0;39m 生成今日电子书快照开始
2025-08-25 02:59:00.297 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614866259825266688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 02:59:00.299 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614866259825266688[0;39m ==> Parameters: 
2025-08-25 02:59:00.856 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614866259825266688[0;39m <==    Updates: 0
2025-08-25 02:59:00.856 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614866259825266688[0;39m 生成今日电子书快照结束，耗时：851毫秒
2025-08-25 02:59:00.857 INFO  com.matt.wiki.job.DocJob                          :30   [32m614866263398813696[0;39m 更新电子书下的文档数据开始
2025-08-25 02:59:00.857 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614866263398813696[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 02:59:00.858 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614866263398813696[0;39m ==> Parameters: 
2025-08-25 02:59:01.424 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614866263398813696[0;39m <==    Updates: 1
2025-08-25 02:59:01.425 INFO  com.matt.wiki.job.DocJob                          :33   [32m614866263398813696[0;39m 更新电子书下的文档数据结束，耗时：568毫秒
2025-08-25 03:00:00.003 INFO  com.matt.wiki.job.DocJob                          :30   [32m614866511475118080[0;39m 更新电子书下的文档数据开始
2025-08-25 03:00:00.304 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614866511475118080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:00:00.305 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614866511475118080[0;39m ==> Parameters: 
2025-08-25 03:00:00.920 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614866511475118080[0;39m <==    Updates: 1
2025-08-25 03:00:00.920 INFO  com.matt.wiki.job.DocJob                          :33   [32m614866511475118080[0;39m 更新电子书下的文档数据结束，耗时：917毫秒
2025-08-25 03:00:00.921 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614866515325489152[0;39m 生成今日电子书快照开始
2025-08-25 03:00:00.921 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614866515325489152[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:00:00.921 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614866515325489152[0;39m ==> Parameters: 
2025-08-25 03:00:01.533 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614866515325489152[0;39m <==    Updates: 0
2025-08-25 03:00:01.533 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614866515325489152[0;39m 生成今日电子书快照结束，耗时：612毫秒
2025-08-25 03:01:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614866763141746688[0;39m 生成今日电子书快照开始
2025-08-25 03:01:00.254 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614866763141746688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:01:00.255 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614866763141746688[0;39m ==> Parameters: 
2025-08-25 03:01:00.759 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614866763141746688[0;39m <==    Updates: 0
2025-08-25 03:01:00.759 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614866763141746688[0;39m 生成今日电子书快照结束，耗时：754毫秒
2025-08-25 03:01:00.760 INFO  com.matt.wiki.job.DocJob                          :30   [32m614866766308446208[0;39m 更新电子书下的文档数据开始
2025-08-25 03:01:00.760 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614866766308446208[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:01:00.760 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614866766308446208[0;39m ==> Parameters: 
2025-08-25 03:01:01.291 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614866766308446208[0;39m <==    Updates: 1
2025-08-25 03:01:01.292 INFO  com.matt.wiki.job.DocJob                          :33   [32m614866766308446208[0;39m 更新电子书下的文档数据结束，耗时：532毫秒
2025-08-25 03:02:00.002 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614867014787403776[0;39m 生成今日电子书快照开始
2025-08-25 03:02:00.252 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614867014787403776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:02:00.253 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614867014787403776[0;39m ==> Parameters: 
2025-08-25 03:02:00.757 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614867014787403776[0;39m <==    Updates: 0
2025-08-25 03:02:00.758 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614867014787403776[0;39m 生成今日电子书快照结束，耗时：756毫秒
2025-08-25 03:02:00.758 INFO  com.matt.wiki.job.DocJob                          :30   [32m614867017958297600[0;39m 更新电子书下的文档数据开始
2025-08-25 03:02:00.758 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614867017958297600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:02:00.758 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614867017958297600[0;39m ==> Parameters: 
2025-08-25 03:02:01.324 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614867017958297600[0;39m <==    Updates: 1
2025-08-25 03:02:01.324 INFO  com.matt.wiki.job.DocJob                          :33   [32m614867017958297600[0;39m 更新电子书下的文档数据结束，耗时：566毫秒
2025-08-25 03:03:00.003 INFO  com.matt.wiki.job.DocJob                          :30   [32m614867266449838080[0;39m 更新电子书下的文档数据开始
2025-08-25 03:03:00.257 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614867266449838080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:03:00.258 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614867266449838080[0;39m ==> Parameters: 
2025-08-25 03:03:00.779 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614867266449838080[0;39m <==    Updates: 1
2025-08-25 03:03:00.780 INFO  com.matt.wiki.job.DocJob                          :33   [32m614867266449838080[0;39m 更新电子书下的文档数据结束，耗时：777毫秒
2025-08-25 03:03:00.780 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614867269708812288[0;39m 生成今日电子书快照开始
2025-08-25 03:03:00.780 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614867269708812288[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:03:00.781 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614867269708812288[0;39m ==> Parameters: 
2025-08-25 03:03:01.326 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614867269708812288[0;39m <==    Updates: 0
2025-08-25 03:03:01.326 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614867269708812288[0;39m 生成今日电子书快照结束，耗时：546毫秒
2025-08-25 03:04:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614867518116466688[0;39m 生成今日电子书快照开始
2025-08-25 03:04:00.250 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614867518116466688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:04:00.251 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614867518116466688[0;39m ==> Parameters: 
2025-08-25 03:04:00.735 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614867518116466688[0;39m <==    Updates: 0
2025-08-25 03:04:00.736 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614867518116466688[0;39m 生成今日电子书快照结束，耗时：731毫秒
2025-08-25 03:04:00.736 INFO  com.matt.wiki.job.DocJob                          :30   [32m614867521182502912[0;39m 更新电子书下的文档数据开始
2025-08-25 03:04:00.736 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614867521182502912[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:04:00.736 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614867521182502912[0;39m ==> Parameters: 
2025-08-25 03:04:01.355 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614867521182502912[0;39m <==    Updates: 1
2025-08-25 03:04:01.355 INFO  com.matt.wiki.job.DocJob                          :33   [32m614867521182502912[0;39m 更新电子书下的文档数据结束，耗时：619毫秒
2025-08-25 03:05:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614867769753735168[0;39m 生成今日电子书快照开始
2025-08-25 03:05:00.245 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614867769753735168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:05:00.246 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614867769753735168[0;39m ==> Parameters: 
2025-08-25 03:05:00.786 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614867769753735168[0;39m <==    Updates: 0
2025-08-25 03:05:00.787 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614867769753735168[0;39m 生成今日电子书快照结束，耗时：786毫秒
2025-08-25 03:05:00.788 INFO  com.matt.wiki.job.DocJob                          :30   [32m614867773058846720[0;39m 更新电子书下的文档数据开始
2025-08-25 03:05:00.788 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614867773058846720[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:05:00.789 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614867773058846720[0;39m ==> Parameters: 
2025-08-25 03:05:01.362 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614867773058846720[0;39m <==    Updates: 1
2025-08-25 03:05:01.362 INFO  com.matt.wiki.job.DocJob                          :33   [32m614867773058846720[0;39m 更新电子书下的文档数据结束，耗时：574毫秒
2025-08-25 03:06:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614868021416169472[0;39m 更新电子书下的文档数据开始
2025-08-25 03:06:00.246 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614868021416169472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:06:00.247 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614868021416169472[0;39m ==> Parameters: 
2025-08-25 03:06:00.742 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614868021416169472[0;39m <==    Updates: 1
2025-08-25 03:06:00.742 INFO  com.matt.wiki.job.DocJob                          :33   [32m614868021416169472[0;39m 更新电子书下的文档数据结束，耗时：741毫秒
2025-08-25 03:06:00.743 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614868024528343040[0;39m 生成今日电子书快照开始
2025-08-25 03:06:00.743 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614868024528343040[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:06:00.743 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614868024528343040[0;39m ==> Parameters: 
2025-08-25 03:06:01.268 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614868024528343040[0;39m <==    Updates: 0
2025-08-25 03:06:01.269 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614868024528343040[0;39m 生成今日电子书快照结束，耗时：526毫秒
2025-08-25 03:07:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614868273086992384[0;39m 更新电子书下的文档数据开始
2025-08-25 03:07:00.246 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614868273086992384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:07:00.246 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614868273086992384[0;39m ==> Parameters: 
2025-08-25 03:07:00.801 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614868273086992384[0;39m <==    Updates: 1
2025-08-25 03:07:00.801 INFO  com.matt.wiki.job.DocJob                          :33   [32m614868273086992384[0;39m 更新电子书下的文档数据结束，耗时：797毫秒
2025-08-25 03:07:00.802 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614868276434046976[0;39m 生成今日电子书快照开始
2025-08-25 03:07:00.802 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614868276434046976[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:07:00.802 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614868276434046976[0;39m ==> Parameters: 
2025-08-25 03:07:01.376 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614868276434046976[0;39m <==    Updates: 0
2025-08-25 03:07:01.377 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614868276434046976[0;39m 生成今日电子书快照结束，耗时：575毫秒
2025-08-25 03:08:00.010 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614868524770398208[0;39m 生成今日电子书快照开始
2025-08-25 03:08:00.256 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614868524770398208[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:08:00.257 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614868524770398208[0;39m ==> Parameters: 
2025-08-25 03:08:00.821 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614868524770398208[0;39m <==    Updates: 0
2025-08-25 03:08:00.822 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614868524770398208[0;39m 生成今日电子书快照结束，耗时：811毫秒
2025-08-25 03:08:00.822 INFO  com.matt.wiki.job.DocJob                          :30   [32m614868528176173056[0;39m 更新电子书下的文档数据开始
2025-08-25 03:08:00.822 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614868528176173056[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:08:00.822 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614868528176173056[0;39m ==> Parameters: 
2025-08-25 03:08:01.382 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614868528176173056[0;39m <==    Updates: 1
2025-08-25 03:08:01.383 INFO  com.matt.wiki.job.DocJob                          :33   [32m614868528176173056[0;39m 更新电子书下的文档数据结束，耗时：561毫秒
2025-08-25 03:09:00.004 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614868776403472384[0;39m 生成今日电子书快照开始
2025-08-25 03:09:00.248 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614868776403472384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:09:00.249 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614868776403472384[0;39m ==> Parameters: 
2025-08-25 03:09:00.835 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614868776403472384[0;39m <==    Updates: 0
2025-08-25 03:09:00.836 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614868776403472384[0;39m 生成今日电子书快照结束，耗时：831毫秒
2025-08-25 03:09:00.836 INFO  com.matt.wiki.job.DocJob                          :30   [32m614868779893133312[0;39m 更新电子书下的文档数据开始
2025-08-25 03:09:00.836 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614868779893133312[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:09:00.836 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614868779893133312[0;39m ==> Parameters: 
2025-08-25 03:09:01.389 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614868779893133312[0;39m <==    Updates: 1
2025-08-25 03:09:01.390 INFO  com.matt.wiki.job.DocJob                          :33   [32m614868779893133312[0;39m 更新电子书下的文档数据结束，耗时：554毫秒
2025-08-25 03:10:00.002 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614869028053323776[0;39m 生成今日电子书快照开始
2025-08-25 03:10:00.255 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614869028053323776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:10:00.256 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614869028053323776[0;39m ==> Parameters: 
2025-08-25 03:10:00.756 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614869028053323776[0;39m <==    Updates: 0
2025-08-25 03:10:00.756 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614869028053323776[0;39m 生成今日电子书快照结束，耗时：754毫秒
2025-08-25 03:10:00.756 INFO  com.matt.wiki.job.DocJob                          :30   [32m614869031215828992[0;39m 更新电子书下的文档数据开始
2025-08-25 03:10:00.757 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614869031215828992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:10:00.757 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614869031215828992[0;39m ==> Parameters: 
2025-08-25 03:10:01.293 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614869031215828992[0;39m <==    Updates: 1
2025-08-25 03:10:01.294 INFO  com.matt.wiki.job.DocJob                          :33   [32m614869031215828992[0;39m 更新电子书下的文档数据结束，耗时：537毫秒
2025-08-25 03:11:00.002 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614869279711563776[0;39m 生成今日电子书快照开始
2025-08-25 03:11:00.263 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614869279711563776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:11:00.263 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614869279711563776[0;39m ==> Parameters: 
2025-08-25 03:11:00.782 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614869279711563776[0;39m <==    Updates: 0
2025-08-25 03:11:00.783 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614869279711563776[0;39m 生成今日电子书快照结束，耗时：781毫秒
2025-08-25 03:11:00.783 INFO  com.matt.wiki.job.DocJob                          :30   [32m614869282987315200[0;39m 更新电子书下的文档数据开始
2025-08-25 03:11:00.783 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614869282987315200[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:11:00.783 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614869282987315200[0;39m ==> Parameters: 
2025-08-25 03:11:01.405 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614869282987315200[0;39m <==    Updates: 1
2025-08-25 03:11:01.405 INFO  com.matt.wiki.job.DocJob                          :33   [32m614869282987315200[0;39m 更新电子书下的文档数据结束，耗时：622毫秒
2025-08-25 03:12:00.010 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614869531403358208[0;39m 生成今日电子书快照开始
2025-08-25 03:12:00.271 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614869531403358208[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:12:00.272 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614869531403358208[0;39m ==> Parameters: 
2025-08-25 03:12:00.805 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614869531403358208[0;39m <==    Updates: 0
2025-08-25 03:12:00.805 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614869531403358208[0;39m 生成今日电子书快照结束，耗时：794毫秒
2025-08-25 03:12:00.806 INFO  com.matt.wiki.job.DocJob                          :30   [32m614869534742024192[0;39m 更新电子书下的文档数据开始
2025-08-25 03:12:00.806 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614869534742024192[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:12:00.806 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614869534742024192[0;39m ==> Parameters: 
2025-08-25 03:12:01.409 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614869534742024192[0;39m <==    Updates: 1
2025-08-25 03:12:01.410 INFO  com.matt.wiki.job.DocJob                          :33   [32m614869534742024192[0;39m 更新电子书下的文档数据结束，耗时：604毫秒
2025-08-25 03:13:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614869783040626688[0;39m 生成今日电子书快照开始
2025-08-25 03:13:00.265 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614869783040626688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:13:00.266 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614869783040626688[0;39m ==> Parameters: 
2025-08-25 03:13:00.904 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614869783040626688[0;39m <==    Updates: 0
2025-08-25 03:13:00.904 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614869783040626688[0;39m 生成今日电子书快照结束，耗时：899毫秒
2025-08-25 03:13:00.905 INFO  com.matt.wiki.job.DocJob                          :30   [32m614869786815500288[0;39m 更新电子书下的文档数据开始
2025-08-25 03:13:00.905 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614869786815500288[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:13:00.905 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614869786815500288[0;39m ==> Parameters: 
2025-08-25 03:13:01.518 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614869786815500288[0;39m <==    Updates: 1
2025-08-25 03:13:01.519 INFO  com.matt.wiki.job.DocJob                          :33   [32m614869786815500288[0;39m 更新电子书下的文档数据结束，耗时：614毫秒
2025-08-25 03:14:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614870034677895168[0;39m 生成今日电子书快照开始
2025-08-25 03:14:00.242 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614870034677895168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:14:00.242 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614870034677895168[0;39m ==> Parameters: 
2025-08-25 03:14:00.729 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614870034677895168[0;39m <==    Updates: 0
2025-08-25 03:14:00.729 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614870034677895168[0;39m 生成今日电子书快照结束，耗时：728毫秒
2025-08-25 03:14:00.730 INFO  com.matt.wiki.job.DocJob                          :30   [32m614870037739737088[0;39m 更新电子书下的文档数据开始
2025-08-25 03:14:00.730 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614870037739737088[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:14:00.730 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614870037739737088[0;39m ==> Parameters: 
2025-08-25 03:14:01.321 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614870037739737088[0;39m <==    Updates: 1
2025-08-25 03:14:01.321 INFO  com.matt.wiki.job.DocJob                          :33   [32m614870037739737088[0;39m 更新电子书下的文档数据结束，耗时：591毫秒
2025-08-25 03:15:00.002 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614870286344523776[0;39m 生成今日电子书快照开始
2025-08-25 03:15:00.247 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614870286344523776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:15:00.248 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614870286344523776[0;39m ==> Parameters: 
2025-08-25 03:15:00.750 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614870286344523776[0;39m <==    Updates: 0
2025-08-25 03:15:00.751 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614870286344523776[0;39m 生成今日电子书快照结束，耗时：748毫秒
2025-08-25 03:15:00.752 INFO  com.matt.wiki.job.DocJob                          :30   [32m614870289490251776[0;39m 更新电子书下的文档数据开始
2025-08-25 03:15:00.752 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614870289490251776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:15:00.753 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614870289490251776[0;39m ==> Parameters: 
2025-08-25 03:15:01.328 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614870289490251776[0;39m <==    Updates: 1
2025-08-25 03:15:01.328 INFO  com.matt.wiki.job.DocJob                          :33   [32m614870289490251776[0;39m 更新电子书下的文档数据结束，耗时：576毫秒
2025-08-25 03:16:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614870538015346688[0;39m 更新电子书下的文档数据开始
2025-08-25 03:16:00.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614870538015346688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:16:00.257 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614870538015346688[0;39m ==> Parameters: 
2025-08-25 03:16:00.766 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614870538015346688[0;39m <==    Updates: 1
2025-08-25 03:16:00.767 INFO  com.matt.wiki.job.DocJob                          :33   [32m614870538015346688[0;39m 更新电子书下的文档数据结束，耗时：762毫秒
2025-08-25 03:16:00.767 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614870541211406336[0;39m 生成今日电子书快照开始
2025-08-25 03:16:00.767 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614870541211406336[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:16:00.767 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614870541211406336[0;39m ==> Parameters: 
2025-08-25 03:16:01.334 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614870541211406336[0;39m <==    Updates: 0
2025-08-25 03:16:01.335 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614870541211406336[0;39m 生成今日电子书快照结束，耗时：568毫秒
2025-08-25 03:17:00.000 INFO  com.matt.wiki.job.DocJob                          :30   [32m614870789652615168[0;39m 更新电子书下的文档数据开始
2025-08-25 03:17:00.252 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614870789652615168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:17:00.253 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614870789652615168[0;39m ==> Parameters: 
2025-08-25 03:17:00.749 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614870789652615168[0;39m <==    Updates: 1
2025-08-25 03:17:00.750 INFO  com.matt.wiki.job.DocJob                          :33   [32m614870789652615168[0;39m 更新电子书下的文档数据结束，耗时：749毫秒
2025-08-25 03:17:00.750 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614870792798343168[0;39m 生成今日电子书快照开始
2025-08-25 03:17:00.750 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614870792798343168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:17:00.751 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614870792798343168[0;39m ==> Parameters: 
2025-08-25 03:17:01.293 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614870792798343168[0;39m <==    Updates: 0
2025-08-25 03:17:01.293 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614870792798343168[0;39m 生成今日电子书快照结束，耗时：543毫秒
2025-08-25 03:18:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614871041315049472[0;39m 生成今日电子书快照开始
2025-08-25 03:18:00.253 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614871041315049472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:18:00.254 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614871041315049472[0;39m ==> Parameters: 
2025-08-25 03:18:00.761 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614871041315049472[0;39m <==    Updates: 0
2025-08-25 03:18:00.761 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614871041315049472[0;39m 生成今日电子书快照结束，耗时：759毫秒
2025-08-25 03:18:00.762 INFO  com.matt.wiki.job.DocJob                          :30   [32m614871044506914816[0;39m 更新电子书下的文档数据开始
2025-08-25 03:18:00.762 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614871044506914816[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:18:00.762 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614871044506914816[0;39m ==> Parameters: 
2025-08-25 03:18:01.348 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614871044506914816[0;39m <==    Updates: 1
2025-08-25 03:18:01.348 INFO  com.matt.wiki.job.DocJob                          :33   [32m614871044506914816[0;39m 更新电子书下的文档数据结束，耗时：586毫秒
2025-08-25 03:19:00.004 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614871292985872384[0;39m 生成今日电子书快照开始
2025-08-25 03:19:00.252 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614871292985872384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:19:00.253 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614871292985872384[0;39m ==> Parameters: 
2025-08-25 03:19:00.754 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614871292985872384[0;39m <==    Updates: 0
2025-08-25 03:19:00.755 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614871292985872384[0;39m 生成今日电子书快照结束，耗时：750毫秒
2025-08-25 03:19:00.755 INFO  com.matt.wiki.job.DocJob                          :30   [32m614871296135794688[0;39m 更新电子书下的文档数据开始
2025-08-25 03:19:00.755 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614871296135794688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:19:00.755 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614871296135794688[0;39m ==> Parameters: 
2025-08-25 03:19:01.264 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614871296135794688[0;39m <==    Updates: 1
2025-08-25 03:19:01.264 INFO  com.matt.wiki.job.DocJob                          :33   [32m614871296135794688[0;39m 更新电子书下的文档数据结束，耗时：509毫秒
2025-08-25 03:20:00.004 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614871544644112384[0;39m 生成今日电子书快照开始
2025-08-25 03:20:00.253 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614871544644112384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:20:00.254 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614871544644112384[0;39m ==> Parameters: 
2025-08-25 03:20:00.753 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614871544644112384[0;39m <==    Updates: 0
2025-08-25 03:20:00.754 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614871544644112384[0;39m 生成今日电子书快照结束，耗时：750毫秒
2025-08-25 03:20:00.754 INFO  com.matt.wiki.job.DocJob                          :30   [32m614871547789840384[0;39m 更新电子书下的文档数据开始
2025-08-25 03:20:00.755 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614871547789840384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:20:00.756 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614871547789840384[0;39m ==> Parameters: 
2025-08-25 03:20:01.252 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614871547789840384[0;39m <==    Updates: 1
2025-08-25 03:20:01.253 INFO  com.matt.wiki.job.DocJob                          :33   [32m614871547789840384[0;39m 更新电子书下的文档数据结束，耗时：498毫秒
2025-08-25 03:21:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614871796302352384[0;39m 更新电子书下的文档数据开始
2025-08-25 03:21:00.252 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614871796302352384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:21:00.252 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614871796302352384[0;39m ==> Parameters: 
2025-08-25 03:21:00.800 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614871796302352384[0;39m <==    Updates: 1
2025-08-25 03:21:00.801 INFO  com.matt.wiki.job.DocJob                          :33   [32m614871796302352384[0;39m 更新电子书下的文档数据结束，耗时：797毫秒
2025-08-25 03:21:00.801 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614871799645212672[0;39m 生成今日电子书快照开始
2025-08-25 03:21:00.801 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614871799645212672[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:21:00.802 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614871799645212672[0;39m ==> Parameters: 
2025-08-25 03:21:01.305 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614871799645212672[0;39m <==    Updates: 0
2025-08-25 03:21:01.305 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614871799645212672[0;39m 生成今日电子书快照结束，耗时：504毫秒
2025-08-25 03:22:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614872047943815168[0;39m 生成今日电子书快照开始
2025-08-25 03:22:00.249 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614872047943815168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:22:00.250 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614872047943815168[0;39m ==> Parameters: 
2025-08-25 03:22:00.864 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614872047943815168[0;39m <==    Updates: 0
2025-08-25 03:22:00.865 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614872047943815168[0;39m 生成今日电子书快照结束，耗时：864毫秒
2025-08-25 03:22:00.866 INFO  com.matt.wiki.job.DocJob                          :30   [32m614872051576082432[0;39m 更新电子书下的文档数据开始
2025-08-25 03:22:00.866 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614872051576082432[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:22:00.866 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614872051576082432[0;39m ==> Parameters: 
2025-08-25 03:22:01.439 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614872051576082432[0;39m <==    Updates: 1
2025-08-25 03:22:01.440 INFO  com.matt.wiki.job.DocJob                          :33   [32m614872051576082432[0;39m 更新电子书下的文档数据结束，耗时：574毫秒
2025-08-25 03:23:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614872299623026688[0;39m 生成今日电子书快照开始
2025-08-25 03:23:00.256 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614872299623026688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:23:00.258 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614872299623026688[0;39m ==> Parameters: 
2025-08-25 03:23:00.755 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614872299623026688[0;39m <==    Updates: 0
2025-08-25 03:23:00.756 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614872299623026688[0;39m 生成今日电子书快照结束，耗时：750毫秒
2025-08-25 03:23:00.757 INFO  com.matt.wiki.job.DocJob                          :30   [32m614872302777143296[0;39m 更新电子书下的文档数据开始
2025-08-25 03:23:00.757 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614872302777143296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:23:00.758 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614872302777143296[0;39m ==> Parameters: 
2025-08-25 03:23:01.283 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614872302777143296[0;39m <==    Updates: 1
2025-08-25 03:23:01.284 INFO  com.matt.wiki.job.DocJob                          :33   [32m614872302777143296[0;39m 更新电子书下的文档数据结束，耗时：527毫秒
2025-08-25 03:24:00.003 INFO  com.matt.wiki.job.DocJob                          :30   [32m614872551272878080[0;39m 更新电子书下的文档数据开始
2025-08-25 03:24:00.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614872551272878080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:24:00.257 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614872551272878080[0;39m ==> Parameters: 
2025-08-25 03:24:00.769 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614872551272878080[0;39m <==    Updates: 1
2025-08-25 03:24:00.769 INFO  com.matt.wiki.job.DocJob                          :33   [32m614872551272878080[0;39m 更新电子书下的文档数据结束，耗时：765毫秒
2025-08-25 03:24:00.769 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614872554485714944[0;39m 生成今日电子书快照开始
2025-08-25 03:24:00.770 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614872554485714944[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:24:00.770 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614872554485714944[0;39m ==> Parameters: 
2025-08-25 03:24:01.389 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614872554485714944[0;39m <==    Updates: 0
2025-08-25 03:24:01.389 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614872554485714944[0;39m 生成今日电子书快照结束，耗时：619毫秒
2025-08-25 03:25:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614872802935312384[0;39m 更新电子书下的文档数据开始
2025-08-25 03:25:00.255 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614872802935312384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:25:00.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614872802935312384[0;39m ==> Parameters: 
2025-08-25 03:25:00.755 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614872802935312384[0;39m <==    Updates: 1
2025-08-25 03:25:00.756 INFO  com.matt.wiki.job.DocJob                          :33   [32m614872802935312384[0;39m 更新电子书下的文档数据结束，耗时：752毫秒
2025-08-25 03:25:00.756 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614872806089428992[0;39m 生成今日电子书快照开始
2025-08-25 03:25:00.756 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614872806089428992[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:25:00.757 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614872806089428992[0;39m ==> Parameters: 
2025-08-25 03:25:01.292 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614872806089428992[0;39m <==    Updates: 0
2025-08-25 03:25:01.293 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614872806089428992[0;39m 生成今日电子书快照结束，耗时：537毫秒
2025-08-25 03:26:00.010 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614873054618718208[0;39m 生成今日电子书快照开始
2025-08-25 03:26:00.262 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614873054618718208[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:26:00.263 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614873054618718208[0;39m ==> Parameters: 
2025-08-25 03:26:00.759 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614873054618718208[0;39m <==    Updates: 0
2025-08-25 03:26:00.759 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614873054618718208[0;39m 生成今日电子书快照结束，耗时：748毫秒
2025-08-25 03:26:00.759 INFO  com.matt.wiki.job.DocJob                          :30   [32m614873057760251904[0;39m 更新电子书下的文档数据开始
2025-08-25 03:26:00.759 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614873057760251904[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:26:00.760 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614873057760251904[0;39m ==> Parameters: 
2025-08-25 03:26:01.301 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614873057760251904[0;39m <==    Updates: 1
2025-08-25 03:26:01.301 INFO  com.matt.wiki.job.DocJob                          :33   [32m614873057760251904[0;39m 更新电子书下的文档数据结束，耗时：542毫秒
2025-08-25 03:26:59.990 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614873306193072128[0;39m 生成今日电子书快照开始
2025-08-25 03:27:00.239 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614873306193072128[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:27:00.240 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614873306193072128[0;39m ==> Parameters: 
2025-08-25 03:27:00.737 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614873306193072128[0;39m <==    Updates: 0
2025-08-25 03:27:00.738 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614873306193072128[0;39m 生成今日电子书快照结束，耗时：747毫秒
2025-08-25 03:27:00.738 INFO  com.matt.wiki.job.DocJob                          :30   [32m614873309330411520[0;39m 更新电子书下的文档数据开始
2025-08-25 03:27:00.738 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614873309330411520[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:27:00.738 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614873309330411520[0;39m ==> Parameters: 
2025-08-25 03:27:01.295 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614873309330411520[0;39m <==    Updates: 1
2025-08-25 03:27:01.295 INFO  com.matt.wiki.job.DocJob                          :33   [32m614873309330411520[0;39m 更新电子书下的文档数据结束，耗时：557毫秒
2025-08-25 03:28:00.008 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614873557926809600[0;39m 生成今日电子书快照开始
2025-08-25 03:28:00.257 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614873557926809600[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:28:00.257 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614873557926809600[0;39m ==> Parameters: 
2025-08-25 03:28:00.755 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614873557926809600[0;39m <==    Updates: 0
2025-08-25 03:28:00.756 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614873557926809600[0;39m 生成今日电子书快照结束，耗时：748毫秒
2025-08-25 03:28:00.757 INFO  com.matt.wiki.job.DocJob                          :30   [32m614873561068343296[0;39m 更新电子书下的文档数据开始
2025-08-25 03:28:00.757 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614873561068343296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:28:00.758 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614873561068343296[0;39m ==> Parameters: 
2025-08-25 03:28:01.304 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614873561068343296[0;39m <==    Updates: 1
2025-08-25 03:28:01.304 INFO  com.matt.wiki.job.DocJob                          :33   [32m614873561068343296[0;39m 更新电子书下的文档数据结束，耗时：547毫秒
2025-08-25 03:29:00.008 INFO  com.matt.wiki.job.DocJob                          :30   [32m614873809585049600[0;39m 更新电子书下的文档数据开始
2025-08-25 03:29:00.260 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614873809585049600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:29:00.261 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614873809585049600[0;39m ==> Parameters: 
2025-08-25 03:29:00.845 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614873809585049600[0;39m <==    Updates: 1
2025-08-25 03:29:00.845 INFO  com.matt.wiki.job.DocJob                          :33   [32m614873809585049600[0;39m 更新电子书下的文档数据结束，耗时：836毫秒
2025-08-25 03:29:00.845 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614873813095682048[0;39m 生成今日电子书快照开始
2025-08-25 03:29:00.845 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614873813095682048[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:29:00.846 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614873813095682048[0;39m ==> Parameters: 
2025-08-25 03:29:01.344 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614873813095682048[0;39m <==    Updates: 0
2025-08-25 03:29:01.345 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614873813095682048[0;39m 生成今日电子书快照结束，耗时：500毫秒
2025-08-25 03:30:00.003 INFO  com.matt.wiki.job.DocJob                          :30   [32m614874061222318080[0;39m 更新电子书下的文档数据开始
2025-08-25 03:30:00.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614874061222318080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:30:00.257 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614874061222318080[0;39m ==> Parameters: 
2025-08-25 03:30:00.754 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614874061222318080[0;39m <==    Updates: 1
2025-08-25 03:30:00.755 INFO  com.matt.wiki.job.DocJob                          :33   [32m614874061222318080[0;39m 更新电子书下的文档数据结束，耗时：752毫秒
2025-08-25 03:30:00.756 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614874064376434688[0;39m 生成今日电子书快照开始
2025-08-25 03:30:00.756 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614874064376434688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:30:00.756 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614874064376434688[0;39m ==> Parameters: 
2025-08-25 03:30:01.255 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614874064376434688[0;39m <==    Updates: 0
2025-08-25 03:30:01.255 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614874064376434688[0;39m 生成今日电子书快照结束，耗时：499毫秒
2025-08-25 03:31:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614874312884752384[0;39m 更新电子书下的文档数据开始
2025-08-25 03:31:00.257 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614874312884752384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:31:00.258 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614874312884752384[0;39m ==> Parameters: 
2025-08-25 03:31:00.880 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614874312884752384[0;39m <==    Updates: 1
2025-08-25 03:31:00.881 INFO  com.matt.wiki.job.DocJob                          :33   [32m614874312884752384[0;39m 更新电子书下的文档数据结束，耗时：876毫秒
2025-08-25 03:31:00.882 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614874316567351296[0;39m 生成今日电子书快照开始
2025-08-25 03:31:00.882 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614874316567351296[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:31:00.883 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614874316567351296[0;39m ==> Parameters: 
2025-08-25 03:31:01.423 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614874316567351296[0;39m <==    Updates: 0
2025-08-25 03:31:01.424 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614874316567351296[0;39m 生成今日电子书快照结束，耗时：542毫秒
2025-08-25 03:32:00.010 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614874564563963904[0;39m 生成今日电子书快照开始
2025-08-25 03:32:00.263 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614874564563963904[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:32:00.264 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614874564563963904[0;39m ==> Parameters: 
2025-08-25 03:32:00.761 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614874564563963904[0;39m <==    Updates: 0
2025-08-25 03:32:00.761 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614874564563963904[0;39m 生成今日电子书快照结束，耗时：750毫秒
2025-08-25 03:32:00.762 INFO  com.matt.wiki.job.DocJob                          :30   [32m614874567722274816[0;39m 更新电子书下的文档数据开始
2025-08-25 03:32:00.762 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614874567722274816[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:32:00.762 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614874567722274816[0;39m ==> Parameters: 
2025-08-25 03:32:01.326 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614874567722274816[0;39m <==    Updates: 1
2025-08-25 03:32:01.327 INFO  com.matt.wiki.job.DocJob                          :33   [32m614874567722274816[0;39m 更新电子书下的文档数据结束，耗时：565毫秒
2025-08-25 03:33:00.002 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614874816192843776[0;39m 生成今日电子书快照开始
2025-08-25 03:33:00.250 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614874816192843776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:33:00.252 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614874816192843776[0;39m ==> Parameters: 
2025-08-25 03:33:00.763 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614874816192843776[0;39m <==    Updates: 0
2025-08-25 03:33:00.764 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614874816192843776[0;39m 生成今日电子书快照结束，耗时：762毫秒
2025-08-25 03:33:00.764 INFO  com.matt.wiki.job.DocJob                          :30   [32m614874819388903424[0;39m 更新电子书下的文档数据开始
2025-08-25 03:33:00.765 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614874819388903424[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:33:00.765 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614874819388903424[0;39m ==> Parameters: 
2025-08-25 03:33:01.332 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614874819388903424[0;39m <==    Updates: 1
2025-08-25 03:33:01.333 INFO  com.matt.wiki.job.DocJob                          :33   [32m614874819388903424[0;39m 更新电子书下的文档数据结束，耗时：569毫秒
2025-08-25 03:34:00.008 INFO  com.matt.wiki.job.DocJob                          :30   [32m614875067876249600[0;39m 更新电子书下的文档数据开始
2025-08-25 03:34:00.258 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614875067876249600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:34:00.258 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614875067876249600[0;39m ==> Parameters: 
2025-08-25 03:34:00.770 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614875067876249600[0;39m <==    Updates: 1
2025-08-25 03:34:00.770 INFO  com.matt.wiki.job.DocJob                          :33   [32m614875067876249600[0;39m 更新电子书下的文档数据结束，耗时：762毫秒
2025-08-25 03:34:00.770 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614875071072309248[0;39m 生成今日电子书快照开始
2025-08-25 03:34:00.771 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614875071072309248[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:34:00.771 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614875071072309248[0;39m ==> Parameters: 
2025-08-25 03:34:01.340 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614875071072309248[0;39m <==    Updates: 0
2025-08-25 03:34:01.341 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614875071072309248[0;39m 生成今日电子书快照结束，耗时：571毫秒
2025-08-25 03:34:37.510 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :168  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-25 03:34:37.510 INFO  org.springframework.web.servlet.DispatcherServlet :532  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2025-08-25 03:34:37.513 INFO  org.springframework.web.servlet.DispatcherServlet :554  [32m                  [0;39m Completed initialization in 3 ms
2025-08-25 03:34:37.517 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m                  [0;39m 有新连接：token：dRfSnIqdKA，session id：6，当前连接数：1
2025-08-25 03:34:37.558 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875225372364802[0;39m ------------- 开始 -------------
2025-08-25 03:34:37.558 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875225372364801[0;39m ------------- 开始 -------------
2025-08-25 03:34:37.558 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875225372364800[0;39m ------------- 开始 -------------
2025-08-25 03:34:37.558 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875225372364802[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:34:37.558 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875225372364801[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:34:37.558 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875225372364800[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:34:37.558 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875225372364801[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:34:37.559 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875225372364800[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:34:37.558 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875225372364802[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:34:37.559 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875225372364801[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:34:37.559 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875225372364800[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:34:37.559 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875225372364802[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:34:37.559 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875225372364802[0;39m 请求参数: []
2025-08-25 03:34:37.559 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875225372364801[0;39m 请求参数: []
2025-08-25 03:34:37.559 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875225372364800[0;39m 请求参数: []
2025-08-25 03:34:37.896 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875225372364802[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:34:37.896 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875225372364801[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:34:37.897 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875225372364802[0;39m ==> Parameters: 
2025-08-25 03:34:37.897 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875225372364801[0;39m ==> Parameters: 
2025-08-25 03:34:37.896 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875225372364800[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:34:37.898 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875225372364800[0;39m ==> Parameters: 
2025-08-25 03:34:38.203 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875225372364800[0;39m <==      Total: 0
2025-08-25 03:34:38.203 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614875225372364801[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:34:38.203 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:34:38.204 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:34:38.204 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614875225372364801[0;39m <==        Row: 2025-08-25, 35, 16, 35, 16
2025-08-25 03:34:38.205 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:34:38.206 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:34:38.206 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:34:38.206 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:34:38.206 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:34:38.206 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875225372364801[0;39m <==      Total: 1
2025-08-25 03:34:38.206 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:34:38.210 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:34:38.210 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:34:38.211 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:34:38.211 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:34:38.211 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875225372364800[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 03:34:38.211 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875225372364800[0;39m ------------- 结束 耗时：654 ms -------------
2025-08-25 03:34:38.212 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:34:38.212 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:34:38.213 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:34:38.213 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:34:38.213 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875225372364802[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:34:38.214 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875225372364802[0;39m <==      Total: 16
2025-08-25 03:34:38.215 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875225372364801[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":35,"viewIncrease":35,"voteCount":16,"voteIncrease":16}],"success":true}
2025-08-25 03:34:38.215 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875225372364801[0;39m ------------- 结束 耗时：658 ms -------------
2025-08-25 03:34:38.220 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875225372364802[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:34:38.220 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875225372364802[0;39m ------------- 结束 耗时：662 ms -------------
2025-08-25 03:34:40.244 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875236638265344[0;39m ------------- 开始 -------------
2025-08-25 03:34:40.244 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875236638265344[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 03:34:40.244 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875236638265344[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 03:34:40.244 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875236638265344[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:34:40.245 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875236638265344[0;39m 请求参数: [{"category2Id":101,"page":1,"size":1000}]
2025-08-25 03:34:40.558 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875236638265344[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-08-25 03:34:40.558 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875236638265344[0;39m ==> Parameters: 101(Long)
2025-08-25 03:34:40.832 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614875236638265344[0;39m <==    Columns: count(0)
2025-08-25 03:34:40.833 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614875236638265344[0;39m <==        Row: 2
2025-08-25 03:34:40.833 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875236638265344[0;39m <==      Total: 1
2025-08-25 03:34:40.834 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875236638265344[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2025-08-25 03:34:40.834 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875236638265344[0;39m ==> Parameters: 101(Long), 1000(Integer)
2025-08-25 03:34:41.083 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875236638265344[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-08-25 03:34:41.083 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875236638265344[0;39m <==        Row: 1, Spring Boot 入门教程, 100, 101, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 13, 35, 16
2025-08-25 03:34:41.084 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875236638265344[0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳前端框架, null, 0, 0, 0
2025-08-25 03:34:41.085 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875236638265344[0;39m <==      Total: 2
2025-08-25 03:34:41.085 INFO  com.matt.wiki.service.EbookService                :49   [32m614875236638265344[0;39m 总行数: 2
2025-08-25 03:34:41.085 INFO  com.matt.wiki.service.EbookService                :50   [32m614875236638265344[0;39m 总页数:1
2025-08-25 03:34:41.089 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875236638265344[0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":35,"voteCount":16},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0}],"total":2},"success":true}
2025-08-25 03:34:41.089 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875236638265344[0;39m ------------- 结束 耗时：845 ms -------------
2025-08-25 03:34:41.636 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875242476736512[0;39m ------------- 开始 -------------
2025-08-25 03:34:41.637 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875242476736512[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 03:34:41.637 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875242476736512[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 03:34:41.637 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875242476736512[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:34:41.637 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875242476736512[0;39m 请求参数: [{"category2Id":102,"page":1,"size":1000}]
2025-08-25 03:34:41.896 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875242476736512[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-08-25 03:34:41.897 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875242476736512[0;39m ==> Parameters: 102(Long)
2025-08-25 03:34:42.196 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614875242476736512[0;39m <==    Columns: count(0)
2025-08-25 03:34:42.197 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614875242476736512[0;39m <==        Row: 0
2025-08-25 03:34:42.197 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875242476736512[0;39m <==      Total: 1
2025-08-25 03:34:42.197 INFO  com.matt.wiki.service.EbookService                :49   [32m614875242476736512[0;39m 总行数: 0
2025-08-25 03:34:42.197 INFO  com.matt.wiki.service.EbookService                :50   [32m614875242476736512[0;39m 总页数:0
2025-08-25 03:34:42.197 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875242476736512[0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2025-08-25 03:34:42.197 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875242476736512[0;39m ------------- 结束 耗时：561 ms -------------
2025-08-25 03:34:42.547 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875246297747456[0;39m ------------- 开始 -------------
2025-08-25 03:34:42.548 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875246297747456[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 03:34:42.548 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875246297747456[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 03:34:42.548 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875246297747456[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:34:42.548 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875246297747456[0;39m 请求参数: [{"category2Id":101,"page":1,"size":1000}]
2025-08-25 03:34:42.551 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875246297747456[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-08-25 03:34:42.552 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875246297747456[0;39m ==> Parameters: 101(Long)
2025-08-25 03:34:42.801 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614875246297747456[0;39m <==    Columns: count(0)
2025-08-25 03:34:42.801 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614875246297747456[0;39m <==        Row: 2
2025-08-25 03:34:42.802 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875246297747456[0;39m <==      Total: 1
2025-08-25 03:34:42.802 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875246297747456[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2025-08-25 03:34:42.802 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875246297747456[0;39m ==> Parameters: 101(Long), 1000(Integer)
2025-08-25 03:34:43.118 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875246297747456[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-08-25 03:34:43.119 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875246297747456[0;39m <==        Row: 1, Spring Boot 入门教程, 100, 101, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 13, 35, 16
2025-08-25 03:34:43.119 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875246297747456[0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳前端框架, null, 0, 0, 0
2025-08-25 03:34:43.119 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875246297747456[0;39m <==      Total: 2
2025-08-25 03:34:43.120 INFO  com.matt.wiki.service.EbookService                :49   [32m614875246297747456[0;39m 总行数: 2
2025-08-25 03:34:43.120 INFO  com.matt.wiki.service.EbookService                :50   [32m614875246297747456[0;39m 总页数:1
2025-08-25 03:34:43.120 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875246297747456[0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":35,"voteCount":16},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0}],"total":2},"success":true}
2025-08-25 03:34:43.120 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875246297747456[0;39m ------------- 结束 耗时：573 ms -------------
2025-08-25 03:34:43.585 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875250647240704[0;39m ------------- 开始 -------------
2025-08-25 03:34:43.585 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875250647240704[0;39m 请求地址: http://localhost:8080/doc/all/1 GET
2025-08-25 03:34:43.585 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875250647240704[0;39m 类名方法: com.matt.wiki.controller.DocController.all
2025-08-25 03:34:43.585 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875250647240704[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:34:43.585 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875250647240704[0;39m 请求参数: [1]
2025-08-25 03:34:43.588 DEBUG com.matt.wiki.mapper.DocMapper.selectByExample    :135  [32m614875250647240704[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2025-08-25 03:34:43.589 DEBUG com.matt.wiki.mapper.DocMapper.selectByExample    :135  [32m614875250647240704[0;39m ==> Parameters: 1(Long)
2025-08-25 03:34:43.939 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875250647240704[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2025-08-25 03:34:43.939 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875250647240704[0;39m <==        Row: 1, 1, 0, 文档1, 1, 1, 0
2025-08-25 03:34:43.940 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875250647240704[0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 3, 1
2025-08-25 03:34:43.941 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875250647240704[0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 4, 1
2025-08-25 03:34:43.941 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875250647240704[0;39m <==        Row: 7, 1, 6, 文档3.1, 1, 2, 1
2025-08-25 03:34:43.941 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875250647240704[0;39m <==        Row: 10, 1, 9, 文档4.1, 1, 4, 3
2025-08-25 03:34:43.942 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875250647240704[0;39m <==        Row: 12, 1, 11, 文档4.2.1, 1, 1, 1
2025-08-25 03:34:43.942 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875250647240704[0;39m <==        Row: 3, 1, 0, 文档2, 2, 0, 0
2025-08-25 03:34:43.942 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875250647240704[0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 6, 3
2025-08-25 03:34:43.942 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875250647240704[0;39m <==        Row: 8, 1, 6, 文档3.2, 2, 1, 0
2025-08-25 03:34:43.943 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875250647240704[0;39m <==        Row: 11, 1, 9, 文档4.2, 2, 3, 1
2025-08-25 03:34:43.943 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875250647240704[0;39m <==        Row: 6, 1, 0, 文档3, 3, 10, 5
2025-08-25 03:34:43.943 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875250647240704[0;39m <==        Row: 9, 1, 0, 文档4, 4, 0, 0
2025-08-25 03:34:43.943 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875250647240704[0;39m <==        Row: 13, 1, 0, 文档5, 5, 0, 0
2025-08-25 03:34:43.944 DEBUG com.matt.wiki.mapper.DocMapper.selectByExample    :135  [32m614875250647240704[0;39m <==      Total: 13
2025-08-25 03:34:43.948 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875250647240704[0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":7,"name":"文档3.1","parent":6,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":10,"name":"文档4.1","parent":9,"sort":1,"viewCount":4,"voteCount":3},{"ebookId":1,"id":12,"name":"文档4.2.1","parent":11,"sort":1,"viewCount":1,"voteCount":1},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":0,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":6,"voteCount":3},{"ebookId":1,"id":8,"name":"文档3.2","parent":6,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":1,"id":11,"name":"文档4.2","parent":9,"sort":2,"viewCount":3,"voteCount":1},{"ebookId":1,"id":6,"name":"文档3","parent":0,"sort":3,"viewCount":10,"voteCount":5},{"ebookId":1,"id":9,"name":"文档4","parent":0,"sort":4,"viewCount":0,"voteCount":0},{"ebookId":1,"id":13,"name":"文档5","parent":0,"sort":5,"viewCount":0,"voteCount":0}],"success":true}
2025-08-25 03:34:43.949 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875250647240704[0;39m ------------- 结束 耗时：365 ms -------------
2025-08-25 03:34:44.011 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875252438208512[0;39m ------------- 开始 -------------
2025-08-25 03:34:44.012 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875252438208512[0;39m 请求地址: http://localhost:8080/doc/find-content/1 GET
2025-08-25 03:34:44.012 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875252438208512[0;39m 类名方法: com.matt.wiki.controller.DocController.findContent
2025-08-25 03:34:44.012 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875252438208512[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:34:44.012 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875252438208512[0;39m 请求参数: [1]
2025-08-25 03:34:44.251 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614875252438208512[0;39m ==>  Preparing: select id , content from content where id = ?
2025-08-25 03:34:44.251 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614875252438208512[0;39m ==> Parameters: 1(Long)
2025-08-25 03:34:44.489 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614875252438208512[0;39m <==      Total: 0
2025-08-25 03:34:44.490 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614875252438208512[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-08-25 03:34:44.490 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614875252438208512[0;39m ==> Parameters: 1(Long)
2025-08-25 03:34:44.827 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875255860760576[0;39m ------------- 开始 -------------
2025-08-25 03:34:44.827 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875255860760576[0;39m 请求地址: http://localhost:8080/doc/vote/1 GET
2025-08-25 03:34:44.827 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875255860760576[0;39m 类名方法: com.matt.wiki.controller.DocController.vote
2025-08-25 03:34:44.827 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875255860760576[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:34:44.827 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875255860760576[0;39m 请求参数: [1]
2025-08-25 03:34:44.996 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614875252438208512[0;39m <==    Updates: 1
2025-08-25 03:34:44.997 WARN  com.matt.wiki.service.DocService                  :135  [32m614875252438208512[0;39m Content not found for doc id: 1 , return empty string.
2025-08-25 03:34:44.998 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875252438208512[0;39m 返回结果: {"content":"","success":true}
2025-08-25 03:34:44.998 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875252438208512[0;39m ------------- 结束 耗时：987 ms -------------
2025-08-25 03:34:45.886 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875260302528512[0;39m ------------- 开始 -------------
2025-08-25 03:34:45.886 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875260302528512[0;39m 请求地址: http://localhost:8080/doc/find-content/2 GET
2025-08-25 03:34:45.886 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875260302528512[0;39m 类名方法: com.matt.wiki.controller.DocController.findContent
2025-08-25 03:34:45.887 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875260302528512[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:34:45.887 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875260302528512[0;39m 请求参数: [2]
2025-08-25 03:34:46.190 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614875260302528512[0;39m ==>  Preparing: select id , content from content where id = ?
2025-08-25 03:34:46.190 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614875260302528512[0;39m ==> Parameters: 2(Long)
2025-08-25 03:34:46.499 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614875260302528512[0;39m <==      Total: 0
2025-08-25 03:34:46.499 INFO  com.matt.wiki.util.RedisUtil                      :31   [32m614875255860760576[0;39m key不存在，放入：DOC_VOTE_1_0:0:0:0:0:0:0:1，过期 5 秒
2025-08-25 03:34:46.500 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614875260302528512[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-08-25 03:34:46.500 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614875260302528512[0;39m ==> Parameters: 2(Long)
2025-08-25 03:34:46.579 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875263209181184[0;39m ------------- 开始 -------------
2025-08-25 03:34:46.579 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875263209181184[0;39m 请求地址: http://localhost:8080/doc/vote/2 GET
2025-08-25 03:34:46.579 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875263209181184[0;39m 类名方法: com.matt.wiki.controller.DocController.vote
2025-08-25 03:34:46.579 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875263209181184[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:34:46.580 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875263209181184[0;39m 请求参数: [2]
2025-08-25 03:34:46.833 INFO  com.matt.wiki.util.RedisUtil                      :31   [32m614875263209181184[0;39m key不存在，放入：DOC_VOTE_2_0:0:0:0:0:0:0:1，过期 5 秒
2025-08-25 03:34:47.045 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614875255860760576[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2025-08-25 03:34:47.046 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614875255860760576[0;39m ==> Parameters: 1(Long)
2025-08-25 03:34:47.053 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614875260302528512[0;39m <==    Updates: 1
2025-08-25 03:34:47.053 WARN  com.matt.wiki.service.DocService                  :135  [32m614875260302528512[0;39m Content not found for doc id: 2 , return empty string.
2025-08-25 03:34:47.053 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875260302528512[0;39m 返回结果: {"content":"","success":true}
2025-08-25 03:34:47.053 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875260302528512[0;39m ------------- 结束 耗时：1167 ms -------------
2025-08-25 03:34:47.085 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614875263209181184[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2025-08-25 03:34:47.085 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614875263209181184[0;39m ==> Parameters: 2(Long)
2025-08-25 03:34:47.527 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614875255860760576[0;39m <==    Updates: 1
2025-08-25 03:34:47.528 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614875255860760576[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2025-08-25 03:34:47.528 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614875255860760576[0;39m ==> Parameters: 1(Long)
2025-08-25 03:34:47.582 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614875263209181184[0;39m <==    Updates: 1
2025-08-25 03:34:47.582 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614875263209181184[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2025-08-25 03:34:47.583 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614875263209181184[0;39m ==> Parameters: 2(Long)
2025-08-25 03:34:47.768 TRACE com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :141  [32m614875255860760576[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2025-08-25 03:34:47.768 TRACE com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :141  [32m614875255860760576[0;39m <==        Row: 1, 1, 0, 文档1, 1, 2, 1
2025-08-25 03:34:47.769 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614875255860760576[0;39m <==      Total: 1
2025-08-25 03:34:47.771 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875255860760576[0;39m 返回结果: {"success":true}
2025-08-25 03:34:47.771 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875255860760576[0;39m ------------- 结束 耗时：2944 ms -------------
2025-08-25 03:34:47.772 INFO  com.matt.wiki.websocket.WebSocketServer           :76   [32m614875255860760576[0;39m 推送消息：dRfSnIqdKA，内容：【文档1】被点赞！
2025-08-25 03:34:47.831 TRACE com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :141  [32m614875263209181184[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2025-08-25 03:34:47.831 TRACE com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :141  [32m614875263209181184[0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 4, 2
2025-08-25 03:34:47.831 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614875263209181184[0;39m <==      Total: 1
2025-08-25 03:34:47.832 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875263209181184[0;39m 返回结果: {"success":true}
2025-08-25 03:34:47.832 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875263209181184[0;39m ------------- 结束 耗时：1253 ms -------------
2025-08-25 03:34:47.832 INFO  com.matt.wiki.websocket.WebSocketServer           :76   [32m614875263209181184[0;39m 推送消息：dRfSnIqdKA，内容：【文档1.1】被点赞！
2025-08-25 03:34:51.359 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875283257954304[0;39m ------------- 开始 -------------
2025-08-25 03:34:51.359 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875283257954306[0;39m ------------- 开始 -------------
2025-08-25 03:34:51.359 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875283257954305[0;39m ------------- 开始 -------------
2025-08-25 03:34:51.360 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875283257954304[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:34:51.360 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875283257954306[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:34:51.360 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875283257954305[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:34:51.360 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875283257954305[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:34:51.360 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875283257954304[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:34:51.360 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875283257954306[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:34:51.360 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875283257954304[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:34:51.360 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875283257954305[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:34:51.360 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875283257954306[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:34:51.360 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875283257954304[0;39m 请求参数: []
2025-08-25 03:34:51.360 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875283257954305[0;39m 请求参数: []
2025-08-25 03:34:51.360 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875283257954306[0;39m 请求参数: []
2025-08-25 03:34:51.619 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875283257954304[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:34:51.619 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875283257954305[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:34:51.619 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875283257954306[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:34:51.619 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875283257954306[0;39m ==> Parameters: 
2025-08-25 03:34:51.619 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875283257954304[0;39m ==> Parameters: 
2025-08-25 03:34:51.620 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875283257954305[0;39m ==> Parameters: 
2025-08-25 03:34:51.858 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614875283257954306[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:34:51.859 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614875283257954306[0;39m <==        Row: 2025-08-25, 35, 16, 35, 16
2025-08-25 03:34:51.859 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875283257954306[0;39m <==      Total: 1
2025-08-25 03:34:51.859 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875283257954306[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":35,"viewIncrease":35,"voteCount":16,"voteIncrease":16}],"success":true}
2025-08-25 03:34:51.859 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:34:51.860 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875283257954306[0;39m ------------- 结束 耗时：501 ms -------------
2025-08-25 03:34:51.860 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:34:51.860 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:34:51.860 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:34:51.860 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:34:51.860 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:34:51.860 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:34:51.860 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:34:51.861 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:34:51.861 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:34:51.861 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:34:51.861 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:34:51.861 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:34:51.861 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:34:51.861 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:34:51.861 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:34:51.862 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875283257954304[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:34:51.862 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875283257954304[0;39m <==      Total: 16
2025-08-25 03:34:51.862 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875283257954304[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:34:51.863 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875283257954304[0;39m ------------- 结束 耗时：504 ms -------------
2025-08-25 03:34:51.868 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875283257954305[0;39m <==      Total: 0
2025-08-25 03:34:51.868 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875283257954305[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 03:34:51.868 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875283257954305[0;39m ------------- 结束 耗时：509 ms -------------
2025-08-25 03:35:00.000 INFO  com.matt.wiki.job.DocJob                          :30   [32m614875319500935168[0;39m 更新电子书下的文档数据开始
2025-08-25 03:35:00.253 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614875319500935168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:35:00.254 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614875319500935168[0;39m ==> Parameters: 
2025-08-25 03:35:00.776 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614875319500935168[0;39m <==    Updates: 1
2025-08-25 03:35:00.776 INFO  com.matt.wiki.job.DocJob                          :33   [32m614875319500935168[0;39m 更新电子书下的文档数据结束，耗时：774毫秒
2025-08-25 03:35:00.777 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614875322759909376[0;39m 生成今日电子书快照开始
2025-08-25 03:35:00.777 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614875322759909376[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:35:00.777 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614875322759909376[0;39m ==> Parameters: 
2025-08-25 03:35:01.288 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614875322759909376[0;39m <==    Updates: 0
2025-08-25 03:35:01.289 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614875322759909376[0;39m 生成今日电子书快照结束，耗时：512毫秒
2025-08-25 03:35:02.544 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614875225372364801[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 03:35:02.544 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614875225372364801[0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2025-08-25 03:35:02.546 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614875252438208512[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 03:35:02.546 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614875252438208512[0;39m 接口登录拦截：，path：http://localhost:8080/user/list
2025-08-25 03:35:02.546 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614875252438208512[0;39m 登录校验开始，token：614841731069906944
2025-08-25 03:35:02.883 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614875252438208512[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614841731069906944"}
2025-08-25 03:35:02.891 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875331626668032[0;39m ------------- 开始 -------------
2025-08-25 03:35:02.891 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875331626668032[0;39m 请求地址: http://localhost:8080/user/list GET
2025-08-25 03:35:02.891 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875331626668032[0;39m 类名方法: com.matt.wiki.controller.UserController.list
2025-08-25 03:35:02.891 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875331626668032[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:35:02.892 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875331626668032[0;39m 请求参数: [{"loginName":"","page":1,"size":5}]
2025-08-25 03:35:03.188 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614875331626668032[0;39m ==>  Preparing: SELECT count(0) FROM user
2025-08-25 03:35:03.189 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614875331626668032[0;39m ==> Parameters: 
2025-08-25 03:35:03.496 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614875331626668032[0;39m <==    Columns: count(0)
2025-08-25 03:35:03.496 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614875331626668032[0;39m <==        Row: 2
2025-08-25 03:35:03.496 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614875331626668032[0;39m <==      Total: 1
2025-08-25 03:35:03.497 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614875331626668032[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2025-08-25 03:35:03.497 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614875331626668032[0;39m ==> Parameters: 5(Integer)
2025-08-25 03:35:03.803 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614875331626668032[0;39m <==    Columns: id, login_name, name, password
2025-08-25 03:35:03.803 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614875331626668032[0;39m <==        Row: 1, admin, 测试, 123456
2025-08-25 03:35:03.804 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614875331626668032[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 03:35:03.804 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614875331626668032[0;39m <==      Total: 2
2025-08-25 03:35:03.805 INFO  com.matt.wiki.service.UserService                 :51   [32m614875331626668032[0;39m 总行数: 2
2025-08-25 03:35:03.805 INFO  com.matt.wiki.service.UserService                 :52   [32m614875331626668032[0;39m 总页数:1
2025-08-25 03:35:03.808 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875331626668032[0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"admin","name":"测试"},{"id":2,"loginName":"test","name":"test"}],"total":2},"success":true}
2025-08-25 03:35:03.808 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875331626668032[0;39m ------------- 结束 耗时：917 ms -------------
2025-08-25 03:35:03.810 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614875331626668032[0;39m ------------- LoginInterceptor 结束 耗时：1264 ms -------------
2025-08-25 03:35:08.929 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614875236638265344[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 03:35:08.930 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614875236638265344[0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2025-08-25 03:35:08.932 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614875242476736512[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 03:35:08.932 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614875242476736512[0;39m 接口登录拦截：，path：http://localhost:8080/user/reset-password
2025-08-25 03:35:08.932 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614875242476736512[0;39m 登录校验开始，token：614841731069906944
2025-08-25 03:35:09.188 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614875242476736512[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614841731069906944"}
2025-08-25 03:35:09.199 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875358084337664[0;39m ------------- 开始 -------------
2025-08-25 03:35:09.199 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875358084337664[0;39m 请求地址: http://localhost:8080/user/reset-password POST
2025-08-25 03:35:09.199 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875358084337664[0;39m 类名方法: com.matt.wiki.controller.UserController.resetPassword
2025-08-25 03:35:09.199 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875358084337664[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:35:09.200 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875358084337664[0;39m 请求参数: [{"id":1}]
2025-08-25 03:35:09.448 DEBUG c.m.w.m.UserMapper.updateByPrimaryKeySelective    :135  [32m614875358084337664[0;39m ==>  Preparing: update user SET `password` = ? where id = ?
2025-08-25 03:35:09.449 DEBUG c.m.w.m.UserMapper.updateByPrimaryKeySelective    :135  [32m614875358084337664[0;39m ==> Parameters: fb09b64e309e1c33e7cf8cfe99b07bd5(String), 1(Long)
2025-08-25 03:35:09.991 DEBUG c.m.w.m.UserMapper.updateByPrimaryKeySelective    :135  [32m614875358084337664[0;39m <==    Updates: 1
2025-08-25 03:35:09.992 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875358084337664[0;39m 返回结果: {"success":true}
2025-08-25 03:35:09.993 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875358084337664[0;39m ------------- 结束 耗时：794 ms -------------
2025-08-25 03:35:09.995 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614875358084337664[0;39m ------------- LoginInterceptor 结束 耗时：1063 ms -------------
2025-08-25 03:35:10.022 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614875260302528512[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 03:35:10.023 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614875260302528512[0;39m 接口登录拦截：，path：http://localhost:8080/user/list
2025-08-25 03:35:10.023 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614875260302528512[0;39m 登录校验开始，token：614841731069906944
2025-08-25 03:35:10.356 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614875260302528512[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614841731069906944"}
2025-08-25 03:35:10.358 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875362945536000[0;39m ------------- 开始 -------------
2025-08-25 03:35:10.358 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875362945536000[0;39m 请求地址: http://localhost:8080/user/list GET
2025-08-25 03:35:10.358 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875362945536000[0;39m 类名方法: com.matt.wiki.controller.UserController.list
2025-08-25 03:35:10.358 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875362945536000[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:35:10.359 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875362945536000[0;39m 请求参数: [{"loginName":"","page":1,"size":5}]
2025-08-25 03:35:10.360 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614875362945536000[0;39m ==>  Preparing: SELECT count(0) FROM user
2025-08-25 03:35:10.360 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614875362945536000[0;39m ==> Parameters: 
2025-08-25 03:35:10.664 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614875362945536000[0;39m <==    Columns: count(0)
2025-08-25 03:35:10.664 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614875362945536000[0;39m <==        Row: 2
2025-08-25 03:35:10.664 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614875362945536000[0;39m <==      Total: 1
2025-08-25 03:35:10.665 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614875362945536000[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2025-08-25 03:35:10.665 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614875362945536000[0;39m ==> Parameters: 5(Integer)
2025-08-25 03:35:10.971 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614875362945536000[0;39m <==    Columns: id, login_name, name, password
2025-08-25 03:35:10.971 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614875362945536000[0;39m <==        Row: 1, admin, 测试, fb09b64e309e1c33e7cf8cfe99b07bd5
2025-08-25 03:35:10.972 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614875362945536000[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 03:35:10.972 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614875362945536000[0;39m <==      Total: 2
2025-08-25 03:35:10.972 INFO  com.matt.wiki.service.UserService                 :51   [32m614875362945536000[0;39m 总行数: 2
2025-08-25 03:35:10.972 INFO  com.matt.wiki.service.UserService                 :52   [32m614875362945536000[0;39m 总页数:1
2025-08-25 03:35:10.972 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875362945536000[0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"admin","name":"测试"},{"id":2,"loginName":"test","name":"test"}],"total":2},"success":true}
2025-08-25 03:35:10.973 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875362945536000[0;39m ------------- 结束 耗时：615 ms -------------
2025-08-25 03:35:10.974 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614875362945536000[0;39m ------------- LoginInterceptor 结束 耗时：951 ms -------------
2025-08-25 03:35:23.537 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875418222268416[0;39m ------------- 开始 -------------
2025-08-25 03:35:23.538 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875418222268416[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:35:23.538 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875418222268416[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:35:23.538 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875418222268416[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:35:23.538 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875418222268416[0;39m 请求参数: []
2025-08-25 03:35:23.873 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875418222268416[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:35:23.874 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875418222268416[0;39m ==> Parameters: 
2025-08-25 03:35:24.180 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:35:24.181 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:35:24.181 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:35:24.181 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:35:24.181 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:35:24.181 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:35:24.181 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:35:24.182 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:35:24.182 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:35:24.182 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:35:24.182 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:35:24.182 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:35:24.182 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:35:24.182 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:35:24.183 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:35:24.183 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:35:24.183 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875418222268416[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:35:24.183 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875418222268416[0;39m <==      Total: 16
2025-08-25 03:35:24.184 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875418222268416[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:35:24.184 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875418222268416[0;39m ------------- 结束 耗时：647 ms -------------
2025-08-25 03:35:24.196 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875420986314752[0;39m ------------- 开始 -------------
2025-08-25 03:35:24.197 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875420986314752[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 03:35:24.197 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875420986314752[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 03:35:24.197 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875420986314752[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:35:24.197 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875420986314752[0;39m 请求参数: [{"name":"","page":1,"size":5}]
2025-08-25 03:35:24.437 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875420986314752[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2025-08-25 03:35:24.437 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875420986314752[0;39m ==> Parameters: 
2025-08-25 03:35:24.692 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614875420986314752[0;39m <==    Columns: count(0)
2025-08-25 03:35:24.693 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614875420986314752[0;39m <==        Row: 12
2025-08-25 03:35:24.693 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875420986314752[0;39m <==      Total: 1
2025-08-25 03:35:24.693 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875420986314752[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2025-08-25 03:35:24.693 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875420986314752[0;39m ==> Parameters: 5(Integer)
2025-08-25 03:35:24.933 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875420986314752[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-08-25 03:35:24.934 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875420986314752[0;39m <==        Row: 1, Spring Boot 入门教程, 100, 101, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 13, 37, 18
2025-08-25 03:35:24.934 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875420986314752[0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳前端框架, null, 0, 0, 0
2025-08-25 03:35:24.934 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875420986314752[0;39m <==        Row: 3, MySQL 数据库教程, null, null, 系统学习 MySQL 数据库基础与进阶操作, null, 0, 0, 0
2025-08-25 03:35:24.934 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875420986314752[0;39m <==        Row: 4, Python 编程入门, null, null, 面向初学者的 Python 编程实战教程, null, 0, 0, 0
2025-08-25 03:35:24.935 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875420986314752[0;39m <==        Row: 5, JavaScript 高级编程, null, null, 深入理解 JavaScript 核心机制与高级应用, null, 0, 0, 0
2025-08-25 03:35:24.935 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875420986314752[0;39m <==      Total: 5
2025-08-25 03:35:24.935 INFO  com.matt.wiki.service.EbookService                :49   [32m614875420986314752[0;39m 总行数: 12
2025-08-25 03:35:24.935 INFO  com.matt.wiki.service.EbookService                :50   [32m614875420986314752[0;39m 总页数:3
2025-08-25 03:35:24.936 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875420986314752[0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":37,"voteCount":18},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"description":"系统学习 MySQL 数据库基础与进阶操作","docCount":0,"id":3,"name":"MySQL 数据库教程","viewCount":0,"voteCount":0},{"description":"面向初学者的 Python 编程实战教程","docCount":0,"id":4,"name":"Python 编程入门","viewCount":0,"voteCount":0},{"description":"深入理解 JavaScript 核心机制与高级应用","docCount":0,"id":5,"name":"JavaScript 高级编程","viewCount":0,"voteCount":0}],"total":12},"success":true}
2025-08-25 03:35:24.936 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875420986314752[0;39m ------------- 结束 耗时：740 ms -------------
2025-08-25 03:35:52.776 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614875225372364801[0;39m 连接关闭，token：dRfSnIqdKA，session id：6！当前连接数：0
2025-08-25 03:35:53.079 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614875331626668032[0;39m 有新连接：token：Zi4IYrgMA2，session id：7，当前连接数：1
2025-08-25 03:35:53.122 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875542310752256[0;39m ------------- 开始 -------------
2025-08-25 03:35:53.122 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875542310752256[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:35:53.123 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875542310752256[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:35:53.123 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875542310752256[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:35:53.123 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875542310752256[0;39m 请求参数: []
2025-08-25 03:35:53.371 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875542310752256[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:35:53.372 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875542310752256[0;39m ==> Parameters: 
2025-08-25 03:35:53.621 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:35:53.621 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:35:53.622 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:35:53.622 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:35:53.622 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:35:53.623 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:35:53.623 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:35:53.623 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:35:53.623 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:35:53.623 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:35:53.624 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:35:53.624 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:35:53.624 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:35:53.624 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:35:53.624 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:35:53.624 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:35:53.624 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875542310752256[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:35:53.625 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875542310752256[0;39m <==      Total: 16
2025-08-25 03:35:53.625 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875542310752256[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:35:53.626 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875542310752256[0;39m ------------- 结束 耗时：504 ms -------------
2025-08-25 03:35:53.646 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875544508567552[0;39m ------------- 开始 -------------
2025-08-25 03:35:53.646 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875544508567552[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 03:35:53.646 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875544508567552[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 03:35:53.647 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875544508567552[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:35:53.647 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875544508567552[0;39m 请求参数: [{"name":"","page":1,"size":5}]
2025-08-25 03:35:53.649 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875544508567552[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2025-08-25 03:35:53.649 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875544508567552[0;39m ==> Parameters: 
2025-08-25 03:35:53.898 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614875544508567552[0;39m <==    Columns: count(0)
2025-08-25 03:35:53.898 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614875544508567552[0;39m <==        Row: 12
2025-08-25 03:35:53.898 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875544508567552[0;39m <==      Total: 1
2025-08-25 03:35:53.898 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875544508567552[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2025-08-25 03:35:53.899 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875544508567552[0;39m ==> Parameters: 5(Integer)
2025-08-25 03:35:54.148 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875544508567552[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-08-25 03:35:54.148 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875544508567552[0;39m <==        Row: 1, Spring Boot 入门教程, 100, 101, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 13, 37, 18
2025-08-25 03:35:54.149 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875544508567552[0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳前端框架, null, 0, 0, 0
2025-08-25 03:35:54.149 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875544508567552[0;39m <==        Row: 3, MySQL 数据库教程, null, null, 系统学习 MySQL 数据库基础与进阶操作, null, 0, 0, 0
2025-08-25 03:35:54.150 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875544508567552[0;39m <==        Row: 4, Python 编程入门, null, null, 面向初学者的 Python 编程实战教程, null, 0, 0, 0
2025-08-25 03:35:54.150 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875544508567552[0;39m <==        Row: 5, JavaScript 高级编程, null, null, 深入理解 JavaScript 核心机制与高级应用, null, 0, 0, 0
2025-08-25 03:35:54.150 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875544508567552[0;39m <==      Total: 5
2025-08-25 03:35:54.150 INFO  com.matt.wiki.service.EbookService                :49   [32m614875544508567552[0;39m 总行数: 12
2025-08-25 03:35:54.150 INFO  com.matt.wiki.service.EbookService                :50   [32m614875544508567552[0;39m 总页数:3
2025-08-25 03:35:54.151 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875544508567552[0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":37,"voteCount":18},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"description":"系统学习 MySQL 数据库基础与进阶操作","docCount":0,"id":3,"name":"MySQL 数据库教程","viewCount":0,"voteCount":0},{"description":"面向初学者的 Python 编程实战教程","docCount":0,"id":4,"name":"Python 编程入门","viewCount":0,"voteCount":0},{"description":"深入理解 JavaScript 核心机制与高级应用","docCount":0,"id":5,"name":"JavaScript 高级编程","viewCount":0,"voteCount":0}],"total":12},"success":true}
2025-08-25 03:35:54.151 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875544508567552[0;39m ------------- 结束 耗时：505 ms -------------
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875552708431874[0;39m ------------- 开始 -------------
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875552708431872[0;39m ------------- 开始 -------------
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875552708431874[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875552708431873[0;39m ------------- 开始 -------------
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875552708431874[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875552708431874[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875552708431873[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875552708431874[0;39m 请求参数: []
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875552708431873[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875552708431873[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875552708431873[0;39m 请求参数: []
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875552708431872[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875552708431872[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875552708431872[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:35:55.601 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875552708431872[0;39m 请求参数: []
2025-08-25 03:35:55.841 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875552708431872[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:35:55.841 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875552708431872[0;39m ==> Parameters: 
2025-08-25 03:35:55.842 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875552708431873[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:35:55.842 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875552708431873[0;39m ==> Parameters: 
2025-08-25 03:35:55.849 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875552708431874[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:35:55.849 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875552708431874[0;39m ==> Parameters: 
2025-08-25 03:35:56.131 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614875552708431874[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:35:56.131 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:35:56.131 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875552708431872[0;39m <==      Total: 0
2025-08-25 03:35:56.131 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:35:56.131 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614875552708431874[0;39m <==        Row: 2025-08-25, 37, 18, 37, 18
2025-08-25 03:35:56.131 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875552708431872[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 03:35:56.131 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875552708431872[0;39m ------------- 结束 耗时：530 ms -------------
2025-08-25 03:35:56.131 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:35:56.132 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875552708431874[0;39m <==      Total: 1
2025-08-25 03:35:56.132 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:35:56.132 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:35:56.132 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875552708431874[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":37,"viewIncrease":37,"voteCount":18,"voteIncrease":18}],"success":true}
2025-08-25 03:35:56.135 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875552708431874[0;39m ------------- 结束 耗时：534 ms -------------
2025-08-25 03:35:56.135 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:35:56.135 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:35:56.135 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:35:56.135 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:35:56.135 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:35:56.135 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:35:56.135 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:35:56.136 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:35:56.136 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:35:56.136 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:35:56.136 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:35:56.136 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875552708431873[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:35:56.136 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875552708431873[0;39m <==      Total: 16
2025-08-25 03:35:56.137 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875552708431873[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:35:56.137 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875552708431873[0;39m ------------- 结束 耗时：536 ms -------------
2025-08-25 03:35:59.375 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614875420986314752[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 03:35:59.375 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614875420986314752[0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2025-08-25 03:35:59.377 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614875283257954304[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 03:35:59.377 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614875283257954304[0;39m 接口登录拦截：，path：http://localhost:8080/user/logout/614841731069906944
2025-08-25 03:35:59.377 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614875283257954304[0;39m 登录校验开始，token：614841731069906944
2025-08-25 03:35:59.633 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614875283257954304[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614841731069906944"}
2025-08-25 03:35:59.634 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875569624059904[0;39m ------------- 开始 -------------
2025-08-25 03:35:59.634 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875569624059904[0;39m 请求地址: http://localhost:8080/user/logout/614841731069906944 GET
2025-08-25 03:35:59.635 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875569624059904[0;39m 类名方法: com.matt.wiki.controller.UserController.logout
2025-08-25 03:35:59.635 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875569624059904[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:35:59.635 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875569624059904[0;39m 请求参数: ["614841731069906944"]
2025-08-25 03:35:59.918 INFO  com.matt.wiki.aspect.LogAspect                    :94   [32m614875569624059904[0;39m delete token: 614841731069906944
2025-08-25 03:35:59.918 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875569624059904[0;39m 返回结果: {"success":true}
2025-08-25 03:35:59.918 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875569624059904[0;39m ------------- 结束 耗时：284 ms -------------
2025-08-25 03:35:59.919 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614875569624059904[0;39m ------------- LoginInterceptor 结束 耗时：542 ms -------------
2025-08-25 03:36:00.000 INFO  com.matt.wiki.job.DocJob                          :30   [32m614875571159175168[0;39m 更新电子书下的文档数据开始
2025-08-25 03:36:00.240 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614875571159175168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:36:00.240 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614875571159175168[0;39m ==> Parameters: 
2025-08-25 03:36:00.774 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614875571159175168[0;39m <==    Updates: 1
2025-08-25 03:36:00.774 INFO  com.matt.wiki.job.DocJob                          :33   [32m614875571159175168[0;39m 更新电子书下的文档数据结束，耗时：774毫秒
2025-08-25 03:36:00.774 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614875574405566464[0;39m 生成今日电子书快照开始
2025-08-25 03:36:00.774 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614875574405566464[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:36:00.775 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614875574405566464[0;39m ==> Parameters: 
2025-08-25 03:36:01.351 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614875574405566464[0;39m <==    Updates: 0
2025-08-25 03:36:01.352 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614875574405566464[0;39m 生成今日电子书快照结束，耗时：578毫秒
2025-08-25 03:36:02.994 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875583716921344[0;39m ------------- 开始 -------------
2025-08-25 03:36:02.994 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875583716921344[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 03:36:02.994 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875583716921344[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 03:36:02.994 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875583716921344[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:02.995 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875583716921344[0;39m 请求参数: [{"category2Id":101,"page":1,"size":1000}]
2025-08-25 03:36:03.242 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875583716921344[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-08-25 03:36:03.242 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875583716921344[0;39m ==> Parameters: 101(Long)
2025-08-25 03:36:03.482 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614875583716921344[0;39m <==    Columns: count(0)
2025-08-25 03:36:03.483 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614875583716921344[0;39m <==        Row: 2
2025-08-25 03:36:03.483 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875583716921344[0;39m <==      Total: 1
2025-08-25 03:36:03.483 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875583716921344[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2025-08-25 03:36:03.483 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875583716921344[0;39m ==> Parameters: 101(Long), 1000(Integer)
2025-08-25 03:36:03.724 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875583716921344[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-08-25 03:36:03.725 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875583716921344[0;39m <==        Row: 1, Spring Boot 入门教程, 100, 101, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 13, 37, 18
2025-08-25 03:36:03.725 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875583716921344[0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳前端框架, null, 0, 0, 0
2025-08-25 03:36:03.725 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875583716921344[0;39m <==      Total: 2
2025-08-25 03:36:03.726 INFO  com.matt.wiki.service.EbookService                :49   [32m614875583716921344[0;39m 总行数: 2
2025-08-25 03:36:03.726 INFO  com.matt.wiki.service.EbookService                :50   [32m614875583716921344[0;39m 总页数:1
2025-08-25 03:36:03.726 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875583716921344[0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":37,"voteCount":18},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0}],"total":2},"success":true}
2025-08-25 03:36:03.726 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875583716921344[0;39m ------------- 结束 耗时：732 ms -------------
2025-08-25 03:36:04.446 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875589807050752[0;39m ------------- 开始 -------------
2025-08-25 03:36:04.446 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875589807050752[0;39m 请求地址: http://localhost:8080/doc/all/1 GET
2025-08-25 03:36:04.446 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875589807050752[0;39m 类名方法: com.matt.wiki.controller.DocController.all
2025-08-25 03:36:04.447 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875589807050752[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:04.447 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875589807050752[0;39m 请求参数: [1]
2025-08-25 03:36:04.731 DEBUG com.matt.wiki.mapper.DocMapper.selectByExample    :135  [32m614875589807050752[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2025-08-25 03:36:04.732 DEBUG com.matt.wiki.mapper.DocMapper.selectByExample    :135  [32m614875589807050752[0;39m ==> Parameters: 1(Long)
2025-08-25 03:36:04.973 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875589807050752[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2025-08-25 03:36:04.973 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875589807050752[0;39m <==        Row: 1, 1, 0, 文档1, 1, 2, 1
2025-08-25 03:36:04.973 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875589807050752[0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 4, 2
2025-08-25 03:36:04.973 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875589807050752[0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 4, 1
2025-08-25 03:36:04.973 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875589807050752[0;39m <==        Row: 7, 1, 6, 文档3.1, 1, 2, 1
2025-08-25 03:36:04.973 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875589807050752[0;39m <==        Row: 10, 1, 9, 文档4.1, 1, 4, 3
2025-08-25 03:36:04.974 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875589807050752[0;39m <==        Row: 12, 1, 11, 文档4.2.1, 1, 1, 1
2025-08-25 03:36:04.974 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875589807050752[0;39m <==        Row: 3, 1, 0, 文档2, 2, 0, 0
2025-08-25 03:36:04.974 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875589807050752[0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 6, 3
2025-08-25 03:36:04.974 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875589807050752[0;39m <==        Row: 8, 1, 6, 文档3.2, 2, 1, 0
2025-08-25 03:36:04.974 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875589807050752[0;39m <==        Row: 11, 1, 9, 文档4.2, 2, 3, 1
2025-08-25 03:36:04.974 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875589807050752[0;39m <==        Row: 6, 1, 0, 文档3, 3, 10, 5
2025-08-25 03:36:04.974 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875589807050752[0;39m <==        Row: 9, 1, 0, 文档4, 4, 0, 0
2025-08-25 03:36:04.974 TRACE com.matt.wiki.mapper.DocMapper.selectByExample    :141  [32m614875589807050752[0;39m <==        Row: 13, 1, 0, 文档5, 5, 0, 0
2025-08-25 03:36:04.974 DEBUG com.matt.wiki.mapper.DocMapper.selectByExample    :135  [32m614875589807050752[0;39m <==      Total: 13
2025-08-25 03:36:04.975 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875589807050752[0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":4,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":7,"name":"文档3.1","parent":6,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":10,"name":"文档4.1","parent":9,"sort":1,"viewCount":4,"voteCount":3},{"ebookId":1,"id":12,"name":"文档4.2.1","parent":11,"sort":1,"viewCount":1,"voteCount":1},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":0,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":6,"voteCount":3},{"ebookId":1,"id":8,"name":"文档3.2","parent":6,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":1,"id":11,"name":"文档4.2","parent":9,"sort":2,"viewCount":3,"voteCount":1},{"ebookId":1,"id":6,"name":"文档3","parent":0,"sort":3,"viewCount":10,"voteCount":5},{"ebookId":1,"id":9,"name":"文档4","parent":0,"sort":4,"viewCount":0,"voteCount":0},{"ebookId":1,"id":13,"name":"文档5","parent":0,"sort":5,"viewCount":0,"voteCount":0}],"success":true}
2025-08-25 03:36:04.975 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875589807050752[0;39m ------------- 结束 耗时：529 ms -------------
2025-08-25 03:36:05.021 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875592218775552[0;39m ------------- 开始 -------------
2025-08-25 03:36:05.022 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875592218775552[0;39m 请求地址: http://localhost:8080/doc/find-content/1 GET
2025-08-25 03:36:05.022 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875592218775552[0;39m 类名方法: com.matt.wiki.controller.DocController.findContent
2025-08-25 03:36:05.022 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875592218775552[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:05.022 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875592218775552[0;39m 请求参数: [1]
2025-08-25 03:36:05.347 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614875592218775552[0;39m ==>  Preparing: select id , content from content where id = ?
2025-08-25 03:36:05.348 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614875592218775552[0;39m ==> Parameters: 1(Long)
2025-08-25 03:36:05.652 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614875592218775552[0;39m <==      Total: 0
2025-08-25 03:36:05.653 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614875592218775552[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-08-25 03:36:05.653 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614875592218775552[0;39m ==> Parameters: 1(Long)
2025-08-25 03:36:06.267 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614875592218775552[0;39m <==    Updates: 1
2025-08-25 03:36:06.268 WARN  com.matt.wiki.service.DocService                  :135  [32m614875592218775552[0;39m Content not found for doc id: 1 , return empty string.
2025-08-25 03:36:06.268 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875592218775552[0;39m 返回结果: {"content":"","success":true}
2025-08-25 03:36:06.268 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875592218775552[0;39m ------------- 结束 耗时：1247 ms -------------
2025-08-25 03:36:06.305 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875597604261888[0;39m ------------- 开始 -------------
2025-08-25 03:36:06.305 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875597604261888[0;39m 请求地址: http://localhost:8080/doc/find-content/11 GET
2025-08-25 03:36:06.305 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875597604261888[0;39m 类名方法: com.matt.wiki.controller.DocController.findContent
2025-08-25 03:36:06.305 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875597604261888[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:06.306 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875597604261888[0;39m 请求参数: [11]
2025-08-25 03:36:06.546 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614875597604261888[0;39m ==>  Preparing: select id , content from content where id = ?
2025-08-25 03:36:06.547 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614875597604261888[0;39m ==> Parameters: 11(Long)
2025-08-25 03:36:06.882 DEBUG c.m.wiki.mapper.ContentMapper.selectByPrimaryKey  :135  [32m614875597604261888[0;39m <==      Total: 0
2025-08-25 03:36:06.882 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614875597604261888[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-08-25 03:36:06.883 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614875597604261888[0;39m ==> Parameters: 11(Long)
2025-08-25 03:36:07.404 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875602213801984[0;39m ------------- 开始 -------------
2025-08-25 03:36:07.404 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875602213801984[0;39m 请求地址: http://localhost:8080/doc/vote/11 GET
2025-08-25 03:36:07.404 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875602213801984[0;39m 类名方法: com.matt.wiki.controller.DocController.vote
2025-08-25 03:36:07.404 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875602213801984[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:07.405 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875602213801984[0;39m 请求参数: [11]
2025-08-25 03:36:07.429 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseViewCount:135  [32m614875597604261888[0;39m <==    Updates: 1
2025-08-25 03:36:07.430 WARN  com.matt.wiki.service.DocService                  :135  [32m614875597604261888[0;39m Content not found for doc id: 11 , return empty string.
2025-08-25 03:36:07.430 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875597604261888[0;39m 返回结果: {"content":"","success":true}
2025-08-25 03:36:07.430 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875597604261888[0;39m ------------- 结束 耗时：1125 ms -------------
2025-08-25 03:36:07.700 INFO  com.matt.wiki.util.RedisUtil                      :31   [32m614875602213801984[0;39m key不存在，放入：DOC_VOTE_11_0:0:0:0:0:0:0:1，过期 5 秒
2025-08-25 03:36:08.193 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614875602213801984[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2025-08-25 03:36:08.194 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614875602213801984[0;39m ==> Parameters: 11(Long)
2025-08-25 03:36:08.675 DEBUG c.matt.wiki.mapper.DocMapperCust.increaseVoteCount:135  [32m614875602213801984[0;39m <==    Updates: 1
2025-08-25 03:36:08.676 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614875602213801984[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2025-08-25 03:36:08.677 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614875602213801984[0;39m ==> Parameters: 11(Long)
2025-08-25 03:36:08.931 TRACE com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :141  [32m614875602213801984[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2025-08-25 03:36:08.931 TRACE com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :141  [32m614875602213801984[0;39m <==        Row: 11, 1, 9, 文档4.2, 2, 4, 2
2025-08-25 03:36:08.932 DEBUG com.matt.wiki.mapper.DocMapper.selectByPrimaryKey :135  [32m614875602213801984[0;39m <==      Total: 1
2025-08-25 03:36:08.932 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875602213801984[0;39m 返回结果: {"success":true}
2025-08-25 03:36:08.932 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875602213801984[0;39m ------------- 结束 耗时：1528 ms -------------
2025-08-25 03:36:08.932 INFO  com.matt.wiki.websocket.WebSocketServer           :76   [32m614875602213801984[0;39m 推送消息：Zi4IYrgMA2，内容：【文档4.2】被点赞！
2025-08-25 03:36:12.186 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875622270963712[0;39m ------------- 开始 -------------
2025-08-25 03:36:12.186 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875622270963712[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 03:36:12.186 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875622270963712[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 03:36:12.186 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875622270963712[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:12.187 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875622270963712[0;39m 请求参数: [{"loginName":"test"}]
2025-08-25 03:36:12.515 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614875622270963712[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 03:36:12.516 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614875622270963712[0;39m ==> Parameters: test(String)
2025-08-25 03:36:12.821 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614875622270963712[0;39m <==    Columns: id, login_name, name, password
2025-08-25 03:36:12.821 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614875622270963712[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 03:36:12.821 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614875622270963712[0;39m <==      Total: 1
2025-08-25 03:36:13.129 INFO  com.matt.wiki.aspect.LogAspect                    :84   [32m614875622270963712[0;39m generated token: 614875624942735360
2025-08-25 03:36:13.129 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875622270963712[0;39m 返回结果: {"content":{"id":2,"loginName":"test","name":"test","token":"614875624942735360"},"success":true}
2025-08-25 03:36:13.130 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875622270963712[0;39m ------------- 结束 耗时：944 ms -------------
2025-08-25 03:36:15.769 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875637299154944[0;39m ------------- 开始 -------------
2025-08-25 03:36:15.769 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875637299154944[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:36:15.769 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875637299154944[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:36:15.769 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875637299154944[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:15.769 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875637299154944[0;39m 请求参数: []
2025-08-25 03:36:16.018 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875637299154944[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:36:16.019 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875637299154944[0;39m ==> Parameters: 
2025-08-25 03:36:16.302 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:36:16.302 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:36:16.302 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:36:16.302 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:36:16.303 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:36:16.303 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:36:16.303 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:36:16.303 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:36:16.303 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:36:16.303 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:36:16.303 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:36:16.303 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:36:16.303 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:36:16.304 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:36:16.304 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:36:16.304 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:36:16.304 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875637299154944[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:36:16.304 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875637299154944[0;39m <==      Total: 16
2025-08-25 03:36:16.305 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875637299154944[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:36:16.305 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875637299154944[0;39m ------------- 结束 耗时：536 ms -------------
2025-08-25 03:36:16.312 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875639576662016[0;39m ------------- 开始 -------------
2025-08-25 03:36:16.313 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875639576662016[0;39m 请求地址: http://localhost:8080/ebook/list GET
2025-08-25 03:36:16.313 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875639576662016[0;39m 类名方法: com.matt.wiki.controller.EbookController.list
2025-08-25 03:36:16.313 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875639576662016[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:16.313 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875639576662016[0;39m 请求参数: [{"name":"","page":1,"size":5}]
2025-08-25 03:36:16.611 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875639576662016[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2025-08-25 03:36:16.611 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875639576662016[0;39m ==> Parameters: 
2025-08-25 03:36:16.850 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614875639576662016[0;39m <==    Columns: count(0)
2025-08-25 03:36:16.850 TRACE c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :141  [32m614875639576662016[0;39m <==        Row: 12
2025-08-25 03:36:16.851 DEBUG c.m.wiki.mapper.EbookMapper.selectByExample_COUNT :135  [32m614875639576662016[0;39m <==      Total: 1
2025-08-25 03:36:16.851 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875639576662016[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2025-08-25 03:36:16.851 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875639576662016[0;39m ==> Parameters: 5(Integer)
2025-08-25 03:36:17.122 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875639576662016[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-08-25 03:36:17.122 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875639576662016[0;39m <==        Row: 1, Spring Boot 入门教程, 100, 101, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 13, 37, 18
2025-08-25 03:36:17.122 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875639576662016[0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳前端框架, null, 0, 0, 0
2025-08-25 03:36:17.122 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875639576662016[0;39m <==        Row: 3, MySQL 数据库教程, null, null, 系统学习 MySQL 数据库基础与进阶操作, null, 0, 0, 0
2025-08-25 03:36:17.122 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875639576662016[0;39m <==        Row: 4, Python 编程入门, null, null, 面向初学者的 Python 编程实战教程, null, 0, 0, 0
2025-08-25 03:36:17.123 TRACE com.matt.wiki.mapper.EbookMapper.selectByExample  :141  [32m614875639576662016[0;39m <==        Row: 5, JavaScript 高级编程, null, null, 深入理解 JavaScript 核心机制与高级应用, null, 0, 0, 0
2025-08-25 03:36:17.123 DEBUG com.matt.wiki.mapper.EbookMapper.selectByExample  :135  [32m614875639576662016[0;39m <==      Total: 5
2025-08-25 03:36:17.123 INFO  com.matt.wiki.service.EbookService                :49   [32m614875639576662016[0;39m 总行数: 12
2025-08-25 03:36:17.123 INFO  com.matt.wiki.service.EbookService                :50   [32m614875639576662016[0;39m 总页数:3
2025-08-25 03:36:17.123 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875639576662016[0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":13,"id":1,"name":"Spring Boot 入门教程","viewCount":37,"voteCount":18},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳前端框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"description":"系统学习 MySQL 数据库基础与进阶操作","docCount":0,"id":3,"name":"MySQL 数据库教程","viewCount":0,"voteCount":0},{"description":"面向初学者的 Python 编程实战教程","docCount":0,"id":4,"name":"Python 编程入门","viewCount":0,"voteCount":0},{"description":"深入理解 JavaScript 核心机制与高级应用","docCount":0,"id":5,"name":"JavaScript 高级编程","viewCount":0,"voteCount":0}],"total":12},"success":true}
2025-08-25 03:36:17.123 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875639576662016[0;39m ------------- 结束 耗时：811 ms -------------
2025-08-25 03:36:18.432 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614875569624059904[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 03:36:18.433 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614875569624059904[0;39m 接口登录拦截：，path：http://localhost:8080/user/list
2025-08-25 03:36:18.433 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614875569624059904[0;39m 登录校验开始，token：614875624942735360
2025-08-25 03:36:18.760 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614875569624059904[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614875624942735360"}
2025-08-25 03:36:18.761 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875649848512512[0;39m ------------- 开始 -------------
2025-08-25 03:36:18.762 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875649848512512[0;39m 请求地址: http://localhost:8080/user/list GET
2025-08-25 03:36:18.762 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875649848512512[0;39m 类名方法: com.matt.wiki.controller.UserController.list
2025-08-25 03:36:18.762 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875649848512512[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:18.762 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875649848512512[0;39m 请求参数: [{"loginName":"","page":1,"size":5}]
2025-08-25 03:36:19.067 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614875649848512512[0;39m ==>  Preparing: SELECT count(0) FROM user
2025-08-25 03:36:19.067 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614875649848512512[0;39m ==> Parameters: 
2025-08-25 03:36:19.308 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614875649848512512[0;39m <==    Columns: count(0)
2025-08-25 03:36:19.309 TRACE c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :141  [32m614875649848512512[0;39m <==        Row: 2
2025-08-25 03:36:19.309 DEBUG c.m.wiki.mapper.UserMapper.selectByExample_COUNT  :135  [32m614875649848512512[0;39m <==      Total: 1
2025-08-25 03:36:19.309 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614875649848512512[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2025-08-25 03:36:19.310 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614875649848512512[0;39m ==> Parameters: 5(Integer)
2025-08-25 03:36:19.573 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614875649848512512[0;39m <==    Columns: id, login_name, name, password
2025-08-25 03:36:19.573 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614875649848512512[0;39m <==        Row: 1, admin, 测试, fb09b64e309e1c33e7cf8cfe99b07bd5
2025-08-25 03:36:19.573 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614875649848512512[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 03:36:19.573 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614875649848512512[0;39m <==      Total: 2
2025-08-25 03:36:19.573 INFO  com.matt.wiki.service.UserService                 :51   [32m614875649848512512[0;39m 总行数: 2
2025-08-25 03:36:19.574 INFO  com.matt.wiki.service.UserService                 :52   [32m614875649848512512[0;39m 总页数:1
2025-08-25 03:36:19.574 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875649848512512[0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"admin","name":"测试"},{"id":2,"loginName":"test","name":"test"}],"total":2},"success":true}
2025-08-25 03:36:19.574 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875649848512512[0;39m ------------- 结束 耗时：813 ms -------------
2025-08-25 03:36:19.575 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614875649848512512[0;39m ------------- LoginInterceptor 结束 耗时：1142 ms -------------
2025-08-25 03:36:20.232 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875656018333696[0;39m ------------- 开始 -------------
2025-08-25 03:36:20.232 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875656018333696[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:36:20.233 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875656018333696[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:36:20.233 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875656018333696[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:20.233 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875656018333696[0;39m 请求参数: []
2025-08-25 03:36:20.473 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875656018333696[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:36:20.473 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875656018333696[0;39m ==> Parameters: 
2025-08-25 03:36:20.810 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:36:20.810 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:36:20.811 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:36:20.811 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:36:20.811 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:36:20.811 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:36:20.811 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:36:20.811 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:36:20.811 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:36:20.811 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:36:20.812 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:36:20.812 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:36:20.812 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:36:20.812 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:36:20.812 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:36:20.812 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:36:20.812 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875656018333696[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:36:20.812 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875656018333696[0;39m <==      Total: 16
2025-08-25 03:36:20.813 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875656018333696[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:36:20.813 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875656018333696[0;39m ------------- 结束 耗时：581 ms -------------
2025-08-25 03:36:25.552 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875678332030977[0;39m ------------- 开始 -------------
2025-08-25 03:36:25.552 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875678332030978[0;39m ------------- 开始 -------------
2025-08-25 03:36:25.552 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875678332030977[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:36:25.553 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875678332030978[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:36:25.552 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875678332030976[0;39m ------------- 开始 -------------
2025-08-25 03:36:25.553 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875678332030977[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:36:25.553 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875678332030978[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:36:25.553 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875678332030976[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:36:25.553 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875678332030978[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:25.553 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875678332030976[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:36:25.553 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875678332030978[0;39m 请求参数: []
2025-08-25 03:36:25.553 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875678332030976[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:25.553 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875678332030977[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:25.553 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875678332030976[0;39m 请求参数: []
2025-08-25 03:36:25.553 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875678332030977[0;39m 请求参数: []
2025-08-25 03:36:25.791 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875678332030978[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:36:25.792 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875678332030978[0;39m ==> Parameters: 
2025-08-25 03:36:25.793 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875678332030976[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:36:25.793 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875678332030976[0;39m ==> Parameters: 
2025-08-25 03:36:25.803 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875678332030977[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:36:25.803 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875678332030977[0;39m ==> Parameters: 
2025-08-25 03:36:26.132 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614875678332030976[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:36:26.132 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875678332030978[0;39m <==      Total: 0
2025-08-25 03:36:26.132 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:36:26.133 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:36:26.133 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614875678332030976[0;39m <==        Row: 2025-08-25, 37, 18, 37, 18
2025-08-25 03:36:26.133 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:36:26.133 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875678332030978[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 03:36:26.133 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:36:26.134 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875678332030978[0;39m ------------- 结束 耗时：582 ms -------------
2025-08-25 03:36:26.134 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:36:26.134 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:36:26.134 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875678332030976[0;39m <==      Total: 1
2025-08-25 03:36:26.134 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:36:26.134 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:36:26.134 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875678332030976[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":37,"viewIncrease":37,"voteCount":18,"voteIncrease":18}],"success":true}
2025-08-25 03:36:26.134 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:36:26.134 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875678332030976[0;39m ------------- 结束 耗时：582 ms -------------
2025-08-25 03:36:26.134 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:36:26.134 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:36:26.136 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:36:26.136 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:36:26.136 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:36:26.136 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:36:26.136 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:36:26.137 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875678332030977[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:36:26.138 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875678332030977[0;39m <==      Total: 16
2025-08-25 03:36:26.140 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875678332030977[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:36:26.140 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875678332030977[0;39m ------------- 结束 耗时：588 ms -------------
2025-08-25 03:36:59.020 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614875602213801984[0;39m 连接关闭，token：Zi4IYrgMA2，session id：7！当前连接数：0
2025-08-25 03:36:59.326 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614875552708431872[0;39m 有新连接：token：PMBzrtQF6G，session id：8，当前连接数：1
2025-08-25 03:36:59.361 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875820137254913[0;39m ------------- 开始 -------------
2025-08-25 03:36:59.361 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875820137254914[0;39m ------------- 开始 -------------
2025-08-25 03:36:59.361 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875820137254912[0;39m ------------- 开始 -------------
2025-08-25 03:36:59.361 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875820137254913[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:36:59.361 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875820137254912[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:36:59.361 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875820137254913[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:36:59.361 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875820137254912[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:36:59.362 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875820137254913[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:59.362 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875820137254912[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:59.362 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875820137254913[0;39m 请求参数: []
2025-08-25 03:36:59.362 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875820137254912[0;39m 请求参数: []
2025-08-25 03:36:59.362 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875820137254914[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:36:59.362 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875820137254914[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:36:59.362 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875820137254914[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:36:59.362 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875820137254914[0;39m 请求参数: []
2025-08-25 03:36:59.619 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875820137254913[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:36:59.619 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875820137254914[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:36:59.619 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875820137254912[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:36:59.619 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875820137254913[0;39m ==> Parameters: 
2025-08-25 03:36:59.619 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875820137254914[0;39m ==> Parameters: 
2025-08-25 03:36:59.620 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875820137254912[0;39m ==> Parameters: 
2025-08-25 03:36:59.859 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875820137254914[0;39m <==      Total: 0
2025-08-25 03:36:59.860 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875820137254914[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 03:36:59.860 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875820137254914[0;39m ------------- 结束 耗时：499 ms -------------
2025-08-25 03:36:59.860 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614875820137254912[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:36:59.860 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614875820137254912[0;39m <==        Row: 2025-08-25, 37, 18, 37, 18
2025-08-25 03:36:59.861 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875820137254912[0;39m <==      Total: 1
2025-08-25 03:36:59.861 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875820137254912[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":37,"viewIncrease":37,"voteCount":18,"voteIncrease":18}],"success":true}
2025-08-25 03:36:59.861 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875820137254912[0;39m ------------- 结束 耗时：500 ms -------------
2025-08-25 03:36:59.870 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:36:59.870 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:36:59.870 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:36:59.870 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:36:59.870 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:36:59.871 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:36:59.871 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:36:59.871 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:36:59.871 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:36:59.871 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:36:59.871 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:36:59.871 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:36:59.871 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:36:59.871 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:36:59.872 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:36:59.872 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:36:59.872 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875820137254913[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:36:59.872 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875820137254913[0;39m <==      Total: 16
2025-08-25 03:36:59.872 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875820137254913[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:36:59.873 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875820137254913[0;39m ------------- 结束 耗时：512 ms -------------
2025-08-25 03:37:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614875822834192384[0;39m 更新电子书下的文档数据开始
2025-08-25 03:37:00.005 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614875822834192384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:37:00.005 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614875822834192384[0;39m ==> Parameters: 
2025-08-25 03:37:00.538 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614875822834192384[0;39m <==    Updates: 1
2025-08-25 03:37:00.539 INFO  com.matt.wiki.job.DocJob                          :33   [32m614875822834192384[0;39m 更新电子书下的文档数据结束，耗时：535毫秒
2025-08-25 03:37:00.539 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614875825078145024[0;39m 生成今日电子书快照开始
2025-08-25 03:37:00.539 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614875825078145024[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:37:00.539 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614875825078145024[0;39m ==> Parameters: 
2025-08-25 03:37:01.024 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614875825078145024[0;39m <==    Updates: 0
2025-08-25 03:37:01.025 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614875825078145024[0;39m 生成今日电子书快照结束，耗时：486毫秒
2025-08-25 03:37:31.701 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614875649848512512[0;39m 连接关闭，token：PMBzrtQF6G，session id：8！当前连接数：0
2025-08-25 03:37:32.343 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614875656018333696[0;39m 有新连接：token：U97MO6STih，session id：9，当前连接数：1
2025-08-25 03:37:32.387 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875958658338818[0;39m ------------- 开始 -------------
2025-08-25 03:37:32.387 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875958658338816[0;39m ------------- 开始 -------------
2025-08-25 03:37:32.387 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875958658338818[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:37:32.387 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875958658338817[0;39m ------------- 开始 -------------
2025-08-25 03:37:32.388 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875958658338818[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:37:32.388 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875958658338818[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:37:32.388 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875958658338817[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:37:32.388 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875958658338817[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:37:32.388 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875958658338817[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:37:32.388 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875958658338818[0;39m 请求参数: []
2025-08-25 03:37:32.387 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875958658338816[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:37:32.388 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875958658338817[0;39m 请求参数: []
2025-08-25 03:37:32.388 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875958658338816[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:37:32.388 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875958658338816[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:37:32.388 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875958658338816[0;39m 请求参数: []
2025-08-25 03:37:32.693 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875958658338816[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:37:32.693 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875958658338817[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:37:32.693 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875958658338818[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:37:32.694 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875958658338817[0;39m ==> Parameters: 
2025-08-25 03:37:32.694 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875958658338816[0;39m ==> Parameters: 
2025-08-25 03:37:32.694 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875958658338818[0;39m ==> Parameters: 
2025-08-25 03:37:33.000 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614875958658338818[0;39m <==      Total: 0
2025-08-25 03:37:33.000 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614875958658338816[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:37:33.000 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:37:33.001 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614875958658338816[0;39m <==        Row: 2025-08-25, 39, 19, 39, 19
2025-08-25 03:37:33.001 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:37:33.001 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875958658338818[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 03:37:33.001 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875958658338818[0;39m ------------- 结束 耗时：614 ms -------------
2025-08-25 03:37:33.001 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:37:33.001 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614875958658338816[0;39m <==      Total: 1
2025-08-25 03:37:33.001 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:37:33.001 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:37:33.001 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875958658338816[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":39,"viewIncrease":39,"voteCount":19,"voteIncrease":19}],"success":true}
2025-08-25 03:37:33.002 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875958658338816[0;39m ------------- 结束 耗时：615 ms -------------
2025-08-25 03:37:33.002 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:37:33.002 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:37:33.002 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:37:33.002 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:37:33.002 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:37:33.002 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:37:33.003 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:37:33.004 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:37:33.005 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:37:33.005 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:37:33.005 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:37:33.005 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614875958658338817[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:37:33.005 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614875958658338817[0;39m <==      Total: 16
2025-08-25 03:37:33.006 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875958658338817[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:37:33.006 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875958658338817[0;39m ------------- 结束 耗时：619 ms -------------
2025-08-25 03:37:40.794 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614875602213801984[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 03:37:40.795 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614875602213801984[0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2025-08-25 03:37:40.799 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614875552708431872[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 03:37:40.800 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614875552708431872[0;39m 接口登录拦截：，path：http://localhost:8080/user/logout/614875624942735360
2025-08-25 03:37:40.800 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614875552708431872[0;39m 登录校验开始，token：614875624942735360
2025-08-25 03:37:41.090 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614875552708431872[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614875624942735360"}
2025-08-25 03:37:41.091 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614875995165560832[0;39m ------------- 开始 -------------
2025-08-25 03:37:41.091 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614875995165560832[0;39m 请求地址: http://localhost:8080/user/logout/614875624942735360 GET
2025-08-25 03:37:41.091 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614875995165560832[0;39m 类名方法: com.matt.wiki.controller.UserController.logout
2025-08-25 03:37:41.091 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614875995165560832[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:37:41.091 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614875995165560832[0;39m 请求参数: ["614875624942735360"]
2025-08-25 03:37:41.344 INFO  com.matt.wiki.aspect.LogAspect                    :94   [32m614875995165560832[0;39m delete token: 614875624942735360
2025-08-25 03:37:41.344 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614875995165560832[0;39m 返回结果: {"success":true}
2025-08-25 03:37:41.344 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614875995165560832[0;39m ------------- 结束 耗时：253 ms -------------
2025-08-25 03:37:41.345 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614875995165560832[0;39m ------------- LoginInterceptor 结束 耗时：545 ms -------------
2025-08-25 03:38:00.002 INFO  com.matt.wiki.job.DocJob                          :30   [32m614876074484043776[0;39m 更新电子书下的文档数据开始
2025-08-25 03:38:00.243 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614876074484043776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:38:00.243 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614876074484043776[0;39m ==> Parameters: 
2025-08-25 03:38:00.793 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614876074484043776[0;39m <==    Updates: 1
2025-08-25 03:38:00.794 INFO  com.matt.wiki.job.DocJob                          :33   [32m614876074484043776[0;39m 更新电子书下的文档数据结束，耗时：792毫秒
2025-08-25 03:38:00.795 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614876077810126848[0;39m 生成今日电子书快照开始
2025-08-25 03:38:00.795 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614876077810126848[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:38:00.796 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614876077810126848[0;39m ==> Parameters: 
2025-08-25 03:38:01.365 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614876077810126848[0;39m <==    Updates: 0
2025-08-25 03:38:01.366 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614876077810126848[0;39m 生成今日电子书快照结束，耗时：571毫秒
2025-08-25 03:39:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614876326138089472[0;39m 更新电子书下的文档数据开始
2025-08-25 03:39:00.246 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614876326138089472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:39:00.246 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614876326138089472[0;39m ==> Parameters: 
2025-08-25 03:39:00.793 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614876326138089472[0;39m <==    Updates: 1
2025-08-25 03:39:00.794 INFO  com.matt.wiki.job.DocJob                          :33   [32m614876326138089472[0;39m 更新电子书下的文档数据结束，耗时：790毫秒
2025-08-25 03:39:00.794 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614876329464172544[0;39m 生成今日电子书快照开始
2025-08-25 03:39:00.794 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614876329464172544[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:39:00.795 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614876329464172544[0;39m ==> Parameters: 
2025-08-25 03:39:01.305 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614876329464172544[0;39m <==    Updates: 0
2025-08-25 03:39:01.306 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614876329464172544[0;39m 生成今日电子书快照结束，耗时：512毫秒
2025-08-25 03:40:00.002 INFO  com.matt.wiki.job.DocJob                          :30   [32m614876577800523776[0;39m 更新电子书下的文档数据开始
2025-08-25 03:40:00.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614876577800523776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:40:00.257 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614876577800523776[0;39m ==> Parameters: 
2025-08-25 03:40:00.758 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614876577800523776[0;39m <==    Updates: 1
2025-08-25 03:40:00.759 INFO  com.matt.wiki.job.DocJob                          :33   [32m614876577800523776[0;39m 更新电子书下的文档数据结束，耗时：757毫秒
2025-08-25 03:40:00.759 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614876580975611904[0;39m 生成今日电子书快照开始
2025-08-25 03:40:00.759 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614876580975611904[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:40:00.760 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614876580975611904[0;39m ==> Parameters: 
2025-08-25 03:40:01.322 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614876580975611904[0;39m <==    Updates: 0
2025-08-25 03:40:01.322 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614876580975611904[0;39m 生成今日电子书快照结束，耗时：563毫秒
2025-08-25 03:41:00.004 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614876829467152384[0;39m 生成今日电子书快照开始
2025-08-25 03:41:00.259 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614876829467152384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:41:00.260 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614876829467152384[0;39m ==> Parameters: 
2025-08-25 03:41:00.761 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614876829467152384[0;39m <==    Updates: 0
2025-08-25 03:41:00.761 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614876829467152384[0;39m 生成今日电子书快照结束，耗时：756毫秒
2025-08-25 03:41:00.761 INFO  com.matt.wiki.job.DocJob                          :30   [32m614876832642240512[0;39m 更新电子书下的文档数据开始
2025-08-25 03:41:00.761 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614876832642240512[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:41:00.761 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614876832642240512[0;39m ==> Parameters: 
2025-08-25 03:41:01.384 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614876832642240512[0;39m <==    Updates: 1
2025-08-25 03:41:01.384 INFO  com.matt.wiki.job.DocJob                          :33   [32m614876832642240512[0;39m 更新电子书下的文档数据结束，耗时：623毫秒
2025-08-25 03:42:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614877081108615168[0;39m 生成今日电子书快照开始
2025-08-25 03:42:00.246 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614877081108615168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:42:00.246 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614877081108615168[0;39m ==> Parameters: 
2025-08-25 03:42:00.819 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614877081108615168[0;39m <==    Updates: 0
2025-08-25 03:42:00.819 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614877081108615168[0;39m 生成今日电子书快照结束，耗时：818毫秒
2025-08-25 03:42:00.819 INFO  com.matt.wiki.job.DocJob                          :30   [32m614877084543750144[0;39m 更新电子书下的文档数据开始
2025-08-25 03:42:00.819 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614877084543750144[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:42:00.819 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614877084543750144[0;39m ==> Parameters: 
2025-08-25 03:42:01.390 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614877084543750144[0;39m <==    Updates: 1
2025-08-25 03:42:01.391 INFO  com.matt.wiki.job.DocJob                          :33   [32m614877084543750144[0;39m 更新电子书下的文档数据结束，耗时：572毫秒
2025-08-25 03:43:00.002 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614877332775243776[0;39m 生成今日电子书快照开始
2025-08-25 03:43:00.251 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614877332775243776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:43:00.252 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614877332775243776[0;39m ==> Parameters: 
2025-08-25 03:43:00.823 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614877332775243776[0;39m <==    Updates: 0
2025-08-25 03:43:00.823 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614877332775243776[0;39m 生成今日电子书快照结束，耗时：821毫秒
2025-08-25 03:43:00.823 INFO  com.matt.wiki.job.DocJob                          :30   [32m614877336218767360[0;39m 更新电子书下的文档数据开始
2025-08-25 03:43:00.824 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614877336218767360[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:43:00.824 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614877336218767360[0;39m ==> Parameters: 
2025-08-25 03:43:01.396 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614877336218767360[0;39m <==    Updates: 1
2025-08-25 03:43:01.397 INFO  com.matt.wiki.job.DocJob                          :33   [32m614877336218767360[0;39m 更新电子书下的文档数据结束，耗时：573毫秒
2025-08-25 03:43:20.350 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614875649848512512[0;39m 连接关闭，token：U97MO6STih，session id：9！当前连接数：0
2025-08-25 03:43:21.248 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614875656018333696[0;39m 有新连接：token：9mfKyGNMQ6，session id：a，当前连接数：1
2025-08-25 03:43:21.293 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614877422076170241[0;39m ------------- 开始 -------------
2025-08-25 03:43:21.293 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614877422076170241[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:43:21.293 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614877422076170241[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:43:21.293 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614877422076170241[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:43:21.293 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614877422076170241[0;39m 请求参数: []
2025-08-25 03:43:21.293 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614877422076170242[0;39m ------------- 开始 -------------
2025-08-25 03:43:21.293 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614877422076170242[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:43:21.293 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614877422076170242[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:43:21.294 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614877422076170242[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:43:21.294 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614877422076170242[0;39m 请求参数: []
2025-08-25 03:43:21.293 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614877422076170240[0;39m ------------- 开始 -------------
2025-08-25 03:43:21.294 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614877422076170240[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:43:21.294 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614877422076170240[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:43:21.294 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614877422076170240[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:43:21.294 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614877422076170240[0;39m 请求参数: []
2025-08-25 03:43:21.572 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614877422076170240[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:43:21.572 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614877422076170241[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:43:21.573 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614877422076170242[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:43:21.573 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614877422076170240[0;39m ==> Parameters: 
2025-08-25 03:43:21.573 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614877422076170241[0;39m ==> Parameters: 
2025-08-25 03:43:21.573 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614877422076170242[0;39m ==> Parameters: 
2025-08-25 03:43:21.876 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614877422076170241[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:43:21.877 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614877422076170242[0;39m <==      Total: 0
2025-08-25 03:43:21.876 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:43:21.877 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614877422076170241[0;39m <==        Row: 2025-08-25, 39, 19, 39, 19
2025-08-25 03:43:21.877 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614877422076170242[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 03:43:21.877 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:43:21.877 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614877422076170242[0;39m ------------- 结束 耗时：584 ms -------------
2025-08-25 03:43:21.877 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:43:21.877 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614877422076170241[0;39m <==      Total: 1
2025-08-25 03:43:21.877 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:43:21.878 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614877422076170241[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":39,"viewIncrease":39,"voteCount":19,"voteIncrease":19}],"success":true}
2025-08-25 03:43:21.878 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:43:21.878 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614877422076170241[0;39m ------------- 结束 耗时：585 ms -------------
2025-08-25 03:43:21.878 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:43:21.878 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:43:21.878 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:43:21.878 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:43:21.878 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:43:21.881 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:43:21.882 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:43:21.882 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:43:21.882 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:43:21.882 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:43:21.882 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:43:21.882 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614877422076170240[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:43:21.882 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614877422076170240[0;39m <==      Total: 16
2025-08-25 03:43:21.883 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614877422076170240[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:43:21.883 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614877422076170240[0;39m ------------- 结束 耗时：590 ms -------------
2025-08-25 03:44:00.004 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614877584441872384[0;39m 生成今日电子书快照开始
2025-08-25 03:44:00.252 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614877584441872384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:44:00.252 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614877584441872384[0;39m ==> Parameters: 
2025-08-25 03:44:00.831 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614877584441872384[0;39m <==    Updates: 0
2025-08-25 03:44:00.831 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614877584441872384[0;39m 生成今日电子书快照结束，耗时：827毫秒
2025-08-25 03:44:00.832 INFO  com.matt.wiki.job.DocJob                          :30   [32m614877587914756096[0;39m 更新电子书下的文档数据开始
2025-08-25 03:44:00.832 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614877587914756096[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:44:00.832 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614877587914756096[0;39m ==> Parameters: 
2025-08-25 03:44:01.403 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614877587914756096[0;39m <==    Updates: 1
2025-08-25 03:44:01.403 INFO  com.matt.wiki.job.DocJob                          :33   [32m614877587914756096[0;39m 更新电子书下的文档数据结束，耗时：571毫秒
2025-08-25 03:45:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614877836083335168[0;39m 生成今日电子书快照开始
2025-08-25 03:45:00.250 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614877836083335168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:45:00.251 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614877836083335168[0;39m ==> Parameters: 
2025-08-25 03:45:00.840 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614877836083335168[0;39m <==    Updates: 0
2025-08-25 03:45:00.840 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614877836083335168[0;39m 生成今日电子书快照结束，耗时：839毫秒
2025-08-25 03:45:00.841 INFO  com.matt.wiki.job.DocJob                          :30   [32m614877839610744832[0;39m 更新电子书下的文档数据开始
2025-08-25 03:45:00.841 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614877839610744832[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:45:00.841 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614877839610744832[0;39m ==> Parameters: 
2025-08-25 03:45:01.409 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614877839610744832[0;39m <==    Updates: 1
2025-08-25 03:45:01.410 INFO  com.matt.wiki.job.DocJob                          :33   [32m614877839610744832[0;39m 更新电子书下的文档数据结束，耗时：569毫秒
2025-08-25 03:46:00.004 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614878087758352384[0;39m 生成今日电子书快照开始
2025-08-25 03:46:00.257 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614878087758352384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:46:00.257 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614878087758352384[0;39m ==> Parameters: 
2025-08-25 03:46:00.846 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614878087758352384[0;39m <==    Updates: 0
2025-08-25 03:46:00.846 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614878087758352384[0;39m 生成今日电子书快照结束，耗时：841毫秒
2025-08-25 03:46:00.846 INFO  com.matt.wiki.job.DocJob                          :30   [32m614878091289956352[0;39m 更新电子书下的文档数据开始
2025-08-25 03:46:00.847 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614878091289956352[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:46:00.847 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614878091289956352[0;39m ==> Parameters: 
2025-08-25 03:46:01.415 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614878091289956352[0;39m <==    Updates: 1
2025-08-25 03:46:01.416 INFO  com.matt.wiki.job.DocJob                          :33   [32m614878091289956352[0;39m 更新电子书下的文档数据结束，耗时：569毫秒
2025-08-25 03:47:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614878339416592384[0;39m 更新电子书下的文档数据开始
2025-08-25 03:47:00.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614878339416592384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:47:00.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614878339416592384[0;39m ==> Parameters: 
2025-08-25 03:47:01.115 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614878339416592384[0;39m <==    Updates: 1
2025-08-25 03:47:01.115 INFO  com.matt.wiki.job.DocJob                          :33   [32m614878339416592384[0;39m 更新电子书下的文档数据结束，耗时：1109毫秒
2025-08-25 03:47:01.115 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614878344076464128[0;39m 生成今日电子书快照开始
2025-08-25 03:47:01.116 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614878344076464128[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:47:01.116 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614878344076464128[0;39m ==> Parameters: 
2025-08-25 03:47:01.675 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614878344076464128[0;39m <==    Updates: 0
2025-08-25 03:47:01.675 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614878344076464128[0;39m 生成今日电子书快照结束，耗时：560毫秒
2025-08-25 03:47:09.731 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614875820137254914[0;39m 连接关闭，token：9mfKyGNMQ6，session id：a！当前连接数：0
2025-08-25 03:47:10.766 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614875820137254913[0;39m 有新连接：token：WdaM2QZTn5，session id：b，当前连接数：1
2025-08-25 03:47:10.810 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878384740241410[0;39m ------------- 开始 -------------
2025-08-25 03:47:10.810 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878384740241409[0;39m ------------- 开始 -------------
2025-08-25 03:47:10.810 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878384740241408[0;39m ------------- 开始 -------------
2025-08-25 03:47:10.810 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878384740241410[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:47:10.811 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878384740241408[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:47:10.811 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878384740241409[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:47:10.811 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878384740241410[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:47:10.811 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878384740241409[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:47:10.811 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878384740241410[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:47:10.811 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878384740241409[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:47:10.811 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878384740241408[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:47:10.811 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878384740241410[0;39m 请求参数: []
2025-08-25 03:47:10.811 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878384740241409[0;39m 请求参数: []
2025-08-25 03:47:10.811 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878384740241408[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:47:10.812 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878384740241408[0;39m 请求参数: []
2025-08-25 03:47:11.150 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878384740241410[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:47:11.150 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878384740241408[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:47:11.150 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878384740241409[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:47:11.150 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878384740241410[0;39m ==> Parameters: 
2025-08-25 03:47:11.150 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878384740241408[0;39m ==> Parameters: 
2025-08-25 03:47:11.150 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878384740241409[0;39m ==> Parameters: 
2025-08-25 03:47:11.391 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:47:11.391 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:47:11.392 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:47:11.392 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:47:11.392 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:47:11.392 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:47:11.392 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:47:11.392 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:47:11.392 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:47:11.392 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:47:11.392 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:47:11.392 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:47:11.393 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:47:11.393 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:47:11.393 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:47:11.393 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:47:11.393 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878384740241410[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:47:11.393 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878384740241410[0;39m <==      Total: 16
2025-08-25 03:47:11.393 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878384740241410[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:47:11.393 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878384740241410[0;39m ------------- 结束 耗时：583 ms -------------
2025-08-25 03:47:11.400 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878384740241408[0;39m <==      Total: 0
2025-08-25 03:47:11.401 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878384740241409[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:47:11.401 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878384740241408[0;39m 返回结果: {"content":[],"success":true}
2025-08-25 03:47:11.401 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878384740241408[0;39m ------------- 结束 耗时：591 ms -------------
2025-08-25 03:47:11.401 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878384740241409[0;39m <==        Row: 2025-08-25, 61, 52, 61, 52
2025-08-25 03:47:11.402 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878384740241409[0;39m <==      Total: 1
2025-08-25 03:47:11.402 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878384740241409[0;39m 返回结果: {"content":[{"date":1756044000000,"viewCount":61,"viewIncrease":61,"voteCount":52,"voteIncrease":52}],"success":true}
2025-08-25 03:47:11.402 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878384740241409[0;39m ------------- 结束 耗时：592 ms -------------
2025-08-25 03:48:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614878591074832384[0;39m 更新电子书下的文档数据开始
2025-08-25 03:48:00.254 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614878591074832384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:48:00.254 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614878591074832384[0;39m ==> Parameters: 
2025-08-25 03:48:00.753 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614878591074832384[0;39m <==    Updates: 1
2025-08-25 03:48:00.754 INFO  com.matt.wiki.job.DocJob                          :33   [32m614878591074832384[0;39m 更新电子书下的文档数据结束，耗时：749毫秒
2025-08-25 03:48:00.754 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614878594220560384[0;39m 生成今日电子书快照开始
2025-08-25 03:48:00.754 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614878594220560384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:48:00.754 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614878594220560384[0;39m ==> Parameters: 
2025-08-25 03:48:01.418 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m614878594220560384[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DeadlockLoserDataAccessException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
### The error may exist in file [/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes/mapper/EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
; Deadlock found when trying to get lock; try restarting transaction
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:278)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy88.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:288)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy5/jdk.proxy5.$Proxy154.genSnapshot(Unknown Source)
	at com.matt.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.matt.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:115)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:990)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:384)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy4/jdk.proxy4.$Proxy120.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy118.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 23 common frames omitted
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878789721264128[0;39m ------------- 开始 -------------
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878789721264130[0;39m ------------- 开始 -------------
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878789721264129[0;39m ------------- 开始 -------------
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878789721264128[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878789721264130[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878789721264128[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878789721264129[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878789721264128[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878789721264130[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878789721264129[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878789721264128[0;39m 请求参数: []
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878789721264130[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878789721264129[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878789721264130[0;39m 请求参数: []
2025-08-25 03:48:47.365 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878789721264129[0;39m 请求参数: []
2025-08-25 03:48:47.605 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878789721264129[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:48:47.606 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878789721264129[0;39m ==> Parameters: 
2025-08-25 03:48:47.614 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878789721264130[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:48:47.614 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878789721264128[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:48:47.615 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878789721264130[0;39m ==> Parameters: 
2025-08-25 03:48:47.615 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878789721264128[0;39m ==> Parameters: 
2025-08-25 03:48:47.847 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878789721264129[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:48:47.847 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878789721264129[0;39m <==        Row: 2025-08-24, 61, 52, 61, 52
2025-08-25 03:48:47.847 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878789721264129[0;39m <==      Total: 1
2025-08-25 03:48:47.847 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878789721264129[0;39m 返回结果: {"content":[{"date":1755957600000,"viewCount":61,"viewIncrease":61,"voteCount":52,"voteIncrease":52}],"success":true}
2025-08-25 03:48:47.847 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878789721264129[0;39m ------------- 结束 耗时：482 ms -------------
2025-08-25 03:48:47.864 TRACE c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :141  [32m614878789721264128[0;39m <==    Columns: date, viewIncrease, voteIncrease
2025-08-25 03:48:47.864 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:48:47.864 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:48:47.864 TRACE c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :141  [32m614878789721264128[0;39m <==        Row: 2025-08-24, 61, 52
2025-08-25 03:48:47.864 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:48:47.864 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878789721264128[0;39m <==      Total: 1
2025-08-25 03:48:47.864 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:48:47.864 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:48:47.864 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878789721264128[0;39m 返回结果: {"content":[{"date":1755957600000,"viewCount":0,"viewIncrease":61,"voteCount":0,"voteIncrease":52}],"success":true}
2025-08-25 03:48:47.864 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:48:47.864 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878789721264128[0;39m ------------- 结束 耗时：499 ms -------------
2025-08-25 03:48:47.864 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:48:47.864 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:48:47.864 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:48:47.865 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:48:47.865 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:48:47.865 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:48:47.865 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:48:47.865 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:48:47.865 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:48:47.865 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:48:47.865 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878789721264130[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:48:47.865 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878789721264130[0;39m <==      Total: 16
2025-08-25 03:48:47.866 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878789721264130[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:48:47.866 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878789721264130[0;39m ------------- 结束 耗时：501 ms -------------
2025-08-25 03:48:57.640 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614875820137254913[0;39m 连接关闭，token：WdaM2QZTn5，session id：b！当前连接数：0
2025-08-25 03:48:58.005 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614878384740241410[0;39m 有新连接：token：SZXpyDLFGh，session id：c，当前连接数：1
2025-08-25 03:48:58.041 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878834499653632[0;39m ------------- 开始 -------------
2025-08-25 03:48:58.041 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878834499653634[0;39m ------------- 开始 -------------
2025-08-25 03:48:58.041 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878834499653633[0;39m ------------- 开始 -------------
2025-08-25 03:48:58.041 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878834499653634[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:48:58.041 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878834499653632[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:48:58.041 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878834499653632[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:48:58.041 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878834499653633[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:48:58.041 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878834499653632[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:48:58.041 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878834499653634[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:48:58.041 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878834499653632[0;39m 请求参数: []
2025-08-25 03:48:58.041 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878834499653633[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:48:58.041 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878834499653634[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:48:58.041 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878834499653634[0;39m 请求参数: []
2025-08-25 03:48:58.041 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878834499653633[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:48:58.042 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878834499653633[0;39m 请求参数: []
2025-08-25 03:48:58.281 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878834499653632[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:48:58.282 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878834499653632[0;39m ==> Parameters: 
2025-08-25 03:48:58.290 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878834499653634[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:48:58.291 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878834499653634[0;39m ==> Parameters: 
2025-08-25 03:48:58.291 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878834499653633[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:48:58.291 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878834499653633[0;39m ==> Parameters: 
2025-08-25 03:48:58.522 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:48:58.522 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:48:58.522 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:48:58.522 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:48:58.522 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:48:58.523 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:48:58.523 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:48:58.523 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:48:58.523 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:48:58.523 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:48:58.523 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:48:58.523 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:48:58.523 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:48:58.523 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:48:58.523 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:48:58.524 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:48:58.524 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878834499653632[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:48:58.524 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878834499653632[0;39m <==      Total: 16
2025-08-25 03:48:58.524 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878834499653632[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:48:58.524 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878834499653632[0;39m ------------- 结束 耗时：483 ms -------------
2025-08-25 03:48:58.540 TRACE c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :141  [32m614878834499653633[0;39m <==    Columns: date, viewIncrease, voteIncrease
2025-08-25 03:48:58.540 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878834499653634[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:48:58.541 TRACE c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :141  [32m614878834499653633[0;39m <==        Row: 2025-08-24, 61, 52
2025-08-25 03:48:58.541 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878834499653634[0;39m <==        Row: 2025-08-24, 61, 52, 61, 52
2025-08-25 03:48:58.541 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878834499653633[0;39m <==      Total: 1
2025-08-25 03:48:58.541 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878834499653634[0;39m <==      Total: 1
2025-08-25 03:48:58.541 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878834499653633[0;39m 返回结果: {"content":[{"date":1755957600000,"viewCount":0,"viewIncrease":61,"voteCount":0,"voteIncrease":52}],"success":true}
2025-08-25 03:48:58.541 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878834499653634[0;39m 返回结果: {"content":[{"date":1755957600000,"viewCount":61,"viewIncrease":61,"voteCount":52,"voteIncrease":52}],"success":true}
2025-08-25 03:48:58.541 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878834499653633[0;39m ------------- 结束 耗时：500 ms -------------
2025-08-25 03:48:58.541 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878834499653634[0;39m ------------- 结束 耗时：500 ms -------------
2025-08-25 03:49:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614878842720489472[0;39m 更新电子书下的文档数据开始
2025-08-25 03:49:00.253 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614878842720489472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:49:00.254 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614878842720489472[0;39m ==> Parameters: 
2025-08-25 03:49:00.766 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614878842720489472[0;39m <==    Updates: 1
2025-08-25 03:49:00.766 INFO  com.matt.wiki.job.DocJob                          :33   [32m614878842720489472[0;39m 更新电子书下的文档数据结束，耗时：764毫秒
2025-08-25 03:49:00.766 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614878845929132032[0;39m 生成今日电子书快照开始
2025-08-25 03:49:00.767 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614878845929132032[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:49:00.767 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614878845929132032[0;39m ==> Parameters: 
2025-08-25 03:49:01.275 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614878845929132032[0;39m <==    Updates: 0
2025-08-25 03:49:01.275 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614878845929132032[0;39m 生成今日电子书快照结束，耗时：509毫秒
2025-08-25 03:49:18.397 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614877422076170241[0;39m 连接关闭，token：SZXpyDLFGh，session id：c！当前连接数：0
2025-08-25 03:49:19.008 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614875602213801984[0;39m 有新连接：token：ZclJGXmNDf，session id：d，当前连接数：1
2025-08-25 03:49:19.057 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878922647146498[0;39m ------------- 开始 -------------
2025-08-25 03:49:19.057 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878922647146496[0;39m ------------- 开始 -------------
2025-08-25 03:49:19.058 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878922647146496[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:49:19.058 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878922647146498[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:49:19.057 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878922647146497[0;39m ------------- 开始 -------------
2025-08-25 03:49:19.058 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878922647146498[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:49:19.058 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878922647146496[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:49:19.058 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878922647146498[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:49:19.058 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878922647146497[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:49:19.058 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878922647146496[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:49:19.058 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878922647146497[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:49:19.058 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878922647146496[0;39m 请求参数: []
2025-08-25 03:49:19.058 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878922647146498[0;39m 请求参数: []
2025-08-25 03:49:19.058 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878922647146497[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:49:19.058 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878922647146497[0;39m 请求参数: []
2025-08-25 03:49:19.355 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878922647146496[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:49:19.355 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878922647146497[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:49:19.355 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878922647146498[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:49:19.356 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878922647146496[0;39m ==> Parameters: 
2025-08-25 03:49:19.356 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878922647146497[0;39m ==> Parameters: 
2025-08-25 03:49:19.356 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878922647146498[0;39m ==> Parameters: 
2025-08-25 03:49:19.662 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:49:19.662 TRACE c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :141  [32m614878922647146496[0;39m <==    Columns: date, viewIncrease, voteIncrease
2025-08-25 03:49:19.662 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878922647146498[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:49:19.662 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:49:19.662 TRACE c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :141  [32m614878922647146496[0;39m <==        Row: 2025-08-24, 61, 52
2025-08-25 03:49:19.662 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878922647146498[0;39m <==        Row: 2025-08-24, 61, 52, 61, 52
2025-08-25 03:49:19.662 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:49:19.662 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:49:19.662 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878922647146496[0;39m <==      Total: 1
2025-08-25 03:49:19.662 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:49:19.662 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878922647146498[0;39m <==        Row: 2025-08-25, 94, 85, 33, 33
2025-08-25 03:49:19.663 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:49:19.663 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878922647146498[0;39m <==      Total: 2
2025-08-25 03:49:19.663 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:49:19.663 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878922647146496[0;39m 返回结果: {"content":[{"date":1755957600000,"viewCount":0,"viewIncrease":61,"voteCount":0,"voteIncrease":52}],"success":true}
2025-08-25 03:49:19.663 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878922647146496[0;39m ------------- 结束 耗时：606 ms -------------
2025-08-25 03:49:19.663 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:49:19.663 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878922647146498[0;39m 返回结果: {"content":[{"date":1755957600000,"viewCount":61,"viewIncrease":61,"voteCount":52,"voteIncrease":52},{"date":1756044000000,"viewCount":94,"viewIncrease":33,"voteCount":85,"voteIncrease":33}],"success":true}
2025-08-25 03:49:19.663 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:49:19.663 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878922647146498[0;39m ------------- 结束 耗时：606 ms -------------
2025-08-25 03:49:19.663 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:49:19.663 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:49:19.663 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:49:19.663 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:49:19.663 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:49:19.663 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:49:19.664 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:49:19.664 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878922647146497[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:49:19.664 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878922647146497[0;39m <==      Total: 16
2025-08-25 03:49:19.665 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878922647146497[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:49:19.666 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878922647146497[0;39m ------------- 结束 耗时：609 ms -------------
2025-08-25 03:49:24.244 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614875820137254913[0;39m 连接关闭，token：ZclJGXmNDf，session id：d！当前连接数：0
2025-08-25 03:49:24.826 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614878384740241410[0;39m 有新连接：token：R8Pe1DkYMp，session id：e，当前连接数：1
2025-08-25 03:49:24.864 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878947003469824[0;39m ------------- 开始 -------------
2025-08-25 03:49:24.864 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878947003469825[0;39m ------------- 开始 -------------
2025-08-25 03:49:24.865 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878947007664128[0;39m ------------- 开始 -------------
2025-08-25 03:49:24.865 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878947003469824[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:49:24.865 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878947003469824[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:49:24.865 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878947003469825[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:49:24.865 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878947003469824[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:49:24.865 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878947007664128[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:49:24.865 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878947007664128[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:49:24.865 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878947003469825[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:49:24.866 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878947003469825[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:49:24.865 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878947003469824[0;39m 请求参数: []
2025-08-25 03:49:24.882 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878947007664128[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:49:24.882 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878947003469825[0;39m 请求参数: []
2025-08-25 03:49:24.882 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878947007664128[0;39m 请求参数: []
2025-08-25 03:49:25.191 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878947003469824[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:49:25.191 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878947007664128[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:49:25.191 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878947003469825[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:49:25.192 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878947003469824[0;39m ==> Parameters: 
2025-08-25 03:49:25.193 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878947007664128[0;39m ==> Parameters: 
2025-08-25 03:49:25.193 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878947003469825[0;39m ==> Parameters: 
2025-08-25 03:49:25.499 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:49:25.499 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878947007664128[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:49:25.499 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:49:25.499 TRACE c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :141  [32m614878947003469825[0;39m <==    Columns: date, viewIncrease, voteIncrease
2025-08-25 03:49:25.500 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878947007664128[0;39m <==        Row: 2025-08-24, 61, 52, 61, 52
2025-08-25 03:49:25.500 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:49:25.500 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:49:25.500 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878947007664128[0;39m <==        Row: 2025-08-25, 94, 85, 33, 33
2025-08-25 03:49:25.500 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:49:25.500 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878947007664128[0;39m <==      Total: 2
2025-08-25 03:49:25.500 TRACE c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :141  [32m614878947003469825[0;39m <==        Row: 2025-08-24, 61, 52
2025-08-25 03:49:25.501 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878947007664128[0;39m 返回结果: {"content":[{"date":1755957600000,"viewCount":61,"viewIncrease":61,"voteCount":52,"voteIncrease":52},{"date":1756044000000,"viewCount":94,"viewIncrease":33,"voteCount":85,"voteIncrease":33}],"success":true}
2025-08-25 03:49:25.500 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:49:25.501 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878947003469825[0;39m <==      Total: 1
2025-08-25 03:49:25.501 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878947007664128[0;39m ------------- 结束 耗时：636 ms -------------
2025-08-25 03:49:25.501 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878947003469825[0;39m 返回结果: {"content":[{"date":1755957600000,"viewCount":0,"viewIncrease":61,"voteCount":0,"voteIncrease":52}],"success":true}
2025-08-25 03:49:25.501 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:49:25.501 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878947003469825[0;39m ------------- 结束 耗时：637 ms -------------
2025-08-25 03:49:25.501 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:49:25.501 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:49:25.501 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:49:25.502 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:49:25.502 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:49:25.505 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:49:25.506 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:49:25.506 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:49:25.507 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:49:25.507 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878947003469824[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:49:25.508 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878947003469824[0;39m <==      Total: 16
2025-08-25 03:49:25.511 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878947003469824[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:49:25.511 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878947003469824[0;39m ------------- 结束 耗时：647 ms -------------
2025-08-25 03:49:36.093 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614877422076170241[0;39m 连接关闭，token：R8Pe1DkYMp，session id：e！当前连接数：0
2025-08-25 03:49:36.704 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614875602213801984[0;39m 有新连接：token：PUo94H2pC2，session id：f，当前连接数：1
2025-08-25 03:49:36.747 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878996844384256[0;39m ------------- 开始 -------------
2025-08-25 03:49:36.748 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878996848578561[0;39m ------------- 开始 -------------
2025-08-25 03:49:36.748 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878996844384256[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:49:36.748 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614878996848578560[0;39m ------------- 开始 -------------
2025-08-25 03:49:36.748 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878996848578560[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:49:36.748 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878996848578560[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:49:36.748 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878996848578560[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:49:36.748 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878996848578560[0;39m 请求参数: []
2025-08-25 03:49:36.748 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614878996848578561[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:49:36.749 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878996848578561[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:49:36.749 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878996848578561[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:49:36.749 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878996848578561[0;39m 请求参数: []
2025-08-25 03:49:36.748 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614878996844384256[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:49:36.749 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614878996844384256[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:49:36.749 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614878996844384256[0;39m 请求参数: []
2025-08-25 03:49:37.004 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878996848578560[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:49:37.004 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878996848578561[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:49:37.004 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878996844384256[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:49:37.005 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878996848578560[0;39m ==> Parameters: 
2025-08-25 03:49:37.005 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878996848578561[0;39m ==> Parameters: 
2025-08-25 03:49:37.005 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878996844384256[0;39m ==> Parameters: 
2025-08-25 03:49:37.247 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:49:37.247 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:49:37.247 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:49:37.247 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:49:37.248 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:49:37.248 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:49:37.248 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:49:37.248 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:49:37.248 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:49:37.248 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:49:37.248 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:49:37.248 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:49:37.248 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:49:37.249 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:49:37.249 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:49:37.249 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:49:37.249 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614878996848578560[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:49:37.249 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614878996848578560[0;39m <==      Total: 16
2025-08-25 03:49:37.249 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878996848578560[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:49:37.250 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878996848578560[0;39m ------------- 结束 耗时：502 ms -------------
2025-08-25 03:49:37.255 TRACE c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :141  [32m614878996848578561[0;39m <==    Columns: date, viewIncrease, voteIncrease
2025-08-25 03:49:37.255 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878996844384256[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:49:37.256 TRACE c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :141  [32m614878996848578561[0;39m <==        Row: 2025-08-24, 61, 52
2025-08-25 03:49:37.256 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878996844384256[0;39m <==        Row: 2025-08-24, 61, 52, 61, 52
2025-08-25 03:49:37.256 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614878996848578561[0;39m <==      Total: 1
2025-08-25 03:49:37.256 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878996848578561[0;39m 返回结果: {"content":[{"date":1755957600000,"viewCount":0,"viewIncrease":61,"voteCount":0,"voteIncrease":52}],"success":true}
2025-08-25 03:49:37.256 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878996848578561[0;39m ------------- 结束 耗时：508 ms -------------
2025-08-25 03:49:37.256 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614878996844384256[0;39m <==        Row: 2025-08-25, 94, 85, 33, 33
2025-08-25 03:49:37.257 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614878996844384256[0;39m <==      Total: 2
2025-08-25 03:49:37.257 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614878996844384256[0;39m 返回结果: {"content":[{"date":1755957600000,"viewCount":61,"viewIncrease":61,"voteCount":52,"voteIncrease":52},{"date":1756044000000,"viewCount":94,"viewIncrease":33,"voteCount":85,"voteIncrease":33}],"success":true}
2025-08-25 03:49:37.257 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614878996844384256[0;39m ------------- 结束 耗时：510 ms -------------
2025-08-25 03:49:44.375 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614879028838535168[0;39m ------------- 开始 -------------
2025-08-25 03:49:44.375 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614879028838535168[0;39m 请求地址: http://localhost:8080/user/login POST
2025-08-25 03:49:44.375 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614879028838535168[0;39m 类名方法: com.matt.wiki.controller.UserController.login
2025-08-25 03:49:44.375 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614879028838535168[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:49:44.375 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614879028838535168[0;39m 请求参数: [{"loginName":"test"}]
2025-08-25 03:49:44.647 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614879028838535168[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-08-25 03:49:44.648 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614879028838535168[0;39m ==> Parameters: test(String)
2025-08-25 03:49:44.955 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614879028838535168[0;39m <==    Columns: id, login_name, name, password
2025-08-25 03:49:44.955 TRACE com.matt.wiki.mapper.UserMapper.selectByExample   :141  [32m614879028838535168[0;39m <==        Row: 2, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-08-25 03:49:44.955 DEBUG com.matt.wiki.mapper.UserMapper.selectByExample   :135  [32m614879028838535168[0;39m <==      Total: 1
2025-08-25 03:49:45.262 INFO  com.matt.wiki.aspect.LogAspect                    :84   [32m614879028838535168[0;39m generated token: 614879031275425792
2025-08-25 03:49:45.262 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614879028838535168[0;39m 返回结果: {"content":{"id":2,"loginName":"test","name":"test","token":"614879031275425792"},"success":true}
2025-08-25 03:49:45.262 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614879028838535168[0;39m ------------- 结束 耗时：887 ms -------------
2025-08-25 03:49:48.850 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614878384740241410[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 03:49:48.850 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614878384740241410[0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2025-08-25 03:49:48.854 INFO  com.matt.wiki.interceptor.LoginInterceptor        :31   [32m614878947007664128[0;39m ------------- LoginInterceptor 开始 -------------
2025-08-25 03:49:48.855 INFO  com.matt.wiki.interceptor.LoginInterceptor        :42   [32m614878947007664128[0;39m 接口登录拦截：，path：http://localhost:8080/user/logout/614879031275425792
2025-08-25 03:49:48.855 INFO  com.matt.wiki.interceptor.LoginInterceptor        :46   [32m614878947007664128[0;39m 登录校验开始，token：614879031275425792
2025-08-25 03:49:49.154 INFO  com.matt.wiki.interceptor.LoginInterceptor        :58   [32m614878947007664128[0;39m 已登录：{"id":2,"loginName":"test","name":"test","token":"614879031275425792"}
2025-08-25 03:49:49.155 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614879048887308288[0;39m ------------- 开始 -------------
2025-08-25 03:49:49.156 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614879048887308288[0;39m 请求地址: http://localhost:8080/user/logout/614879031275425792 GET
2025-08-25 03:49:49.156 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614879048887308288[0;39m 类名方法: com.matt.wiki.controller.UserController.logout
2025-08-25 03:49:49.156 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614879048887308288[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:49:49.156 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614879048887308288[0;39m 请求参数: ["614879031275425792"]
2025-08-25 03:49:49.409 INFO  com.matt.wiki.aspect.LogAspect                    :94   [32m614879048887308288[0;39m delete token: 614879031275425792
2025-08-25 03:49:49.409 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614879048887308288[0;39m 返回结果: {"success":true}
2025-08-25 03:49:49.409 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614879048887308288[0;39m ------------- 结束 耗时：254 ms -------------
2025-08-25 03:49:49.410 INFO  com.matt.wiki.interceptor.LoginInterceptor        :67   [32m614879048887308288[0;39m ------------- LoginInterceptor 结束 耗时：555 ms -------------
2025-08-25 03:49:54.135 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614878947003469825[0;39m 连接关闭，token：PUo94H2pC2，session id：f！当前连接数：0
2025-08-25 03:49:54.722 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614878947003469824[0;39m 有新连接：token：8ynvgbobFt，session id：10，当前连接数：1
2025-08-25 03:49:54.774 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614879072455102464[0;39m ------------- 开始 -------------
2025-08-25 03:49:54.776 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614879072455102464[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:49:54.776 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614879072455102464[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:49:54.776 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614879072455102464[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:49:54.776 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614879072455102464[0;39m 请求参数: []
2025-08-25 03:49:54.773 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614879072450908160[0;39m ------------- 开始 -------------
2025-08-25 03:49:54.782 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614879072450908160[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:49:54.782 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614879072450908160[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:49:54.782 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614879072450908160[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:49:54.782 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614879072488656896[0;39m ------------- 开始 -------------
2025-08-25 03:49:54.782 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614879072450908160[0;39m 请求参数: []
2025-08-25 03:49:54.782 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614879072488656896[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:49:54.782 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614879072488656896[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:49:54.782 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614879072488656896[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:49:54.782 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614879072488656896[0;39m 请求参数: []
2025-08-25 03:49:55.093 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614879072450908160[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:49:55.093 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614879072488656896[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:49:55.093 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614879072455102464[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:49:55.093 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614879072450908160[0;39m ==> Parameters: 
2025-08-25 03:49:55.093 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614879072488656896[0;39m ==> Parameters: 
2025-08-25 03:49:55.093 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614879072455102464[0;39m ==> Parameters: 
2025-08-25 03:49:55.335 TRACE c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :141  [32m614879072455102464[0;39m <==    Columns: date, viewIncrease, voteIncrease
2025-08-25 03:49:55.335 TRACE c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :141  [32m614879072455102464[0;39m <==        Row: 2025-08-24, 61, 52
2025-08-25 03:49:55.335 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614879072455102464[0;39m <==      Total: 1
2025-08-25 03:49:55.335 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614879072455102464[0;39m 返回结果: {"content":[{"date":1755957600000,"viewCount":0,"viewIncrease":61,"voteCount":0,"voteIncrease":52}],"success":true}
2025-08-25 03:49:55.336 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614879072455102464[0;39m ------------- 结束 耗时：562 ms -------------
2025-08-25 03:49:55.343 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:49:55.343 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614879072488656896[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:49:55.343 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:49:55.343 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614879072488656896[0;39m <==        Row: 2025-08-24, 61, 52, 61, 52
2025-08-25 03:49:55.343 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:49:55.343 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:49:55.343 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:49:55.344 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614879072488656896[0;39m <==        Row: 2025-08-25, 94, 85, 33, 33
2025-08-25 03:49:55.344 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:49:55.344 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614879072488656896[0;39m <==      Total: 2
2025-08-25 03:49:55.344 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:49:55.344 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:49:55.344 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614879072488656896[0;39m 返回结果: {"content":[{"date":1755957600000,"viewCount":61,"viewIncrease":61,"voteCount":52,"voteIncrease":52},{"date":1756044000000,"viewCount":94,"viewIncrease":33,"voteCount":85,"voteIncrease":33}],"success":true}
2025-08-25 03:49:55.344 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:49:55.344 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614879072488656896[0;39m ------------- 结束 耗时：562 ms -------------
2025-08-25 03:49:55.344 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:49:55.344 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:49:55.344 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:49:55.344 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:49:55.344 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:49:55.344 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:49:55.345 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:49:55.345 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879072450908160[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:49:55.345 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614879072450908160[0;39m <==      Total: 16
2025-08-25 03:49:55.345 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614879072450908160[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:49:55.345 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614879072450908160[0;39m ------------- 结束 耗时：572 ms -------------
2025-08-25 03:50:00.000 INFO  com.matt.wiki.job.DocJob                          :30   [32m614879094374535168[0;39m 更新电子书下的文档数据开始
2025-08-25 03:50:00.249 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614879094374535168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:50:00.249 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614879094374535168[0;39m ==> Parameters: 
2025-08-25 03:50:00.768 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614879094374535168[0;39m <==    Updates: 1
2025-08-25 03:50:00.768 INFO  com.matt.wiki.job.DocJob                          :33   [32m614879094374535168[0;39m 更新电子书下的文档数据结束，耗时：768毫秒
2025-08-25 03:50:00.769 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614879097599954944[0;39m 生成今日电子书快照开始
2025-08-25 03:50:00.769 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614879097599954944[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:50:00.769 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614879097599954944[0;39m ==> Parameters: 
2025-08-25 03:50:01.340 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614879097599954944[0;39m <==    Updates: 0
2025-08-25 03:50:01.340 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614879097599954944[0;39m 生成今日电子书快照结束，耗时：571毫秒
2025-08-25 03:50:06.919 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614878996848578561[0;39m 连接关闭，token：8ynvgbobFt，session id：10！当前连接数：0
2025-08-25 03:50:07.531 INFO  com.matt.wiki.websocket.WebSocketServer           :32   [32m614878996844384256[0;39m 有新连接：token：uSqIiKwgBv，session id：11，当前连接数：1
2025-08-25 03:50:07.588 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614879126200913920[0;39m ------------- 开始 -------------
2025-08-25 03:50:07.588 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614879126200913921[0;39m ------------- 开始 -------------
2025-08-25 03:50:07.591 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614879126200913920[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-30-statistic GET
2025-08-25 03:50:07.591 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614879126200913921[0;39m 请求地址: http://localhost:8080/ebook-snapshot/get-statistic GET
2025-08-25 03:50:07.591 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614879126200913921[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.getStatistic
2025-08-25 03:50:07.591 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614879126200913920[0;39m 类名方法: com.matt.wiki.controller.EbookSnapshotController.get30Statistic
2025-08-25 03:50:07.591 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614879126200913921[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:50:07.591 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614879126200913920[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:50:07.591 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614879126200913920[0;39m 请求参数: []
2025-08-25 03:50:07.591 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614879126200913921[0;39m 请求参数: []
2025-08-25 03:50:07.592 INFO  com.matt.wiki.aspect.LogAspect                    :52   [32m614879126217691136[0;39m ------------- 开始 -------------
2025-08-25 03:50:07.592 INFO  com.matt.wiki.aspect.LogAspect                    :53   [32m614879126217691136[0;39m 请求地址: http://localhost:8080/category/all GET
2025-08-25 03:50:07.592 INFO  com.matt.wiki.aspect.LogAspect                    :54   [32m614879126217691136[0;39m 类名方法: com.matt.wiki.controller.CategoryController.all
2025-08-25 03:50:07.592 INFO  com.matt.wiki.aspect.LogAspect                    :55   [32m614879126217691136[0;39m 远程地址: 0:0:0:0:0:0:0:1
2025-08-25 03:50:07.592 INFO  com.matt.wiki.aspect.LogAspect                    :77   [32m614879126217691136[0;39m 请求参数: []
2025-08-25 03:50:07.892 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614879126217691136[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-08-25 03:50:07.892 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614879126200913920[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:50:07.892 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614879126200913921[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-08-25 03:50:07.893 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614879126217691136[0;39m ==> Parameters: 
2025-08-25 03:50:07.893 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614879126200913920[0;39m ==> Parameters: 
2025-08-25 03:50:07.893 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614879126200913921[0;39m ==> Parameters: 
2025-08-25 03:50:08.200 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614879126200913921[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-08-25 03:50:08.200 TRACE c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :141  [32m614879126200913920[0;39m <==    Columns: date, viewIncrease, voteIncrease
2025-08-25 03:50:08.200 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==    Columns: id, parent, name, sort
2025-08-25 03:50:08.200 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614879126200913921[0;39m <==        Row: 2025-08-24, 61, 52, 61, 52
2025-08-25 03:50:08.200 TRACE c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :141  [32m614879126200913920[0;39m <==        Row: 2025-08-24, 61, 52
2025-08-25 03:50:08.200 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 100, 0, 前端开发, 100
2025-08-25 03:50:08.200 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 101, 100, Vue, 101
2025-08-25 03:50:08.200 TRACE c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :141  [32m614879126200913921[0;39m <==        Row: 2025-08-25, 94, 85, 33, 33
2025-08-25 03:50:08.200 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-08-25 03:50:08.200 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.getStatistic :135  [32m614879126200913921[0;39m <==      Total: 2
2025-08-25 03:50:08.200 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 200, 0, Java, 200
2025-08-25 03:50:08.200 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 201, 200, 基础应用, 201
2025-08-25 03:50:08.200 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 202, 200, 框架应用, 202
2025-08-25 03:50:08.200 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 300, 0, 后端开发, 300
2025-08-25 03:50:08.200 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614879126200913921[0;39m 返回结果: {"content":[{"date":1755957600000,"viewCount":61,"viewIncrease":61,"voteCount":52,"voteIncrease":52},{"date":1756044000000,"viewCount":94,"viewIncrease":33,"voteCount":85,"voteIncrease":33}],"success":true}
2025-08-25 03:50:08.200 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614879126200913921[0;39m ------------- 结束 耗时：612 ms -------------
2025-08-25 03:50:08.200 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 301, 300, Node.js, 301
2025-08-25 03:50:08.200 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 302, 300, Go, 302
2025-08-25 03:50:08.200 DEBUG c.m.w.m.EbookSnapshotMapperCust.get30Statistic    :135  [32m614879126200913920[0;39m <==      Total: 1
2025-08-25 03:50:08.201 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 400, 0, 数据库, 400
2025-08-25 03:50:08.201 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 401, 400, MySQL, 401
2025-08-25 03:50:08.201 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 402, 400, PostgreSQL, 402
2025-08-25 03:50:08.201 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 500, 0, 运维与部署, 500
2025-08-25 03:50:08.201 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 501, 500, Docker, 501
2025-08-25 03:50:08.201 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614879126200913920[0;39m 返回结果: {"content":[{"date":1755957600000,"viewCount":0,"viewIncrease":61,"voteCount":0,"voteIncrease":52}],"success":true}
2025-08-25 03:50:08.201 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614879126200913920[0;39m ------------- 结束 耗时：613 ms -------------
2025-08-25 03:50:08.201 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 502, 500, Kubernetes, 502
2025-08-25 03:50:08.201 TRACE c.matt.wiki.mapper.CategoryMapper.selectByExample :141  [32m614879126217691136[0;39m <==        Row: 503, 500, CI/CD, 503
2025-08-25 03:50:08.201 DEBUG c.matt.wiki.mapper.CategoryMapper.selectByExample :135  [32m614879126217691136[0;39m <==      Total: 16
2025-08-25 03:50:08.201 INFO  com.matt.wiki.aspect.LogAspect                    :90   [32m614879126217691136[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"后端开发","parent":0,"sort":300},{"id":301,"name":"Node.js","parent":300,"sort":301},{"id":302,"name":"Go","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":402,"name":"PostgreSQL","parent":400,"sort":402},{"id":500,"name":"运维与部署","parent":0,"sort":500},{"id":501,"name":"Docker","parent":500,"sort":501},{"id":502,"name":"Kubernetes","parent":500,"sort":502},{"id":503,"name":"CI/CD","parent":500,"sort":503}],"success":true}
2025-08-25 03:50:08.201 INFO  com.matt.wiki.aspect.LogAspect                    :91   [32m614879126217691136[0;39m ------------- 结束 耗时：609 ms -------------
2025-08-25 03:50:35.730 INFO  com.matt.wiki.websocket.WebSocketServer           :46   [32m614878947003469825[0;39m 连接关闭，token：uSqIiKwgBv，session id：11！当前连接数：0
2025-08-25 03:51:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614879346049552384[0;39m 更新电子书下的文档数据开始
2025-08-25 03:51:00.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614879346049552384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:51:00.256 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614879346049552384[0;39m ==> Parameters: 
2025-08-25 03:51:00.754 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614879346049552384[0;39m <==    Updates: 1
2025-08-25 03:51:00.755 INFO  com.matt.wiki.job.DocJob                          :33   [32m614879346049552384[0;39m 更新电子书下的文档数据结束，耗时：751毫秒
2025-08-25 03:51:00.756 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614879349203668992[0;39m 生成今日电子书快照开始
2025-08-25 03:51:00.757 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614879349203668992[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:51:00.758 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614879349203668992[0;39m ==> Parameters: 
2025-08-25 03:51:01.287 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614879349203668992[0;39m <==    Updates: 0
2025-08-25 03:51:01.287 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614879349203668992[0;39m 生成今日电子书快照结束，耗时：531毫秒
2025-08-25 03:52:00.004 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614879597707792384[0;39m 生成今日电子书快照开始
2025-08-25 03:52:00.254 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614879597707792384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:52:00.254 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614879597707792384[0;39m ==> Parameters: 
2025-08-25 03:52:00.752 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614879597707792384[0;39m <==    Updates: 0
2025-08-25 03:52:00.753 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614879597707792384[0;39m 生成今日电子书快照结束，耗时：749毫秒
2025-08-25 03:52:00.753 INFO  com.matt.wiki.job.DocJob                          :30   [32m614879600849326080[0;39m 更新电子书下的文档数据开始
2025-08-25 03:52:00.753 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614879600849326080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:52:00.753 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614879600849326080[0;39m ==> Parameters: 
2025-08-25 03:52:01.351 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614879600849326080[0;39m <==    Updates: 1
2025-08-25 03:52:01.352 INFO  com.matt.wiki.job.DocJob                          :33   [32m614879600849326080[0;39m 更新电子书下的文档数据结束，耗时：599毫秒
2025-08-25 03:53:00.003 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614879849361838080[0;39m 生成今日电子书快照开始
2025-08-25 03:53:00.252 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614879849361838080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:53:00.253 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614879849361838080[0;39m ==> Parameters: 
2025-08-25 03:53:00.788 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614879849361838080[0;39m <==    Updates: 0
2025-08-25 03:53:00.789 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614879849361838080[0;39m 生成今日电子书快照结束，耗时：785毫秒
2025-08-25 03:53:00.789 INFO  com.matt.wiki.job.DocJob                          :30   [32m614879852658561024[0;39m 更新电子书下的文档数据开始
2025-08-25 03:53:00.790 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614879852658561024[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:53:00.790 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614879852658561024[0;39m ==> Parameters: 
2025-08-25 03:53:01.302 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614879852658561024[0;39m <==    Updates: 1
2025-08-25 03:53:01.302 INFO  com.matt.wiki.job.DocJob                          :33   [32m614879852658561024[0;39m 更新电子书下的文档数据结束，耗时：513毫秒
2025-08-25 03:54:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614880101011689472[0;39m 更新电子书下的文档数据开始
2025-08-25 03:54:00.251 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614880101011689472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:54:00.251 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614880101011689472[0;39m ==> Parameters: 
2025-08-25 03:54:00.749 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614880101011689472[0;39m <==    Updates: 1
2025-08-25 03:54:00.750 INFO  com.matt.wiki.job.DocJob                          :33   [32m614880101011689472[0;39m 更新电子书下的文档数据结束，耗时：748毫秒
2025-08-25 03:54:00.750 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614880104153223168[0;39m 生成今日电子书快照开始
2025-08-25 03:54:00.750 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614880104153223168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:54:00.751 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614880104153223168[0;39m ==> Parameters: 
2025-08-25 03:54:01.366 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614880104153223168[0;39m <==    Updates: 0
2025-08-25 03:54:01.366 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614880104153223168[0;39m 生成今日电子书快照结束，耗时：616毫秒
2025-08-25 03:55:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614880352669929472[0;39m 更新电子书下的文档数据开始
2025-08-25 03:55:00.251 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614880352669929472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:55:00.251 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614880352669929472[0;39m ==> Parameters: 
2025-08-25 03:55:00.749 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614880352669929472[0;39m <==    Updates: 1
2025-08-25 03:55:00.750 INFO  com.matt.wiki.job.DocJob                          :33   [32m614880352669929472[0;39m 更新电子书下的文档数据结束，耗时：748毫秒
2025-08-25 03:55:00.750 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614880355811463168[0;39m 生成今日电子书快照开始
2025-08-25 03:55:00.750 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614880355811463168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:55:00.750 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614880355811463168[0;39m ==> Parameters: 
2025-08-25 03:55:01.371 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614880355811463168[0;39m <==    Updates: 0
2025-08-25 03:55:01.371 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614880355811463168[0;39m 生成今日电子书快照结束，耗时：621毫秒
2025-08-25 03:56:00.000 INFO  com.matt.wiki.job.DocJob                          :30   [32m614880604323975168[0;39m 更新电子书下的文档数据开始
2025-08-25 03:56:00.251 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614880604323975168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:56:00.251 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614880604323975168[0;39m ==> Parameters: 
2025-08-25 03:56:02.093 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614880604323975168[0;39m <==    Updates: 1
2025-08-25 03:56:02.094 INFO  com.matt.wiki.job.DocJob                          :33   [32m614880604323975168[0;39m 更新电子书下的文档数据结束，耗时：2093毫秒
2025-08-25 03:56:02.094 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614880613106847744[0;39m 生成今日电子书快照开始
2025-08-25 03:56:02.095 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614880613106847744[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:56:02.096 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614880613106847744[0;39m ==> Parameters: 
2025-08-25 03:56:02.710 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614880613106847744[0;39m <==    Updates: 12
2025-08-25 03:56:02.710 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614880613106847744[0;39m 生成今日电子书快照结束，耗时：616毫秒
2025-08-25 03:57:00.002 INFO  com.matt.wiki.job.DocJob                          :30   [32m614880855990603776[0;39m 更新电子书下的文档数据开始
2025-08-25 03:57:00.243 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614880855990603776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:57:00.243 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614880855990603776[0;39m ==> Parameters: 
2025-08-25 03:57:00.802 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614880855990603776[0;39m <==    Updates: 1
2025-08-25 03:57:00.803 INFO  com.matt.wiki.job.DocJob                          :33   [32m614880855990603776[0;39m 更新电子书下的文档数据结束，耗时：801毫秒
2025-08-25 03:57:00.803 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614880859350241280[0;39m 生成今日电子书快照开始
2025-08-25 03:57:00.803 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614880859350241280[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:57:00.804 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614880859350241280[0;39m ==> Parameters: 
2025-08-25 03:57:01.333 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614880859350241280[0;39m <==    Updates: 0
2025-08-25 03:57:01.334 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614880859350241280[0;39m 生成今日电子书快照结束，耗时：531毫秒
2025-08-25 03:58:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614881107644649472[0;39m 更新电子书下的文档数据开始
2025-08-25 03:58:00.240 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614881107644649472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:58:00.240 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614881107644649472[0;39m ==> Parameters: 
2025-08-25 03:58:00.809 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614881107644649472[0;39m <==    Updates: 1
2025-08-25 03:58:00.809 INFO  com.matt.wiki.job.DocJob                          :33   [32m614881107644649472[0;39m 更新电子书下的文档数据结束，耗时：807毫秒
2025-08-25 03:58:00.809 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614881111033647104[0;39m 生成今日电子书快照开始
2025-08-25 03:58:00.810 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614881111033647104[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:58:00.810 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614881111033647104[0;39m ==> Parameters: 
2025-08-25 03:58:01.389 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614881111033647104[0;39m <==    Updates: 0
2025-08-25 03:58:01.390 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614881111033647104[0;39m 生成今日电子书快照结束，耗时：580毫秒
2025-08-25 03:59:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614881359315472384[0;39m 更新电子书下的文档数据开始
2025-08-25 03:59:00.246 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614881359315472384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 03:59:00.247 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614881359315472384[0;39m ==> Parameters: 
2025-08-25 03:59:00.817 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614881359315472384[0;39m <==    Updates: 1
2025-08-25 03:59:00.817 INFO  com.matt.wiki.job.DocJob                          :33   [32m614881359315472384[0;39m 更新电子书下的文档数据结束，耗时：811毫秒
2025-08-25 03:59:00.818 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614881362729635840[0;39m 生成今日电子书快照开始
2025-08-25 03:59:00.818 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614881362729635840[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 03:59:00.818 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614881362729635840[0;39m ==> Parameters: 
2025-08-25 03:59:01.327 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614881362729635840[0;39m <==    Updates: 0
2025-08-25 03:59:01.327 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614881362729635840[0;39m 生成今日电子书快照结束，耗时：509毫秒
2025-08-25 04:00:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614881610956935168[0;39m 生成今日电子书快照开始
2025-08-25 04:00:00.239 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614881610956935168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:00:00.239 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614881610956935168[0;39m ==> Parameters: 
2025-08-25 04:00:00.822 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614881610956935168[0;39m <==    Updates: 0
2025-08-25 04:00:00.822 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614881610956935168[0;39m 生成今日电子书快照结束，耗时：821毫秒
2025-08-25 04:00:00.822 INFO  com.matt.wiki.job.DocJob                          :30   [32m614881614404653056[0;39m 更新电子书下的文档数据开始
2025-08-25 04:00:00.822 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614881614404653056[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:00:00.823 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614881614404653056[0;39m ==> Parameters: 
2025-08-25 04:00:01.333 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614881614404653056[0;39m <==    Updates: 1
2025-08-25 04:00:01.334 INFO  com.matt.wiki.job.DocJob                          :33   [32m614881614404653056[0;39m 更新电子书下的文档数据结束，耗时：512毫秒
2025-08-25 04:01:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614881862619369472[0;39m 生成今日电子书快照开始
2025-08-25 04:01:00.240 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614881862619369472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:01:00.240 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614881862619369472[0;39m ==> Parameters: 
2025-08-25 04:01:00.717 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614881862619369472[0;39m <==    Updates: 0
2025-08-25 04:01:00.717 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614881862619369472[0;39m 生成今日电子书快照结束，耗时：716毫秒
2025-08-25 04:01:00.717 INFO  com.matt.wiki.job.DocJob                          :30   [32m614881865622491136[0;39m 更新电子书下的文档数据开始
2025-08-25 04:01:00.717 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614881865622491136[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:01:00.718 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614881865622491136[0;39m ==> Parameters: 
2025-08-25 04:01:01.195 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614881865622491136[0;39m <==    Updates: 1
2025-08-25 04:01:01.195 INFO  com.matt.wiki.job.DocJob                          :33   [32m614881865622491136[0;39m 更新电子书下的文档数据结束，耗时：478毫秒
2025-08-25 04:02:00.004 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614882114290192384[0;39m 生成今日电子书快照开始
2025-08-25 04:02:00.241 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614882114290192384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:02:00.242 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614882114290192384[0;39m ==> Parameters: 
2025-08-25 04:02:00.746 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614882114290192384[0;39m <==    Updates: 0
2025-08-25 04:02:00.746 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614882114290192384[0;39m 生成今日电子书快照结束，耗时：742毫秒
2025-08-25 04:02:00.746 INFO  com.matt.wiki.job.DocJob                          :30   [32m614882117402365952[0;39m 更新电子书下的文档数据开始
2025-08-25 04:02:00.747 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614882117402365952[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:02:00.747 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614882117402365952[0;39m ==> Parameters: 
2025-08-25 04:02:01.312 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614882117402365952[0;39m <==    Updates: 1
2025-08-25 04:02:01.313 INFO  com.matt.wiki.job.DocJob                          :33   [32m614882117402365952[0;39m 更新电子书下的文档数据结束，耗时：567毫秒
2025-08-25 04:03:00.004 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614882365948432384[0;39m 生成今日电子书快照开始
2025-08-25 04:03:00.242 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614882365948432384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:03:00.242 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614882365948432384[0;39m ==> Parameters: 
2025-08-25 04:03:00.739 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614882365948432384[0;39m <==    Updates: 0
2025-08-25 04:03:00.740 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614882365948432384[0;39m 生成今日电子书快照结束，耗时：736毫秒
2025-08-25 04:03:00.740 INFO  com.matt.wiki.job.DocJob                          :30   [32m614882369035440128[0;39m 更新电子书下的文档数据开始
2025-08-25 04:03:00.740 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614882369035440128[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:03:00.740 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614882369035440128[0;39m ==> Parameters: 
2025-08-25 04:03:01.260 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614882369035440128[0;39m <==    Updates: 1
2025-08-25 04:03:01.260 INFO  com.matt.wiki.job.DocJob                          :33   [32m614882369035440128[0;39m 更新电子书下的文档数据结束，耗时：520毫秒
2025-08-25 04:04:00.008 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614882617623449600[0;39m 生成今日电子书快照开始
2025-08-25 04:04:00.267 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614882617623449600[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:04:00.267 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614882617623449600[0;39m ==> Parameters: 
2025-08-25 04:04:00.789 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614882617623449600[0;39m <==    Updates: 0
2025-08-25 04:04:00.789 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614882617623449600[0;39m 生成今日电子书快照结束，耗时：780毫秒
2025-08-25 04:04:00.790 INFO  com.matt.wiki.job.DocJob                          :30   [32m614882620903395328[0;39m 更新电子书下的文档数据开始
2025-08-25 04:04:00.790 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614882620903395328[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:04:00.790 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614882620903395328[0;39m ==> Parameters: 
2025-08-25 04:04:01.435 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614882620903395328[0;39m <==    Updates: 1
2025-08-25 04:04:01.436 INFO  com.matt.wiki.job.DocJob                          :33   [32m614882620903395328[0;39m 更新电子书下的文档数据结束，耗时：646毫秒
2025-08-25 04:04:41.973 INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener:211  [32m                  [0;39m Restarting due to 92 class path changes (0 additions, 92 deletions, 0 modifications)
2025-08-25 04:04:41.975 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :54   [32m                  [0;39m Commencing graceful shutdown. Waiting for active requests to complete
2025-08-25 04:04:41.976 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Pausing ProtocolHandler ["http-nio-8080"]
2025-08-25 04:04:41.978 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :76   [32m                  [0;39m Graceful shutdown complete
2025-08-25 04:04:41.978 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Stopping ProtocolHandler ["http-nio-8080"]
2025-08-25 04:04:41.983 INFO  com.zaxxer.hikari.HikariDataSource                :349  [32m                  [0;39m HikariPool-2 - Shutdown initiated...
2025-08-25 04:04:41.984 INFO  com.zaxxer.hikari.HikariDataSource                :351  [32m                  [0;39m HikariPool-2 - Shutdown completed.
2025-08-25 04:04:42.073 INFO  com.matt.wiki.WikiApplication                     :53   [32m                  [0;39m Starting WikiApplication using Java 20.0.1 with PID 76163 (/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:04:42.073 INFO  com.matt.wiki.WikiApplication                     :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:04:42.250 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:04:42.251 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:04:42.261 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-08-25 04:04:42.375 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :111  [32m                  [0;39m Tomcat initialized with port 8080 (http)
2025-08-25 04:04:42.376 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2025-08-25 04:04:42.376 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Starting service [Tomcat]
2025-08-25 04:04:42.376 INFO  org.apache.catalina.core.StandardEngine           :168  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-25 04:04:42.385 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :168  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-08-25 04:04:42.386 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :301  [32m                  [0;39m Root WebApplicationContext: initialization completed in 308 ms
2025-08-25 04:04:42.756 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2025-08-25 04:04:42.764 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2025-08-25 04:04:42.765 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :243  [32m                  [0;39m Tomcat started on port 8080 (http) with context path '/'
2025-08-25 04:04:42.768 INFO  com.matt.wiki.WikiApplication                     :59   [32m                  [0;39m Started WikiApplication in 0.744 seconds (process running for 11050.107)
2025-08-25 04:04:42.771 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :58   [32m                  [0;39m Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   JacksonAutoConfiguration.JacksonObjectMapperConfiguration#jacksonObjectMapper matched:
      - @ConditionalOnMissingBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-08-25 04:04:42.771 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m Start Successful
2025-08-25 04:04:42.771 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m 地址:	http://127.0.0.1:8080
2025-08-25 04:04:44.178 INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener:211  [32m                  [0;39m Restarting due to 92 class path changes (92 additions, 0 deletions, 0 modifications)
2025-08-25 04:04:44.178 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :54   [32m                  [0;39m Commencing graceful shutdown. Waiting for active requests to complete
2025-08-25 04:04:44.178 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Pausing ProtocolHandler ["http-nio-8080"]
2025-08-25 04:04:44.180 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :76   [32m                  [0;39m Graceful shutdown complete
2025-08-25 04:04:44.180 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Stopping ProtocolHandler ["http-nio-8080"]
2025-08-25 04:04:44.225 INFO  com.matt.wiki.WikiApplication                     :53   [32m                  [0;39m Starting WikiApplication using Java 20.0.1 with PID 76163 (/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:04:44.225 INFO  com.matt.wiki.WikiApplication                     :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:04:44.285 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:04:44.285 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:04:44.288 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-08-25 04:04:44.351 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :111  [32m                  [0;39m Tomcat initialized with port 8080 (http)
2025-08-25 04:04:44.351 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2025-08-25 04:04:44.352 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Starting service [Tomcat]
2025-08-25 04:04:44.352 INFO  org.apache.catalina.core.StandardEngine           :168  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-25 04:04:44.357 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :168  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-08-25 04:04:44.357 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :301  [32m                  [0;39m Root WebApplicationContext: initialization completed in 131 ms
2025-08-25 04:04:44.644 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2025-08-25 04:04:44.651 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2025-08-25 04:04:44.652 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :243  [32m                  [0;39m Tomcat started on port 8080 (http) with context path '/'
2025-08-25 04:04:44.656 INFO  com.matt.wiki.WikiApplication                     :59   [32m                  [0;39m Started WikiApplication in 0.442 seconds (process running for 11051.994)
2025-08-25 04:04:44.656 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :58   [32m                  [0;39m Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   JacksonAutoConfiguration.JacksonObjectMapperConfiguration#jacksonObjectMapper:
      Did not match:
         - @ConditionalOnMissingBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) found beans of type 'com.fasterxml.jackson.databind.ObjectMapper' jacksonObjectMapper (OnBeanCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-08-25 04:04:44.657 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m Start Successful
2025-08-25 04:04:44.657 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m 地址:	http://127.0.0.1:8080
2025-08-25 04:05:00.006 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614882869273300992[0;39m 生成今日电子书快照开始
2025-08-25 04:05:00.007 INFO  com.zaxxer.hikari.HikariDataSource                :109  [32m614882869273300992[0;39m HikariPool-3 - Starting...
2025-08-25 04:05:02.660 INFO  com.zaxxer.hikari.pool.HikariPool                 :575  [32m614882869273300992[0;39m HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26465efa
2025-08-25 04:05:02.660 INFO  com.zaxxer.hikari.HikariDataSource                :122  [32m614882869273300992[0;39m HikariPool-3 - Start completed.
2025-08-25 04:05:02.661 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614882869273300992[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:05:02.661 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614882869273300992[0;39m ==> Parameters: 
2025-08-25 04:05:03.141 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614882869273300992[0;39m <==    Updates: 0
2025-08-25 04:05:03.141 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614882869273300992[0;39m 生成今日电子书快照结束，耗时：3135毫秒
2025-08-25 04:05:03.142 INFO  com.matt.wiki.job.DocJob                          :30   [32m614882882426638336[0;39m 更新电子书下的文档数据开始
2025-08-25 04:05:03.142 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614882882426638336[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:05:03.142 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614882882426638336[0;39m ==> Parameters: 
2025-08-25 04:05:03.622 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614882882426638336[0;39m <==    Updates: 1
2025-08-25 04:05:03.623 INFO  com.matt.wiki.job.DocJob                          :33   [32m614882882426638336[0;39m 更新电子书下的文档数据结束，耗时：481毫秒
2025-08-25 04:06:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614883120923152384[0;39m 更新电子书下的文档数据开始
2025-08-25 04:06:00.346 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614883120923152384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:06:00.346 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614883120923152384[0;39m ==> Parameters: 
2025-08-25 04:06:00.896 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614883120923152384[0;39m <==    Updates: 1
2025-08-25 04:06:00.897 INFO  com.matt.wiki.job.DocJob                          :33   [32m614883120923152384[0;39m 更新电子书下的文档数据结束，耗时：893毫秒
2025-08-25 04:06:00.897 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614883124668665856[0;39m 生成今日电子书快照开始
2025-08-25 04:06:00.897 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614883124668665856[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:06:00.898 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614883124668665856[0;39m ==> Parameters: 
2025-08-25 04:06:01.474 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614883124668665856[0;39m <==    Updates: 0
2025-08-25 04:06:01.474 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614883124668665856[0;39m 生成今日电子书快照结束，耗时：577毫秒
2025-08-25 04:06:32.243 INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener:211  [32m                  [0;39m Restarting due to 92 class path changes (0 additions, 92 deletions, 0 modifications)
2025-08-25 04:06:32.245 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :54   [32m                  [0;39m Commencing graceful shutdown. Waiting for active requests to complete
2025-08-25 04:06:32.245 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Pausing ProtocolHandler ["http-nio-8080"]
2025-08-25 04:06:32.247 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :76   [32m                  [0;39m Graceful shutdown complete
2025-08-25 04:06:32.247 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Stopping ProtocolHandler ["http-nio-8080"]
2025-08-25 04:06:32.249 INFO  com.zaxxer.hikari.HikariDataSource                :349  [32m                  [0;39m HikariPool-3 - Shutdown initiated...
2025-08-25 04:06:32.250 INFO  com.zaxxer.hikari.HikariDataSource                :351  [32m                  [0;39m HikariPool-3 - Shutdown completed.
2025-08-25 04:06:32.302 INFO  com.matt.wiki.WikiApplication                     :53   [32m                  [0;39m Starting WikiApplication using Java 20.0.1 with PID 76163 (/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:06:32.302 INFO  com.matt.wiki.WikiApplication                     :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:06:32.351 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:06:32.351 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:06:32.352 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-08-25 04:06:32.363 WARN  org.mybatis.spring.mapper.ClassPathMapperScanner  :44   [32m                  [0;39m No MyBatis mapper was found in '[com.matt.wiki.mapper]' package. Please check your configuration.
2025-08-25 04:06:32.390 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :111  [32m                  [0;39m Tomcat initialized with port 8080 (http)
2025-08-25 04:06:32.391 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2025-08-25 04:06:32.391 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Starting service [Tomcat]
2025-08-25 04:06:32.391 INFO  org.apache.catalina.core.StandardEngine           :168  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-25 04:06:32.394 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :168  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-08-25 04:06:32.394 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :301  [32m                  [0;39m Root WebApplicationContext: initialization completed in 91 ms
2025-08-25 04:06:32.458 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:635  [32m                  [0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes/mapper/CategoryMapper.xml]'
2025-08-25 04:06:32.458 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Stopping service [Tomcat]
2025-08-25 04:06:32.461 INFO  o.s.b.a.logging.ConditionEvaluationReportLogger   :82   [32m                  [0;39m 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-25 04:06:32.467 ERROR org.springframework.boot.SpringApplication        :857  [32m                  [0;39m Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes/mapper/CategoryMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at com.matt.wiki.WikiApplication.main(WikiApplication.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes/mapper/CategoryMapper.xml]'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:199)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 22 common frames omitted
Caused by: java.io.IOException: Failed to parse mapping resource: 'file [/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes/mapper/CategoryMapper.xml]'
	at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:700)
	at org.mybatis.spring.SqlSessionFactoryBean.afterPropertiesSet(SqlSessionFactoryBean.java:577)
	at org.mybatis.spring.SqlSessionFactoryBean.getObject(SqlSessionFactoryBean.java:720)
	at org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration.sqlSessionFactory(MybatisAutoConfiguration.java:189)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	... 25 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'file [/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes/mapper/CategoryMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.matt.wiki.domain.Category'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.matt.wiki.domain.Category
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:127)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.parse(XMLMapperBuilder.java:100)
	at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:698)
	... 31 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.matt.wiki.domain.Category'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.matt.wiki.domain.Category
	at org.apache.ibatis.builder.BaseBuilder.resolveClass(BaseBuilder.java:103)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:269)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:261)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElements(XMLMapperBuilder.java:253)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:123)
	... 33 common frames omitted
Caused by: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.matt.wiki.domain.Category'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.matt.wiki.domain.Category
	at org.apache.ibatis.type.TypeAliasRegistry.resolveAlias(TypeAliasRegistry.java:128)
	at org.apache.ibatis.builder.BaseBuilder.resolveAlias(BaseBuilder.java:132)
	at org.apache.ibatis.builder.BaseBuilder.resolveClass(BaseBuilder.java:101)
	... 37 common frames omitted
Caused by: java.lang.ClassNotFoundException: Cannot find class: com.matt.wiki.domain.Category
	at org.apache.ibatis.io.ClassLoaderWrapper.classForName(ClassLoaderWrapper.java:226)
	at org.apache.ibatis.io.ClassLoaderWrapper.classForName(ClassLoaderWrapper.java:103)
	at org.apache.ibatis.io.Resources.classForName(Resources.java:322)
	at org.apache.ibatis.type.TypeAliasRegistry.resolveAlias(TypeAliasRegistry.java:124)
	... 39 common frames omitted
2025-08-25 04:07:14.631 INFO  com.matt.wiki.WikiApplication                     :53   [32m                  [0;39m Starting WikiApplication using Java 20.0.1 with PID 76163 (/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:07:14.631 INFO  com.matt.wiki.WikiApplication                     :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:07:14.706 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:07:14.706 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:07:14.709 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-08-25 04:07:14.801 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :111  [32m                  [0;39m Tomcat initialized with port 8080 (http)
2025-08-25 04:07:14.803 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2025-08-25 04:07:14.803 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Starting service [Tomcat]
2025-08-25 04:07:14.803 INFO  org.apache.catalina.core.StandardEngine           :168  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-25 04:07:14.807 INFO  o.a.c.c.ContainerBase.[Tomcat-1].[localhost].[/]  :168  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-08-25 04:07:14.807 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :301  [32m                  [0;39m Root WebApplicationContext: initialization completed in 175 ms
2025-08-25 04:07:15.094 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2025-08-25 04:07:15.102 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2025-08-25 04:07:15.103 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :243  [32m                  [0;39m Tomcat started on port 8080 (http) with context path '/'
2025-08-25 04:07:15.105 INFO  com.matt.wiki.WikiApplication                     :59   [32m                  [0;39m Started WikiApplication in 0.484 seconds (process running for 11202.441)
2025-08-25 04:07:15.106 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2025-08-25 04:07:15.106 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m Start Successful
2025-08-25 04:07:15.106 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m 地址:	http://127.0.0.1:8080
2025-08-25 04:07:16.503 INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener:211  [32m                  [0;39m Restarting due to 106 class path changes (0 additions, 106 deletions, 0 modifications)
2025-08-25 04:07:16.504 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :54   [32m                  [0;39m Commencing graceful shutdown. Waiting for active requests to complete
2025-08-25 04:07:16.505 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Pausing ProtocolHandler ["http-nio-8080"]
2025-08-25 04:07:16.506 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :76   [32m                  [0;39m Graceful shutdown complete
2025-08-25 04:07:16.506 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Stopping ProtocolHandler ["http-nio-8080"]
2025-08-25 04:07:19.178 INFO  com.matt.wiki.WikiApplication                     :53   [32m                  [0;39m Starting WikiApplication using Java 20.0.1 with PID 76163 (/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:07:19.178 INFO  com.matt.wiki.WikiApplication                     :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:07:19.263 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:07:19.263 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:07:19.266 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-08-25 04:07:19.352 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :111  [32m                  [0;39m Tomcat initialized with port 8080 (http)
2025-08-25 04:07:19.352 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Starting service [Tomcat]
2025-08-25 04:07:19.352 INFO  org.apache.catalina.core.StandardEngine           :168  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-25 04:07:19.357 INFO  o.a.c.c.ContainerBase.[Tomcat-2].[localhost].[/]  :168  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-08-25 04:07:19.357 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :301  [32m                  [0;39m Root WebApplicationContext: initialization completed in 178 ms
2025-08-25 04:07:19.703 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2025-08-25 04:07:19.713 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :243  [32m                  [0;39m Tomcat started on port 8080 (http) with context path '/'
2025-08-25 04:07:19.716 INFO  com.matt.wiki.WikiApplication                     :59   [32m                  [0;39m Started WikiApplication in 0.552 seconds (process running for 11207.052)
2025-08-25 04:07:19.717 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2025-08-25 04:07:19.717 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m Start Successful
2025-08-25 04:07:19.717 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m 地址:	http://127.0.0.1:8080
2025-08-25 04:07:21.119 INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener:211  [32m                  [0;39m Restarting due to 92 class path changes (92 additions, 0 deletions, 0 modifications)
2025-08-25 04:07:21.120 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :54   [32m                  [0;39m Commencing graceful shutdown. Waiting for active requests to complete
2025-08-25 04:07:21.121 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :76   [32m                  [0;39m Graceful shutdown complete
2025-08-25 04:07:21.169 INFO  com.matt.wiki.WikiApplication                     :53   [32m                  [0;39m Starting WikiApplication using Java 20.0.1 with PID 76163 (/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:07:21.169 INFO  com.matt.wiki.WikiApplication                     :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:07:21.244 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:07:21.245 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:07:21.247 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-08-25 04:07:21.317 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :111  [32m                  [0;39m Tomcat initialized with port 8080 (http)
2025-08-25 04:07:21.318 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Starting service [Tomcat]
2025-08-25 04:07:21.318 INFO  org.apache.catalina.core.StandardEngine           :168  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-25 04:07:21.322 INFO  o.a.c.c.ContainerBase.[Tomcat-2].[localhost].[/]  :168  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-08-25 04:07:21.322 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :301  [32m                  [0;39m Root WebApplicationContext: initialization completed in 152 ms
2025-08-25 04:07:21.678 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2025-08-25 04:07:21.687 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :243  [32m                  [0;39m Tomcat started on port 8080 (http) with context path '/'
2025-08-25 04:07:21.689 INFO  com.matt.wiki.WikiApplication                     :59   [32m                  [0;39m Started WikiApplication in 0.532 seconds (process running for 11209.025)
2025-08-25 04:07:21.690 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2025-08-25 04:07:21.690 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m Start Successful
2025-08-25 04:07:21.690 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m 地址:	http://127.0.0.1:8080
2025-08-25 04:08:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614883624239632384[0;39m 更新电子书下的文档数据开始
2025-08-25 04:08:00.004 INFO  com.zaxxer.hikari.HikariDataSource                :109  [32m614883624239632384[0;39m HikariPool-4 - Starting...
2025-08-25 04:08:02.920 INFO  com.zaxxer.hikari.pool.HikariPool                 :575  [32m614883624239632384[0;39m HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c55b7ef
2025-08-25 04:08:02.920 INFO  com.zaxxer.hikari.HikariDataSource                :122  [32m614883624239632384[0;39m HikariPool-4 - Start completed.
2025-08-25 04:08:02.920 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614883624239632384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:08:02.921 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614883624239632384[0;39m ==> Parameters: 
2025-08-25 04:08:03.401 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614883624239632384[0;39m <==    Updates: 1
2025-08-25 04:08:03.401 INFO  com.matt.wiki.job.DocJob                          :33   [32m614883624239632384[0;39m 更新电子书下的文档数据结束，耗时：3397毫秒
2025-08-25 04:08:03.402 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614883638491877376[0;39m 生成今日电子书快照开始
2025-08-25 04:08:03.402 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614883638491877376[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:08:03.403 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614883638491877376[0;39m ==> Parameters: 
2025-08-25 04:08:03.884 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614883638491877376[0;39m <==    Updates: 0
2025-08-25 04:08:03.885 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614883638491877376[0;39m 生成今日电子书快照结束，耗时：483毫秒
2025-08-25 04:09:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614883875885289472[0;39m 更新电子书下的文档数据开始
2025-08-25 04:09:00.244 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614883875885289472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:09:00.245 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614883875885289472[0;39m ==> Parameters: 
2025-08-25 04:09:00.811 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614883875885289472[0;39m <==    Updates: 1
2025-08-25 04:09:00.812 INFO  com.matt.wiki.job.DocJob                          :33   [32m614883875885289472[0;39m 更新电子书下的文档数据结束，耗时：811毫秒
2025-08-25 04:09:00.812 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614883879286870016[0;39m 生成今日电子书快照开始
2025-08-25 04:09:00.812 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614883879286870016[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:09:00.813 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614883879286870016[0;39m ==> Parameters: 
2025-08-25 04:09:01.294 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614883879286870016[0;39m <==    Updates: 0
2025-08-25 04:09:01.294 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614883879286870016[0;39m 生成今日电子书快照结束，耗时：482毫秒
2025-08-25 04:10:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614884127560306688[0;39m 生成今日电子书快照开始
2025-08-25 04:10:00.272 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614884127560306688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:10:00.273 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614884127560306688[0;39m ==> Parameters: 
2025-08-25 04:10:00.819 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614884127560306688[0;39m <==    Updates: 0
2025-08-25 04:10:00.820 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614884127560306688[0;39m 生成今日电子书快照结束，耗时：815毫秒
2025-08-25 04:10:00.820 INFO  com.matt.wiki.job.DocJob                          :30   [32m614884130978664448[0;39m 更新电子书下的文档数据开始
2025-08-25 04:10:00.821 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614884130978664448[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:10:00.821 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614884130978664448[0;39m ==> Parameters: 
2025-08-25 04:10:01.327 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614884130978664448[0;39m <==    Updates: 1
2025-08-25 04:10:01.328 INFO  com.matt.wiki.job.DocJob                          :33   [32m614884130978664448[0;39m 更新电子书下的文档数据结束，耗时：508毫秒
2025-08-25 04:11:00.004 INFO  com.matt.wiki.job.DocJob                          :30   [32m614884379214352384[0;39m 更新电子书下的文档数据开始
2025-08-25 04:11:00.247 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614884379214352384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:11:00.248 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614884379214352384[0;39m ==> Parameters: 
2025-08-25 04:11:00.787 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614884379214352384[0;39m <==    Updates: 1
2025-08-25 04:11:00.787 INFO  com.matt.wiki.job.DocJob                          :33   [32m614884379214352384[0;39m 更新电子书下的文档数据结束，耗时：783毫秒
2025-08-25 04:11:00.787 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614884382498492416[0;39m 生成今日电子书快照开始
2025-08-25 04:11:00.787 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614884382498492416[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:11:00.788 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614884382498492416[0;39m ==> Parameters: 
2025-08-25 04:11:01.405 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614884382498492416[0;39m <==    Updates: 0
2025-08-25 04:11:01.405 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614884382498492416[0;39m 生成今日电子书快照结束，耗时：618毫秒
2025-08-25 04:12:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614884630876786688[0;39m 生成今日电子书快照开始
2025-08-25 04:12:00.286 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614884630876786688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:12:00.287 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614884630876786688[0;39m ==> Parameters: 
2025-08-25 04:12:00.798 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614884630876786688[0;39m <==    Updates: 0
2025-08-25 04:12:00.799 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614884630876786688[0;39m 生成今日电子书快照结束，耗时：794毫秒
2025-08-25 04:12:00.799 INFO  com.matt.wiki.job.DocJob                          :30   [32m614884634207064064[0;39m 更新电子书下的文档数据开始
2025-08-25 04:12:00.799 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614884634207064064[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:12:00.799 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614884634207064064[0;39m ==> Parameters: 
2025-08-25 04:12:01.290 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614884634207064064[0;39m <==    Updates: 1
2025-08-25 04:12:01.291 INFO  com.matt.wiki.job.DocJob                          :33   [32m614884634207064064[0;39m 更新电子书下的文档数据结束，耗时：492毫秒
2025-08-25 04:13:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614884882535026688[0;39m 更新电子书下的文档数据开始
2025-08-25 04:13:00.245 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614884882535026688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:13:00.245 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614884882535026688[0;39m ==> Parameters: 
2025-08-25 04:13:00.793 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614884882535026688[0;39m <==    Updates: 1
2025-08-25 04:13:00.793 INFO  com.matt.wiki.job.DocJob                          :33   [32m614884882535026688[0;39m 更新电子书下的文档数据结束，耗时：788毫秒
2025-08-25 04:13:00.793 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614884885840138240[0;39m 生成今日电子书快照开始
2025-08-25 04:13:00.794 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614884885840138240[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:13:00.794 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614884885840138240[0;39m ==> Parameters: 
2025-08-25 04:13:01.419 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614884885840138240[0;39m <==    Updates: 0
2025-08-25 04:13:01.419 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614884885840138240[0;39m 生成今日电子书快照结束，耗时：626毫秒
2025-08-25 04:14:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614885134193266688[0;39m 生成今日电子书快照开始
2025-08-25 04:14:00.248 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614885134193266688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:14:00.249 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614885134193266688[0;39m ==> Parameters: 
2025-08-25 04:14:00.796 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614885134193266688[0;39m <==    Updates: 0
2025-08-25 04:14:00.797 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614885134193266688[0;39m 生成今日电子书快照结束，耗时：791毫秒
2025-08-25 04:14:00.797 INFO  com.matt.wiki.job.DocJob                          :30   [32m614885137515155456[0;39m 更新电子书下的文档数据开始
2025-08-25 04:14:00.797 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614885137515155456[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:14:00.798 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614885137515155456[0;39m ==> Parameters: 
2025-08-25 04:14:01.281 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614885137515155456[0;39m <==    Updates: 1
2025-08-25 04:14:01.281 INFO  com.matt.wiki.job.DocJob                          :33   [32m614885137515155456[0;39m 更新电子书下的文档数据结束，耗时：484毫秒
2025-08-25 04:15:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614885385851506688[0;39m 更新电子书下的文档数据开始
2025-08-25 04:15:00.248 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614885385851506688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:15:00.249 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614885385851506688[0;39m ==> Parameters: 
2025-08-25 04:15:00.729 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614885385851506688[0;39m <==    Updates: 1
2025-08-25 04:15:00.729 INFO  com.matt.wiki.job.DocJob                          :33   [32m614885385851506688[0;39m 更新电子书下的文档数据结束，耗时：724毫秒
2025-08-25 04:15:00.729 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614885388888182784[0;39m 生成今日电子书快照开始
2025-08-25 04:15:00.729 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614885388888182784[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:15:00.730 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614885388888182784[0;39m ==> Parameters: 
2025-08-25 04:15:01.210 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614885388888182784[0;39m <==    Updates: 0
2025-08-25 04:15:01.210 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614885388888182784[0;39m 生成今日电子书快照结束，耗时：481毫秒
2025-08-25 04:16:00.003 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614885637501358080[0;39m 生成今日电子书快照开始
2025-08-25 04:16:00.244 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614885637501358080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:16:00.245 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614885637501358080[0;39m ==> Parameters: 
2025-08-25 04:16:00.800 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614885637501358080[0;39m <==    Updates: 0
2025-08-25 04:16:00.800 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614885637501358080[0;39m 生成今日电子书快照结束，耗时：797毫秒
2025-08-25 04:16:00.801 INFO  com.matt.wiki.job.DocJob                          :30   [32m614885640848412672[0;39m 更新电子书下的文档数据开始
2025-08-25 04:16:00.801 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614885640848412672[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:16:00.801 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614885640848412672[0;39m ==> Parameters: 
2025-08-25 04:16:01.440 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614885640848412672[0;39m <==    Updates: 1
2025-08-25 04:16:01.440 INFO  com.matt.wiki.job.DocJob                          :33   [32m614885640848412672[0;39m 更新电子书下的文档数据结束，耗时：639毫秒
2025-08-25 04:17:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614885889167986688[0;39m 更新电子书下的文档数据开始
2025-08-25 04:17:00.245 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614885889167986688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:17:00.246 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614885889167986688[0;39m ==> Parameters: 
2025-08-25 04:17:00.802 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614885889167986688[0;39m <==    Updates: 1
2025-08-25 04:17:00.803 INFO  com.matt.wiki.job.DocJob                          :33   [32m614885889167986688[0;39m 更新电子书下的文档数据结束，耗时：798毫秒
2025-08-25 04:17:00.803 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614885892515041280[0;39m 生成今日电子书快照开始
2025-08-25 04:17:00.803 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614885892515041280[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:17:00.804 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614885892515041280[0;39m ==> Parameters: 
2025-08-25 04:17:01.447 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614885892515041280[0;39m <==    Updates: 0
2025-08-25 04:17:01.448 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614885892515041280[0;39m 生成今日电子书快照结束，耗时：645毫秒
2025-08-25 04:18:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614886140822032384[0;39m 生成今日电子书快照开始
2025-08-25 04:18:00.244 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614886140822032384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:18:00.245 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614886140822032384[0;39m ==> Parameters: 
2025-08-25 04:18:00.739 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614886140822032384[0;39m <==    Updates: 0
2025-08-25 04:18:00.739 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614886140822032384[0;39m 生成今日电子书快照结束，耗时：734毫秒
2025-08-25 04:18:00.740 INFO  com.matt.wiki.job.DocJob                          :30   [32m614886143909040128[0;39m 更新电子书下的文档数据开始
2025-08-25 04:18:00.740 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614886143909040128[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:18:00.741 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614886143909040128[0;39m ==> Parameters: 
2025-08-25 04:18:01.223 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614886143909040128[0;39m <==    Updates: 1
2025-08-25 04:18:01.224 INFO  com.matt.wiki.job.DocJob                          :33   [32m614886143909040128[0;39m 更新电子书下的文档数据结束，耗时：484毫秒
2025-08-25 04:19:00.003 INFO  com.matt.wiki.job.DocJob                          :30   [32m614886392476078080[0;39m 更新电子书下的文档数据开始
2025-08-25 04:19:00.335 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614886392476078080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:19:00.336 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614886392476078080[0;39m ==> Parameters: 
2025-08-25 04:19:00.814 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614886392476078080[0;39m <==    Updates: 1
2025-08-25 04:19:00.815 INFO  com.matt.wiki.job.DocJob                          :33   [32m614886392476078080[0;39m 更新电子书下的文档数据结束，耗时：811毫秒
2025-08-25 04:19:00.815 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614886395881852928[0;39m 生成今日电子书快照开始
2025-08-25 04:19:00.815 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614886395881852928[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:19:00.815 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614886395881852928[0;39m ==> Parameters: 
2025-08-25 04:19:01.295 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614886395881852928[0;39m <==    Updates: 0
2025-08-25 04:19:01.295 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614886395881852928[0;39m 生成今日电子书快照结束，耗时：480毫秒
2025-08-25 04:19:03.370 INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener:211  [32m                  [0;39m Restarting due to 92 class path changes (0 additions, 92 deletions, 0 modifications)
2025-08-25 04:19:03.371 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :54   [32m                  [0;39m Commencing graceful shutdown. Waiting for active requests to complete
2025-08-25 04:19:03.373 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :76   [32m                  [0;39m Graceful shutdown complete
2025-08-25 04:19:03.374 INFO  com.zaxxer.hikari.HikariDataSource                :349  [32m                  [0;39m HikariPool-4 - Shutdown initiated...
2025-08-25 04:19:03.375 INFO  com.zaxxer.hikari.HikariDataSource                :351  [32m                  [0;39m HikariPool-4 - Shutdown completed.
2025-08-25 04:19:03.427 INFO  com.matt.wiki.WikiApplication                     :53   [32m                  [0;39m Starting WikiApplication using Java 20.0.1 with PID 76163 (/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:19:03.428 INFO  com.matt.wiki.WikiApplication                     :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:19:03.506 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:19:03.506 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:19:03.510 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-08-25 04:19:03.566 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :111  [32m                  [0;39m Tomcat initialized with port 8080 (http)
2025-08-25 04:19:03.567 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Starting service [Tomcat]
2025-08-25 04:19:03.567 INFO  org.apache.catalina.core.StandardEngine           :168  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-25 04:19:03.570 INFO  o.a.c.c.ContainerBase.[Tomcat-2].[localhost].[/]  :168  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-08-25 04:19:03.570 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :301  [32m                  [0;39m Root WebApplicationContext: initialization completed in 141 ms
2025-08-25 04:19:03.746 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2025-08-25 04:19:03.753 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :243  [32m                  [0;39m Tomcat started on port 8080 (http) with context path '/'
2025-08-25 04:19:03.755 INFO  com.matt.wiki.WikiApplication                     :59   [32m                  [0;39m Started WikiApplication in 0.348 seconds (process running for 11911.086)
2025-08-25 04:19:03.756 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :58   [32m                  [0;39m Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   JacksonAutoConfiguration.JacksonObjectMapperConfiguration#jacksonObjectMapper matched:
      - @ConditionalOnMissingBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-08-25 04:19:03.756 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m Start Successful
2025-08-25 04:19:03.756 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m 地址:	http://127.0.0.1:8080
2025-08-25 04:19:05.163 INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener:211  [32m                  [0;39m Restarting due to 92 class path changes (92 additions, 0 deletions, 0 modifications)
2025-08-25 04:19:05.164 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :54   [32m                  [0;39m Commencing graceful shutdown. Waiting for active requests to complete
2025-08-25 04:19:05.165 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :76   [32m                  [0;39m Graceful shutdown complete
2025-08-25 04:19:05.227 INFO  com.matt.wiki.WikiApplication                     :53   [32m                  [0;39m Starting WikiApplication using Java 20.0.1 with PID 76163 (/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:19:05.227 INFO  com.matt.wiki.WikiApplication                     :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:19:05.311 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:19:05.311 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:19:05.314 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-08-25 04:19:05.378 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :111  [32m                  [0;39m Tomcat initialized with port 8080 (http)
2025-08-25 04:19:05.379 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Starting service [Tomcat]
2025-08-25 04:19:05.379 INFO  org.apache.catalina.core.StandardEngine           :168  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-25 04:19:05.382 INFO  o.a.c.c.ContainerBase.[Tomcat-2].[localhost].[/]  :168  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-08-25 04:19:05.382 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :301  [32m                  [0;39m Root WebApplicationContext: initialization completed in 154 ms
2025-08-25 04:19:05.633 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2025-08-25 04:19:05.640 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :243  [32m                  [0;39m Tomcat started on port 8080 (http) with context path '/'
2025-08-25 04:19:05.643 INFO  com.matt.wiki.WikiApplication                     :59   [32m                  [0;39m Started WikiApplication in 0.427 seconds (process running for 11912.974)
2025-08-25 04:19:05.643 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :58   [32m                  [0;39m Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   JacksonAutoConfiguration.JacksonObjectMapperConfiguration#jacksonObjectMapper:
      Did not match:
         - @ConditionalOnMissingBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) found beans of type 'com.fasterxml.jackson.databind.ObjectMapper' jacksonObjectMapper (OnBeanCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-08-25 04:19:05.643 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m Start Successful
2025-08-25 04:19:05.644 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m 地址:	http://127.0.0.1:8080
2025-08-25 04:20:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614886644142706688[0;39m 生成今日电子书快照开始
2025-08-25 04:20:00.006 INFO  com.zaxxer.hikari.HikariDataSource                :109  [32m614886644142706688[0;39m HikariPool-5 - Starting...
2025-08-25 04:20:02.698 INFO  com.zaxxer.hikari.pool.HikariPool                 :575  [32m614886644142706688[0;39m HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@581d14f8
2025-08-25 04:20:02.698 INFO  com.zaxxer.hikari.HikariDataSource                :122  [32m614886644142706688[0;39m HikariPool-5 - Start completed.
2025-08-25 04:20:02.699 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614886644142706688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:20:02.699 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614886644142706688[0;39m ==> Parameters: 
2025-08-25 04:20:03.184 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614886644142706688[0;39m <==    Updates: 0
2025-08-25 04:20:03.184 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614886644142706688[0;39m 生成今日电子书快照结束，耗时：3178毫秒
2025-08-25 04:20:03.184 INFO  com.matt.wiki.job.DocJob                          :30   [32m614886657476399104[0;39m 更新电子书下的文档数据开始
2025-08-25 04:20:03.185 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614886657476399104[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:20:03.185 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614886657476399104[0;39m ==> Parameters: 
2025-08-25 04:20:03.668 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614886657476399104[0;39m <==    Updates: 1
2025-08-25 04:20:03.668 INFO  com.matt.wiki.job.DocJob                          :33   [32m614886657476399104[0;39m 更新电子书下的文档数据结束，耗时：484毫秒
2025-08-25 04:21:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614886895800946688[0;39m 更新电子书下的文档数据开始
2025-08-25 04:21:00.351 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614886895800946688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:21:00.351 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614886895800946688[0;39m ==> Parameters: 
2025-08-25 04:21:00.898 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614886895800946688[0;39m <==    Updates: 1
2025-08-25 04:21:00.899 INFO  com.matt.wiki.job.DocJob                          :33   [32m614886895800946688[0;39m 更新电子书下的文档数据结束，耗时：893毫秒
2025-08-25 04:21:00.899 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614886899550654464[0;39m 生成今日电子书快照开始
2025-08-25 04:21:00.899 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614886899550654464[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:21:00.900 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614886899550654464[0;39m ==> Parameters: 
2025-08-25 04:21:01.475 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614886899550654464[0;39m <==    Updates: 0
2025-08-25 04:21:01.478 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614886899550654464[0;39m 生成今日电子书快照结束，耗时：579毫秒
2025-08-25 04:22:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614887147459186688[0;39m 生成今日电子书快照开始
2025-08-25 04:22:00.254 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614887147459186688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:22:00.254 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614887147459186688[0;39m ==> Parameters: 
2025-08-25 04:22:00.741 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614887147459186688[0;39m <==    Updates: 0
2025-08-25 04:22:00.741 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614887147459186688[0;39m 生成今日电子书快照结束，耗时：736毫秒
2025-08-25 04:22:00.741 INFO  com.matt.wiki.job.DocJob                          :30   [32m614887150546194432[0;39m 更新电子书下的文档数据开始
2025-08-25 04:22:00.741 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614887150546194432[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:22:00.741 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614887150546194432[0;39m ==> Parameters: 
2025-08-25 04:22:01.225 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614887150546194432[0;39m <==    Updates: 1
2025-08-25 04:22:01.225 INFO  com.matt.wiki.job.DocJob                          :33   [32m614887150546194432[0;39m 更新电子书下的文档数据结束，耗时：484毫秒
2025-08-25 04:23:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614887399100649472[0;39m 更新电子书下的文档数据开始
2025-08-25 04:23:00.261 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614887399100649472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:23:00.261 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614887399100649472[0;39m ==> Parameters: 
2025-08-25 04:23:00.773 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614887399100649472[0;39m <==    Updates: 1
2025-08-25 04:23:00.773 INFO  com.matt.wiki.job.DocJob                          :33   [32m614887399100649472[0;39m 更新电子书下的文档数据结束，耗时：772毫秒
2025-08-25 04:23:00.773 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614887402338652160[0;39m 生成今日电子书快照开始
2025-08-25 04:23:00.773 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614887402338652160[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:23:00.773 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614887402338652160[0;39m ==> Parameters: 
2025-08-25 04:23:01.256 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614887402338652160[0;39m <==    Updates: 0
2025-08-25 04:23:01.257 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614887402338652160[0;39m 生成今日电子书快照结束，耗时：484毫秒
2025-08-25 04:23:13.533 INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener:211  [32m                  [0;39m Restarting due to 92 class path changes (0 additions, 0 deletions, 92 modifications)
2025-08-25 04:23:13.535 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :54   [32m                  [0;39m Commencing graceful shutdown. Waiting for active requests to complete
2025-08-25 04:23:13.537 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :76   [32m                  [0;39m Graceful shutdown complete
2025-08-25 04:23:13.539 INFO  com.zaxxer.hikari.HikariDataSource                :349  [32m                  [0;39m HikariPool-5 - Shutdown initiated...
2025-08-25 04:23:13.541 INFO  com.zaxxer.hikari.HikariDataSource                :351  [32m                  [0;39m HikariPool-5 - Shutdown completed.
2025-08-25 04:23:13.590 INFO  com.matt.wiki.WikiApplication                     :53   [32m                  [0;39m Starting WikiApplication using Java 20.0.1 with PID 76163 (/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:23:13.590 INFO  com.matt.wiki.WikiApplication                     :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:23:13.652 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:23:13.652 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:23:13.654 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-08-25 04:23:13.714 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :111  [32m                  [0;39m Tomcat initialized with port 8080 (http)
2025-08-25 04:23:13.714 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Starting service [Tomcat]
2025-08-25 04:23:13.714 INFO  org.apache.catalina.core.StandardEngine           :168  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-25 04:23:13.718 INFO  o.a.c.c.ContainerBase.[Tomcat-2].[localhost].[/]  :168  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-08-25 04:23:13.718 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :301  [32m                  [0;39m Root WebApplicationContext: initialization completed in 127 ms
2025-08-25 04:23:13.997 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2025-08-25 04:23:14.005 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :243  [32m                  [0;39m Tomcat started on port 8080 (http) with context path '/'
2025-08-25 04:23:14.007 INFO  com.matt.wiki.WikiApplication                     :59   [32m                  [0;39m Started WikiApplication in 0.431 seconds (process running for 12161.337)
2025-08-25 04:23:14.008 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2025-08-25 04:23:14.008 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m Start Successful
2025-08-25 04:23:14.008 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m 地址:	http://127.0.0.1:8080
2025-08-25 04:23:45.552 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.2.Final
2025-08-25 04:23:45.568 INFO  com.matt.wiki.LLMTest                             :53   [32m                  [0;39m Starting LLMTest using Java 20.0.1 with PID 78724 (started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:23:45.569 INFO  com.matt.wiki.LLMTest                             :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:23:45.705 INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener:211  [32m                  [0;39m Restarting due to 14 class path changes (0 additions, 0 deletions, 14 modifications)
2025-08-25 04:23:45.706 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :54   [32m                  [0;39m Commencing graceful shutdown. Waiting for active requests to complete
2025-08-25 04:23:45.708 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :76   [32m                  [0;39m Graceful shutdown complete
2025-08-25 04:23:45.769 INFO  com.matt.wiki.WikiApplication                     :53   [32m                  [0;39m Starting WikiApplication using Java 20.0.1 with PID 76163 (/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:23:45.769 INFO  com.matt.wiki.WikiApplication                     :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:23:45.836 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:23:45.836 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:23:45.839 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-08-25 04:23:45.896 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :111  [32m                  [0;39m Tomcat initialized with port 8080 (http)
2025-08-25 04:23:45.896 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Starting service [Tomcat]
2025-08-25 04:23:45.897 INFO  org.apache.catalina.core.StandardEngine           :168  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-25 04:23:45.900 INFO  o.a.c.c.ContainerBase.[Tomcat-2].[localhost].[/]  :168  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-08-25 04:23:45.900 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :301  [32m                  [0;39m Root WebApplicationContext: initialization completed in 130 ms
2025-08-25 04:23:45.952 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:23:45.953 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:23:45.994 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2025-08-25 04:23:46.207 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2025-08-25 04:23:46.215 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :243  [32m                  [0;39m Tomcat started on port 8080 (http) with context path '/'
2025-08-25 04:23:46.218 INFO  com.matt.wiki.WikiApplication                     :59   [32m                  [0;39m Started WikiApplication in 0.462 seconds (process running for 12193.547)
2025-08-25 04:23:46.218 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2025-08-25 04:23:46.218 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m Start Successful
2025-08-25 04:23:46.218 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m 地址:	http://127.0.0.1:8080
2025-08-25 04:23:46.638 WARN  o.s.w.context.support.GenericWebApplicationContext:635  [32m                  [0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/matt/wiki/config/WebSocketConfig.class]: jakarta.websocket.server.ServerContainer not available
2025-08-25 04:23:46.660 INFO  o.s.b.a.logging.ConditionEvaluationReportLogger   :82   [32m                  [0;39m 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-25 04:23:46.671 ERROR org.springframework.boot.SpringApplication        :857  [32m                  [0;39m Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/matt/wiki/config/WebSocketConfig.class]: jakarta.websocket.server.ServerContainer not available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.lang.IllegalStateException: jakarta.websocket.server.ServerContainer not available
	at org.springframework.util.Assert.state(Assert.java:79)
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.afterPropertiesSet(ServerEndpointExporter.java:107)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 101 common frames omitted
2025-08-25 04:23:46.673 WARN  o.springframework.test.context.TestContextManager :272  [32m                  [0;39m Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.matt.wiki.LLMTest@1e7cfd49]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2cacb445 testClass = com.matt.wiki.LLMTest, locations = [], classes = [com.matt.wiki.WikiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4082ba93, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@43df23d3, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4d0d9fe7, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@7a5ceedd, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@6cb107fd, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@1c742ed4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@80f4e763], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/matt/wiki/config/WebSocketConfig.class]: jakarta.websocket.server.ServerContainer not available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 78 common frames omitted
Caused by: java.lang.IllegalStateException: jakarta.websocket.server.ServerContainer not available
	at org.springframework.util.Assert.state(Assert.java:79)
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.afterPropertiesSet(ServerEndpointExporter.java:107)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 101 common frames omitted
2025-08-25 04:24:00.004 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614887650771472384[0;39m 生成今日电子书快照开始
2025-08-25 04:24:00.005 INFO  com.zaxxer.hikari.HikariDataSource                :109  [32m614887650771472384[0;39m HikariPool-6 - Starting...
2025-08-25 04:24:02.624 INFO  com.zaxxer.hikari.pool.HikariPool                 :575  [32m614887650771472384[0;39m HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7eb42366
2025-08-25 04:24:02.624 INFO  com.zaxxer.hikari.HikariDataSource                :122  [32m614887650771472384[0;39m HikariPool-6 - Start completed.
2025-08-25 04:24:02.625 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614887650771472384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:24:02.627 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614887650771472384[0;39m ==> Parameters: 
2025-08-25 04:24:03.107 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614887650771472384[0;39m <==    Updates: 0
2025-08-25 04:24:03.108 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614887650771472384[0;39m 生成今日电子书快照结束，耗时：3104毫秒
2025-08-25 04:24:03.108 INFO  com.matt.wiki.job.DocJob                          :30   [32m614887663790592000[0;39m 更新电子书下的文档数据开始
2025-08-25 04:24:03.108 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614887663790592000[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:24:03.109 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614887663790592000[0;39m ==> Parameters: 
2025-08-25 04:24:03.590 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614887663790592000[0;39m <==    Updates: 1
2025-08-25 04:24:03.590 INFO  com.matt.wiki.job.DocJob                          :33   [32m614887663790592000[0;39m 更新电子书下的文档数据结束，耗时：482毫秒
2025-08-25 04:24:04.226 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.2.Final
2025-08-25 04:24:04.236 INFO  com.matt.wiki.LLMTest                             :53   [32m                  [0;39m Starting LLMTest using Java 20.0.1 with PID 78739 (started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:24:04.237 INFO  com.matt.wiki.LLMTest                             :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:24:04.596 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:24:04.598 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:24:04.613 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-08-25 04:24:05.292 WARN  o.s.w.context.support.GenericWebApplicationContext:635  [32m                  [0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/matt/wiki/config/WebSocketConfig.class]: jakarta.websocket.server.ServerContainer not available
2025-08-25 04:24:05.313 INFO  o.s.b.a.logging.ConditionEvaluationReportLogger   :82   [32m                  [0;39m 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-25 04:24:05.323 ERROR org.springframework.boot.SpringApplication        :857  [32m                  [0;39m Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/matt/wiki/config/WebSocketConfig.class]: jakarta.websocket.server.ServerContainer not available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.lang.IllegalStateException: jakarta.websocket.server.ServerContainer not available
	at org.springframework.util.Assert.state(Assert.java:79)
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.afterPropertiesSet(ServerEndpointExporter.java:107)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 101 common frames omitted
2025-08-25 04:24:05.325 WARN  o.springframework.test.context.TestContextManager :272  [32m                  [0;39m Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.matt.wiki.LLMTest@5b59c3d]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@5f5a33ed testClass = com.matt.wiki.LLMTest, locations = [], classes = [com.matt.wiki.WikiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4082ba93, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@43df23d3, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4d0d9fe7, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@7a5ceedd, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@6cb107fd, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@1c742ed4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@80f4e763], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/matt/wiki/config/WebSocketConfig.class]: jakarta.websocket.server.ServerContainer not available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 78 common frames omitted
Caused by: java.lang.IllegalStateException: jakarta.websocket.server.ServerContainer not available
	at org.springframework.util.Assert.state(Assert.java:79)
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.afterPropertiesSet(ServerEndpointExporter.java:107)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 101 common frames omitted
2025-08-25 04:25:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614887902433906688[0;39m 更新电子书下的文档数据开始
2025-08-25 04:25:00.249 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614887902433906688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:25:00.250 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614887902433906688[0;39m ==> Parameters: 
2025-08-25 04:25:00.730 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614887902433906688[0;39m <==    Updates: 1
2025-08-25 04:25:00.730 INFO  com.matt.wiki.job.DocJob                          :33   [32m614887902433906688[0;39m 更新电子书下的文档数据结束，耗时：725毫秒
2025-08-25 04:25:00.730 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614887905474777088[0;39m 生成今日电子书快照开始
2025-08-25 04:25:00.730 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614887905474777088[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:25:00.731 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614887905474777088[0;39m ==> Parameters: 
2025-08-25 04:25:01.212 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614887905474777088[0;39m <==    Updates: 0
2025-08-25 04:25:01.212 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614887905474777088[0;39m 生成今日电子书快照结束，耗时：482毫秒
2025-08-25 04:26:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614888154092146688[0;39m 生成今日电子书快照开始
2025-08-25 04:26:00.250 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614888154092146688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:26:00.251 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614888154092146688[0;39m ==> Parameters: 
2025-08-25 04:26:00.732 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614888154092146688[0;39m <==    Updates: 0
2025-08-25 04:26:00.733 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614888154092146688[0;39m 生成今日电子书快照结束，耗时：728毫秒
2025-08-25 04:26:00.733 INFO  com.matt.wiki.job.DocJob                          :30   [32m614888157145600000[0;39m 更新电子书下的文档数据开始
2025-08-25 04:26:00.733 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614888157145600000[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:26:00.733 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614888157145600000[0;39m ==> Parameters: 
2025-08-25 04:26:01.214 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614888157145600000[0;39m <==    Updates: 1
2025-08-25 04:26:01.215 INFO  com.matt.wiki.job.DocJob                          :33   [32m614888157145600000[0;39m 更新电子书下的文档数据结束，耗时：482毫秒
2025-08-25 04:27:00.003 INFO  com.matt.wiki.job.DocJob                          :30   [32m614888405741998080[0;39m 更新电子书下的文档数据开始
2025-08-25 04:27:00.289 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614888405741998080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:27:00.290 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614888405741998080[0;39m ==> Parameters: 
2025-08-25 04:27:00.801 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614888405741998080[0;39m <==    Updates: 1
2025-08-25 04:27:00.802 INFO  com.matt.wiki.job.DocJob                          :33   [32m614888405741998080[0;39m 更新电子书下的文档数据结束，耗时：797毫秒
2025-08-25 04:27:00.802 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614888409093246976[0;39m 生成今日电子书快照开始
2025-08-25 04:27:00.802 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614888409093246976[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:27:00.803 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614888409093246976[0;39m ==> Parameters: 
2025-08-25 04:27:01.285 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614888409093246976[0;39m <==    Updates: 0
2025-08-25 04:27:01.286 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614888409093246976[0;39m 生成今日电子书快照结束，耗时：484毫秒
2025-08-25 04:28:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614888657391849472[0;39m 生成今日电子书快照开始
2025-08-25 04:28:00.242 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614888657391849472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:28:00.243 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614888657391849472[0;39m ==> Parameters: 
2025-08-25 04:28:00.809 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614888657391849472[0;39m <==    Updates: 0
2025-08-25 04:28:00.810 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614888657391849472[0;39m 生成今日电子书快照结束，耗时：808毫秒
2025-08-25 04:28:00.810 INFO  com.matt.wiki.job.DocJob                          :30   [32m614888660785041408[0;39m 更新电子书下的文档数据开始
2025-08-25 04:28:00.811 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614888660785041408[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:28:00.811 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614888660785041408[0;39m ==> Parameters: 
2025-08-25 04:28:01.293 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614888660785041408[0;39m <==    Updates: 1
2025-08-25 04:28:01.294 INFO  com.matt.wiki.job.DocJob                          :33   [32m614888660785041408[0;39m 更新电子书下的文档数据结束，耗时：484毫秒
2025-08-25 04:29:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614888909066866688[0;39m 更新电子书下的文档数据开始
2025-08-25 04:29:00.250 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614888909066866688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:29:00.250 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614888909066866688[0;39m ==> Parameters: 
2025-08-25 04:29:00.817 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614888909066866688[0;39m <==    Updates: 1
2025-08-25 04:29:00.818 INFO  com.matt.wiki.job.DocJob                          :33   [32m614888909066866688[0;39m 更新电子书下的文档数据结束，耗时：812毫秒
2025-08-25 04:29:00.818 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614888912476835840[0;39m 生成今日电子书快照开始
2025-08-25 04:29:00.818 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614888912476835840[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:29:00.819 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614888912476835840[0;39m ==> Parameters: 
2025-08-25 04:29:01.430 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614888912476835840[0;39m <==    Updates: 0
2025-08-25 04:29:01.430 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614888912476835840[0;39m 生成今日电子书快照结束，耗时：612毫秒
2025-08-25 04:30:00.001 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614889160708329472[0;39m 生成今日电子书快照开始
2025-08-25 04:30:00.310 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614889160708329472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:30:00.311 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614889160708329472[0;39m ==> Parameters: 
2025-08-25 04:30:00.821 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614889160708329472[0;39m <==    Updates: 0
2025-08-25 04:30:00.822 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614889160708329472[0;39m 生成今日电子书快照结束，耗时：821毫秒
2025-08-25 04:30:00.822 INFO  com.matt.wiki.job.DocJob                          :30   [32m614889164151853056[0;39m 更新电子书下的文档数据开始
2025-08-25 04:30:00.822 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614889164151853056[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:30:00.822 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614889164151853056[0;39m ==> Parameters: 
2025-08-25 04:30:01.303 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614889164151853056[0;39m <==    Updates: 1
2025-08-25 04:30:01.303 INFO  com.matt.wiki.job.DocJob                          :33   [32m614889164151853056[0;39m 更新电子书下的文档数据结束，耗时：481毫秒
2025-08-25 04:31:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614889412383346688[0;39m 更新电子书下的文档数据开始
2025-08-25 04:31:00.245 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614889412383346688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:31:00.246 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614889412383346688[0;39m ==> Parameters: 
2025-08-25 04:31:00.727 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614889412383346688[0;39m <==    Updates: 1
2025-08-25 04:31:00.727 INFO  com.matt.wiki.job.DocJob                          :33   [32m614889412383346688[0;39m 更新电子书下的文档数据结束，耗时：722毫秒
2025-08-25 04:31:00.727 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614889415411634176[0;39m 生成今日电子书快照开始
2025-08-25 04:31:00.727 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614889415411634176[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:31:00.728 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614889415411634176[0;39m ==> Parameters: 
2025-08-25 04:31:01.209 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614889415411634176[0;39m <==    Updates: 0
2025-08-25 04:31:01.209 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614889415411634176[0;39m 生成今日电子书快照结束，耗时：482毫秒
2025-08-25 04:32:00.000 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614889664020615168[0;39m 生成今日电子书快照开始
2025-08-25 04:32:00.325 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614889664020615168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:32:00.325 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614889664020615168[0;39m ==> Parameters: 
2025-08-25 04:32:00.827 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614889664020615168[0;39m <==    Updates: 0
2025-08-25 04:32:00.827 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614889664020615168[0;39m 生成今日电子书快照结束，耗时：826毫秒
2025-08-25 04:32:00.827 INFO  com.matt.wiki.job.DocJob                          :30   [32m614889667489304576[0;39m 更新电子书下的文档数据开始
2025-08-25 04:32:00.828 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614889667489304576[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:32:00.828 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614889667489304576[0;39m ==> Parameters: 
2025-08-25 04:32:01.319 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614889667489304576[0;39m <==    Updates: 1
2025-08-25 04:32:01.319 INFO  com.matt.wiki.job.DocJob                          :33   [32m614889667489304576[0;39m 更新电子书下的文档数据结束，耗时：492毫秒
2025-08-25 04:32:12.261 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.2.Final
2025-08-25 04:32:12.273 INFO  com.matt.wiki.LLMTest                             :53   [32m                  [0;39m Starting LLMTest using Java 20.0.1 with PID 78988 (started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:32:12.274 INFO  com.matt.wiki.LLMTest                             :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:32:12.631 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:32:12.632 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:32:12.647 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-08-25 04:32:13.267 WARN  o.s.w.context.support.GenericWebApplicationContext:635  [32m                  [0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/matt/wiki/config/WebSocketConfig.class]: jakarta.websocket.server.ServerContainer not available
2025-08-25 04:32:13.284 INFO  o.s.b.a.logging.ConditionEvaluationReportLogger   :82   [32m                  [0;39m 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-25 04:32:13.292 ERROR org.springframework.boot.SpringApplication        :857  [32m                  [0;39m Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/matt/wiki/config/WebSocketConfig.class]: jakarta.websocket.server.ServerContainer not available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.lang.IllegalStateException: jakarta.websocket.server.ServerContainer not available
	at org.springframework.util.Assert.state(Assert.java:79)
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.afterPropertiesSet(ServerEndpointExporter.java:107)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 101 common frames omitted
2025-08-25 04:32:13.295 WARN  o.springframework.test.context.TestContextManager :272  [32m                  [0;39m Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.matt.wiki.LLMTest@5f5a33ed]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2f61de04 testClass = com.matt.wiki.LLMTest, locations = [], classes = [com.matt.wiki.WikiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4082ba93, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@43df23d3, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4d0d9fe7, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@7a5ceedd, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@6cb107fd, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@1c742ed4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@80f4e763], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/matt/wiki/config/WebSocketConfig.class]: jakarta.websocket.server.ServerContainer not available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 78 common frames omitted
Caused by: java.lang.IllegalStateException: jakarta.websocket.server.ServerContainer not available
	at org.springframework.util.Assert.state(Assert.java:79)
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.afterPropertiesSet(ServerEndpointExporter.java:107)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 101 common frames omitted
2025-08-25 04:33:00.000 INFO  com.matt.wiki.job.DocJob                          :30   [32m614889915678855168[0;39m 更新电子书下的文档数据开始
2025-08-25 04:33:00.332 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614889915678855168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:33:00.333 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614889915678855168[0;39m ==> Parameters: 
2025-08-25 04:33:00.881 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614889915678855168[0;39m <==    Updates: 1
2025-08-25 04:33:00.882 INFO  com.matt.wiki.job.DocJob                          :33   [32m614889915678855168[0;39m 更新电子书下的文档数据结束，耗时：881毫秒
2025-08-25 04:33:00.883 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614889919382425600[0;39m 生成今日电子书快照开始
2025-08-25 04:33:00.883 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614889919382425600[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:33:00.884 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614889919382425600[0;39m ==> Parameters: 
2025-08-25 04:33:01.393 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614889919382425600[0;39m <==    Updates: 0
2025-08-25 04:33:01.394 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614889919382425600[0;39m 生成今日电子书快照结束，耗时：511毫秒
2025-08-25 04:34:00.005 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614890167358066688[0;39m 生成今日电子书快照开始
2025-08-25 04:34:00.340 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614890167358066688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:34:00.342 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614890167358066688[0;39m ==> Parameters: 
2025-08-25 04:34:00.888 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614890167358066688[0;39m <==    Updates: 0
2025-08-25 04:34:00.888 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614890167358066688[0;39m 生成今日电子书快照结束，耗时：883毫秒
2025-08-25 04:34:00.889 INFO  com.matt.wiki.job.DocJob                          :30   [32m614890171065831424[0;39m 更新电子书下的文档数据开始
2025-08-25 04:34:00.889 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614890171065831424[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:34:00.889 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614890171065831424[0;39m ==> Parameters: 
2025-08-25 04:34:01.402 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614890171065831424[0;39m <==    Updates: 1
2025-08-25 04:34:01.403 INFO  com.matt.wiki.job.DocJob                          :33   [32m614890171065831424[0;39m 更新电子书下的文档数据结束，耗时：514毫秒
2025-08-25 04:35:00.005 INFO  com.matt.wiki.job.DocJob                          :30   [32m614890419016306688[0;39m 更新电子书下的文档数据开始
2025-08-25 04:35:00.347 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614890419016306688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:35:00.348 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614890419016306688[0;39m ==> Parameters: 
2025-08-25 04:35:00.901 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614890419016306688[0;39m <==    Updates: 1
2025-08-25 04:35:00.901 INFO  com.matt.wiki.job.DocJob                          :33   [32m614890419016306688[0;39m 更新电子书下的文档数据结束，耗时：896毫秒
2025-08-25 04:35:00.903 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614890422782791680[0;39m 生成今日电子书快照开始
2025-08-25 04:35:00.903 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614890422782791680[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:35:00.904 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614890422782791680[0;39m ==> Parameters: 
2025-08-25 04:35:01.386 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614890422782791680[0;39m <==    Updates: 0
2025-08-25 04:35:01.386 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614890422782791680[0;39m 生成今日电子书快照结束，耗时：483毫秒
2025-08-25 04:35:39.886 INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener:211  [32m                  [0;39m Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-25 04:35:39.888 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :54   [32m                  [0;39m Commencing graceful shutdown. Waiting for active requests to complete
2025-08-25 04:35:39.890 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :76   [32m                  [0;39m Graceful shutdown complete
2025-08-25 04:35:39.894 INFO  com.zaxxer.hikari.HikariDataSource                :349  [32m                  [0;39m HikariPool-6 - Shutdown initiated...
2025-08-25 04:35:39.896 INFO  com.zaxxer.hikari.HikariDataSource                :351  [32m                  [0;39m HikariPool-6 - Shutdown completed.
2025-08-25 04:35:39.954 INFO  com.matt.wiki.WikiApplication                     :53   [32m                  [0;39m Starting WikiApplication using Java 20.0.1 with PID 76163 (/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:35:39.954 INFO  com.matt.wiki.WikiApplication                     :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:35:40.027 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:35:40.027 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:35:40.029 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-25 04:35:40.085 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :111  [32m                  [0;39m Tomcat initialized with port 8080 (http)
2025-08-25 04:35:40.086 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Starting service [Tomcat]
2025-08-25 04:35:40.086 INFO  org.apache.catalina.core.StandardEngine           :168  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-25 04:35:40.089 INFO  o.a.c.c.ContainerBase.[Tomcat-2].[localhost].[/]  :168  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-08-25 04:35:40.089 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :301  [32m                  [0;39m Root WebApplicationContext: initialization completed in 133 ms
2025-08-25 04:35:40.354 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2025-08-25 04:35:40.362 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :243  [32m                  [0;39m Tomcat started on port 8080 (http) with context path '/'
2025-08-25 04:35:40.364 INFO  com.matt.wiki.WikiApplication                     :59   [32m                  [0;39m Started WikiApplication in 0.424 seconds (process running for 12907.688)
2025-08-25 04:35:40.364 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2025-08-25 04:35:40.365 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m Start Successful
2025-08-25 04:35:40.365 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m 地址:	http://127.0.0.1:8080
2025-08-25 04:36:00.003 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614890670661963776[0;39m 生成今日电子书快照开始
2025-08-25 04:36:00.003 INFO  com.zaxxer.hikari.HikariDataSource                :109  [32m614890670661963776[0;39m HikariPool-7 - Starting...
2025-08-25 04:36:02.916 INFO  com.zaxxer.hikari.pool.HikariPool                 :575  [32m614890670661963776[0;39m HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5813024b
2025-08-25 04:36:02.917 INFO  com.zaxxer.hikari.HikariDataSource                :122  [32m614890670661963776[0;39m HikariPool-7 - Start completed.
2025-08-25 04:36:02.917 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614890670661963776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:36:02.918 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614890670661963776[0;39m ==> Parameters: 
2025-08-25 04:36:03.400 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614890670661963776[0;39m <==    Updates: 0
2025-08-25 04:36:03.401 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614890670661963776[0;39m 生成今日电子书快照结束，耗时：3398毫秒
2025-08-25 04:36:03.401 INFO  com.matt.wiki.job.DocJob                          :30   [32m614890684918403072[0;39m 更新电子书下的文档数据开始
2025-08-25 04:36:03.402 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614890684918403072[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:36:03.402 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614890684918403072[0;39m ==> Parameters: 
2025-08-25 04:36:03.884 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614890684918403072[0;39m <==    Updates: 1
2025-08-25 04:36:03.885 INFO  com.matt.wiki.job.DocJob                          :33   [32m614890684918403072[0;39m 更新电子书下的文档数据结束，耗时：484毫秒
2025-08-25 04:36:16.436 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.2.Final
2025-08-25 04:36:16.450 INFO  com.matt.wiki.LLMTest                             :53   [32m                  [0;39m Starting LLMTest using Java 20.0.1 with PID 79042 (started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:36:16.451 INFO  com.matt.wiki.LLMTest                             :658  [32m                  [0;39m The following 1 profile is active: "test"
2025-08-25 04:36:17.027 WARN  o.s.w.context.support.GenericWebApplicationContext:635  [32m                  [0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springMvcConfig': Injection of resource dependencies failed
2025-08-25 04:36:17.038 INFO  o.s.b.a.logging.ConditionEvaluationReportLogger   :82   [32m                  [0;39m 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-25 04:36:17.045 ERROR o.s.b.diagnostics.LoggingFailureAnalysisReporter  :40   [32m                  [0;39m 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-25 04:36:17.048 WARN  o.springframework.test.context.TestContextManager :272  [32m                  [0;39m Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.matt.wiki.LLMTest@7a36c83a]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@1c7f9861 testClass = com.matt.wiki.LLMTest, locations = [], classes = [com.matt.wiki.WikiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@302c971f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6f10d5b6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6b695b06, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@2a8448fa, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@5f8e8a9d, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@50378a4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6e234826], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springMvcConfig': Injection of resource dependencies failed
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 78 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginInterceptor': Injection of resource dependencies failed
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:468)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:606)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:577)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:739)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:272)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:369)
	... 102 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<?, ?>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@jakarta.annotation.Resource(shareable=true, lookup="", name="", description="", authenticationType=CONTAINER, type=java.lang.Object.class, mappedName="")}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2284)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:599)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:577)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:739)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:272)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:369)
	... 116 common frames omitted
2025-08-25 04:36:25.940 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :54   [32m                  [0;39m Commencing graceful shutdown. Waiting for active requests to complete
2025-08-25 04:36:25.942 INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown     :76   [32m                  [0;39m Graceful shutdown complete
2025-08-25 04:36:25.943 INFO  com.zaxxer.hikari.HikariDataSource                :349  [32m                  [0;39m HikariPool-7 - Shutdown initiated...
2025-08-25 04:36:25.943 INFO  com.zaxxer.hikari.HikariDataSource                :351  [32m                  [0;39m HikariPool-7 - Shutdown completed.
2025-08-25 04:36:41.713 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.2.Final
2025-08-25 04:36:41.725 INFO  com.matt.wiki.LLMTest                             :53   [32m                  [0;39m Starting LLMTest using Java 20.0.1 with PID 79062 (started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:36:41.725 INFO  com.matt.wiki.LLMTest                             :658  [32m                  [0;39m The following 1 profile is active: "test"
2025-08-25 04:36:42.344 WARN  o.s.w.context.support.GenericWebApplicationContext:635  [32m                  [0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springMvcConfig': Injection of resource dependencies failed
2025-08-25 04:36:42.358 INFO  o.s.b.a.logging.ConditionEvaluationReportLogger   :82   [32m                  [0;39m 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-25 04:36:42.368 ERROR o.s.b.diagnostics.LoggingFailureAnalysisReporter  :40   [32m                  [0;39m 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-25 04:36:42.370 WARN  o.springframework.test.context.TestContextManager :272  [32m                  [0;39m Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.matt.wiki.LLMTest@5520f675]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@4eb9ae4d testClass = com.matt.wiki.LLMTest, locations = [], classes = [com.matt.wiki.WikiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1972e513, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1040be71, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4d1bf319, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@6f204a1a, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@5745ca0e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@60f00693, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6e234826], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springMvcConfig': Injection of resource dependencies failed
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 78 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginInterceptor': Injection of resource dependencies failed
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:468)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:606)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:577)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:739)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:272)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:369)
	... 102 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<?, ?>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@jakarta.annotation.Resource(shareable=true, lookup="", name="", description="", authenticationType=CONTAINER, type=java.lang.Object.class, mappedName="")}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2284)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:599)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:577)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:739)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:272)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:369)
	... 116 common frames omitted
2025-08-25 04:38:26.150 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.2.Final
2025-08-25 04:38:26.169 INFO  com.matt.wiki.WikiApplication                     :53   [32m                  [0;39m Starting WikiApplication using Java 20.0.1 with PID 79094 (/Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki/target/classes started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:38:26.170 INFO  com.matt.wiki.WikiApplication                     :652  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2025-08-25 04:38:26.189 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :252  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-25 04:38:26.189 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :252  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-25 04:38:26.483 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :294  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-25 04:38:26.485 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :145  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-25 04:38:26.499 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :213  [32m                  [0;39m Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-08-25 04:38:26.833 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :111  [32m                  [0;39m Tomcat initialized with port 8080 (http)
2025-08-25 04:38:26.838 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2025-08-25 04:38:26.839 INFO  org.apache.catalina.core.StandardService          :168  [32m                  [0;39m Starting service [Tomcat]
2025-08-25 04:38:26.839 INFO  org.apache.catalina.core.StandardEngine           :168  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-25 04:38:26.853 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :168  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-08-25 04:38:26.853 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :301  [32m                  [0;39m Root WebApplicationContext: initialization completed in 664 ms
2025-08-25 04:38:27.539 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2025-08-25 04:38:27.553 INFO  org.apache.coyote.http11.Http11NioProtocol        :168  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2025-08-25 04:38:27.558 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :243  [32m                  [0;39m Tomcat started on port 8080 (http) with context path '/'
2025-08-25 04:38:27.565 INFO  com.matt.wiki.WikiApplication                     :59   [32m                  [0;39m Started WikiApplication in 1.606 seconds (process running for 1.87)
2025-08-25 04:38:27.566 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m Start Successful
2025-08-25 04:38:27.566 INFO  com.matt.wiki.WikiApplication                     :168  [32m                  [0;39m 地址:	http://127.0.0.1:8080
2025-08-25 04:38:37.393 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.2.Final
2025-08-25 04:38:37.405 INFO  com.matt.wiki.LLMTest                             :53   [32m                  [0;39m Starting LLMTest using Java 20.0.1 with PID 79140 (started by yushuzhan in /Users/yushuzhan/Documents/GitHub/FullStackPractices/wiki)
2025-08-25 04:38:37.405 INFO  com.matt.wiki.LLMTest                             :658  [32m                  [0;39m The following 1 profile is active: "test"
2025-08-25 04:38:37.962 WARN  o.s.w.context.support.GenericWebApplicationContext:635  [32m                  [0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springMvcConfig': Injection of resource dependencies failed
2025-08-25 04:38:37.974 INFO  o.s.b.a.logging.ConditionEvaluationReportLogger   :82   [32m                  [0;39m 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-25 04:38:37.982 ERROR o.s.b.diagnostics.LoggingFailureAnalysisReporter  :40   [32m                  [0;39m 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-25 04:38:37.984 WARN  o.springframework.test.context.TestContextManager :272  [32m                  [0;39m Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.matt.wiki.LLMTest@621f23ac]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@9b2dc56 testClass = com.matt.wiki.LLMTest, locations = [], classes = [com.matt.wiki.WikiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@305ffe9e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@61c4eee0, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4f32a3ad, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@239a307b, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@2de56eb2, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5884a914, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6e234826], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springMvcConfig': Injection of resource dependencies failed
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 78 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginInterceptor': Injection of resource dependencies failed
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:468)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:606)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:577)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:739)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:272)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:369)
	... 102 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<?, ?>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@jakarta.annotation.Resource(shareable=true, lookup="", name="", description="", authenticationType=CONTAINER, type=java.lang.Object.class, mappedName="")}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2284)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:599)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:577)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:739)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:272)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:369)
	... 116 common frames omitted
2025-08-25 04:39:00.009 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614891425666043904[0;39m 生成今日电子书快照开始
2025-08-25 04:39:00.021 INFO  com.zaxxer.hikari.HikariDataSource                :109  [32m614891425666043904[0;39m HikariPool-1 - Starting...
2025-08-25 04:39:02.775 INFO  com.zaxxer.hikari.pool.HikariPool                 :575  [32m614891425666043904[0;39m HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1ac24016
2025-08-25 04:39:02.777 INFO  com.zaxxer.hikari.HikariDataSource                :122  [32m614891425666043904[0;39m HikariPool-1 - Start completed.
2025-08-25 04:39:02.783 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614891425666043904[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:39:02.799 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614891425666043904[0;39m ==> Parameters: 
2025-08-25 04:39:03.299 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614891425666043904[0;39m <==    Updates: 0
2025-08-25 04:39:03.302 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614891425666043904[0;39m 生成今日电子书快照结束，耗时：3293毫秒
2025-08-25 04:39:03.303 INFO  com.matt.wiki.job.DocJob                          :30   [32m614891439482081280[0;39m 更新电子书下的文档数据开始
2025-08-25 04:39:03.303 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614891439482081280[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:39:03.304 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614891439482081280[0;39m ==> Parameters: 
2025-08-25 04:39:03.802 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614891439482081280[0;39m <==    Updates: 1
2025-08-25 04:39:03.802 INFO  com.matt.wiki.job.DocJob                          :33   [32m614891439482081280[0;39m 更新电子书下的文档数据结束，耗时：499毫秒
2025-08-25 04:40:00.001 INFO  com.matt.wiki.job.DocJob                          :30   [32m614891677290729472[0;39m 更新电子书下的文档数据开始
2025-08-25 04:40:00.251 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614891677290729472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-08-25 04:40:00.252 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614891677290729472[0;39m ==> Parameters: 
2025-08-25 04:40:00.751 DEBUG c.matt.wiki.mapper.DocMapperCust.updateEbookInfo  :135  [32m614891677290729472[0;39m <==    Updates: 1
2025-08-25 04:40:00.751 INFO  com.matt.wiki.job.DocJob                          :33   [32m614891677290729472[0;39m 更新电子书下的文档数据结束，耗时：749毫秒
2025-08-25 04:40:00.752 INFO  com.matt.wiki.job.EbookSnapshotJob                :31   [32m614891680440651776[0;39m 生成今日电子书快照开始
2025-08-25 04:40:00.752 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614891680440651776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-08-25 04:40:00.753 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614891680440651776[0;39m ==> Parameters: 
2025-08-25 04:40:01.252 DEBUG c.m.w.mapper.EbookSnapshotMapperCust.genSnapshot  :135  [32m614891680440651776[0;39m <==    Updates: 0
2025-08-25 04:40:01.253 INFO  com.matt.wiki.job.EbookSnapshotJob                :34   [32m614891680440651776[0;39m 生成今日电子书快照结束，耗时：501毫秒
